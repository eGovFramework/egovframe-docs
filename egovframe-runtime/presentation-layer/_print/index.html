<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=ko class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://eGovFramework.github.io/egovframe-docs/egovframe-runtime/presentation-layer/><link rel=alternate type=application/rss+xml href=https://eGovFramework.github.io/egovframe-docs/egovframe-runtime/presentation-layer/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/egovframe-docs/favicons/favicon.ico><link rel=apple-touch-icon href=/egovframe-docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/egovframe-docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/egovframe-docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/egovframe-docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/egovframe-docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/egovframe-docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/egovframe-docs/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/egovframe-docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/egovframe-docs/favicons/android-192x192.png sizes=192x192><title>í™”ë©´ì²˜ë¦¬ | í‘œì¤€í”„ë ˆì„ì›Œí¬ ê°œë°œê°€ì´ë“œ</title><meta name=description content="í™”ë©´ì²˜ë¦¬ ì„œë¹„ìŠ¤ê·¸ë£¹ì€ ì—…ë¬´ì²˜ë¦¬ ì„œë¹„ìŠ¤ì™€ ì‚¬ìš©ìê°„ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ ì‚¬ìš©ì í™”ë©´ êµ¬ì„± ë° ì‚¬ìš©ì ì…ë ¥ ì •ë³´ ê²€ì¦ ë“±ì˜ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤."><meta property="og:title" content="í™”ë©´ì²˜ë¦¬"><meta property="og:description" content="í™”ë©´ì²˜ë¦¬ ì„œë¹„ìŠ¤ê·¸ë£¹ì€ ì—…ë¬´ì²˜ë¦¬ ì„œë¹„ìŠ¤ì™€ ì‚¬ìš©ìê°„ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ ì‚¬ìš©ì í™”ë©´ êµ¬ì„± ë° ì‚¬ìš©ì ì…ë ¥ ì •ë³´ ê²€ì¦ ë“±ì˜ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤."><meta property="og:type" content="website"><meta property="og:url" content="https://eGovFramework.github.io/egovframe-docs/egovframe-runtime/presentation-layer/"><meta itemprop=name content="í™”ë©´ì²˜ë¦¬"><meta itemprop=description content="í™”ë©´ì²˜ë¦¬ ì„œë¹„ìŠ¤ê·¸ë£¹ì€ ì—…ë¬´ì²˜ë¦¬ ì„œë¹„ìŠ¤ì™€ ì‚¬ìš©ìê°„ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ ì‚¬ìš©ì í™”ë©´ êµ¬ì„± ë° ì‚¬ìš©ì ì…ë ¥ ì •ë³´ ê²€ì¦ ë“±ì˜ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤."><meta name=twitter:card content="summary"><meta name=twitter:title content="í™”ë©´ì²˜ë¦¬"><meta name=twitter:description content="í™”ë©´ì²˜ë¦¬ ì„œë¹„ìŠ¤ê·¸ë£¹ì€ ì—…ë¬´ì²˜ë¦¬ ì„œë¹„ìŠ¤ì™€ ì‚¬ìš©ìê°„ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ ì‚¬ìš©ì í™”ë©´ êµ¬ì„± ë° ì‚¬ìš©ì ì…ë ¥ ì •ë³´ ê²€ì¦ ë“±ì˜ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤."><link rel=preload href=/egovframe-docs/scss/main.min.19c9649623f11a8e1a7bf9b22db92c1b1350433f3ac8ceabd50c30ca684a2e5a.css as=style integrity="sha256-GclkliPxGo4ae/myLbksGxNQQz86yM6r1QwwymhKLlo=" crossorigin=anonymous><link href=/egovframe-docs/scss/main.min.19c9649623f11a8e1a7bf9b22db92c1b1350433f3ac8ceabd50c30ca684a2e5a.css rel=stylesheet integrity="sha256-GclkliPxGo4ae/myLbksGxNQQz86yM6r1QwwymhKLlo=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/egovframe-docs/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60" height="25" viewBox="0 0 60 25" enable-background="new 0 0 60 25"><image id="image0" width="60" height="25" x="0" y="0" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAZCAYAAABtnU33AAAAIGNIUk0AAHomAACAhAAA+gAAAIDo AAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAAHCAAABwgAc0P m54AAAHcelRYdFJhdyBwcm9maWxlIHR5cGUgeG1wAAA4jYVUQZLjIAy86xX7BCyBBM/x2vg2VXPc 528Lj23imIypOAlI6lZLiP59fdMffywlksWyzJZ1taCrJos6cfD/umg18TNZmXXSqJuyJpn3/dN6 Y+ZAVxhs/nWXlOOaAocouhkcOYhyldA+LDXMHHyBAiO4ypw4Rop6w98PnUO2iBVkBuZm7eFqMOLa IIw3maT44o0kCGOD8V73IPgWKwgL2pZ5dQA/vrjcGcWoiUxUsFFaagUqVDD8MYAuDGwo4QwhxEug flmmXlRX6j2pxqheYuM31NMV6WZwDp4gV6Tmqn/CuqBQpQzWDwpqpRHa4bTj/Q7Xp+Ya6TPeMLkf H6/aiXevylmbXbs5elESVIle/ORBN12kxgZADSHEAmaTmqbUjDVakaXJ+THIBU099inmnAIaIsN1 QZ87fVwHT3BvEKlorAl9s1xa0u9OzwlfoH6VdKFGVXBhJwiYgDX1OIfZ3eo9OA1TKo8pCa7UC9Dh QSOXQQWPFplT9rJY4+uXiE4sa5e3JTY2H8PQDac8Ow5gOmv6jPMKE30KlSZBbD11wACAeoSR4X0O 8dZPon0QUT+J+jF6Gfsgjepne6/fJ7yf0H9Fc2ZpNW51UwAAAAFvck5UAc+id5oAAAyuSURBVFjD tZd/kFXlecc/z3vOub932R/sroKC+GuUNWOMxNq0UTDGtqZ2iHLXSttEO9GkMaBi0KBWz4yGKKBW MU0wWm20Gu9V04mGaJoWNErjTMyodRGMCkXk18ICu3vv3XvPed+nf5zLdTUSTWd8/rrz3vf5/X3e 53uEg4iCCKiGoV/N5UvWpL846tgZYc4+4qpv/KZULHoD5bLlo4kkJpEr79p4U0PNYRFBPRZPrZdq U5EH7/9a7+piseSVywMf1eb/S8xB/wlDDyDOZhfncvkvGhG68oU+8YIVAMVy2X10N5qYBMEEA5m2 7i+ZVPZiCTKXZDt6L1AvfxJA/9eL8nEme9CEVVUkDGMNw5wPC+rVmoucfXxftbo14wdzNtzy/VkC WiqWvD/E2Q2gLq5X65W9uEalro1aLaqOQlyLANY+83Gne7AOl8vJeS59GoX8oTG6pHPx5edF2pgf O0fg+58DKPav/4M6IqCIZF0cXaeWs1SjYlzbNxdTfQxg7Q18rHBuiSqiYehrKemYhqEPoLcsXam3 3Dw8sTBvLv/+T19f8YOnAA7cL5VKXqlU8hSVxJ5KGIYtnTAMjWry3+UrN7yx8I7XPvMBQUgYqglD NcWStpBTLKk3O1Q/VJ1gTw2qUiypN3uN+gfOZq9Rn6aflr427xw41+RBeddvGBptBqvLlv5al918 H8C2cFUO4M1bV/3D67fes/6Arr7PAe+z9365fOWGNxbc+dpZAMVQU8WSemGoH4y099ueUMT3Hr9P v6k3sUgHzn0B1SuuyNJrvozz3pRrw/94t8sy3Vq9C6Cyp24BnHOvOTFT7gvvy0h40TgirF7x8LyG pHNzR195kDB0K1Y8MVnEZq+8cu7bAN9c/nQ+Q6b3psWnbxIRRV3y4M0s2/LAgC0Dl6zSYLT2alfQ OaMPguN/+OX0I4jo/Ef0bAmY5Rz//vA8eQWg+IROHd/24t7sMSfPNgHd4WflgeJzOo0051Pj/rLI ULGkXihiz12vp0mKT+Yq3PuASMUHoFeuor09ZHS8pt++5lS5dukr+FEfmsp6gQwCHN09bAF8MTsw fPeiwXwE8F/LH/6CpHPldJDjUU5Oz4MftAeFeRjvTGAeQFv+sNMUWQR8/j0AKAOogGjsV3uCrpk3 K5r3M965F96nTzdSHGsCfprtg8puzv+b1frH/3a2jPiTWFhoO7mi8HW/QF/xGX1OUiyZdAwXj2ym C1hSHhBbfFlnkOLx7DS6a9s5FFhiNLyiC1jE6Kglm83iy6UApII+RKNq3W1thucAqmPb3zpm0cXX 0tyXnmcWe2Ko1WvgyRIAEXYrfKKVWBzNxNlsE1YeSAK1/n5vdrjWAzBOLS7+I+DMOMIN79ptTYqF QRYqu9iZmsRMjfgzAI3pULgMoU9jMFmuxzC3ugPU59ziOs0CSJ5LU510V7fSUI8F52zTyYa0zMHz 2omjM6jUVoH5SwCMX0BMdXRvamTifJchHgxLKYB1t5WmisjplVrlqnocXZRJZ2c8tOKJ46oavWyt y4S3r+lIcrSHW9f4bXPChdjVAMphf2NtOCcGiP2hOnF9Mi4OVHm6Z8bkADirMcpyN86nGiNUCDgF AItNF+jSmIvjOqvTBS6UmJ81xrhcLMeSZmrzjSnWhyjbKqegpFLCGQZ1c4jj5+W6O56Fxp2o69Tv fKsTKx5o9Owp08cBJAydhKELw9CVWR8nJbCnOBdXRj1z13lXnnf/WK06hO+fftnedZsQCXJeqjsp nswA2doMwuH7c7+yctP5f3/X1ku+9N0d5wNUqvkYY7rE2mUP/q2cXYuYpkpK4O4fXSDbVPmxWo5K 7FFojLD1kc/JPQKPGw8M3FqeJXeoYcSl6CgOahcRU5yw/McnyMuiPIVltg8cj2MNAI3RzWRyO8Ec iYhDiQcGEuhuCsNMLZjUORZEWqlmfGCr4vpFzEsDiwZqSSDml9a6WYThKr1zzngGexjwpjjXh3hv NoES+blJi/xGDOl2XKO+fXaoj6XsG0YlXxMv9RyASdEhhu3eyOatAGLYqMKpAEZJOeFFADyGasNU x/bwdnNF7DQWY1Ic5YSdsWNDcx5fEDjdAL3gXkm6eHcVka2Im0KMA2nRx47C5FO60unVPabjsSnt bY/oJZcEqmaKYN6Y8OoPGt+fBqCOvc7pIclMmy5PzJbkDooqB+gmzhlYi/opT1THrB3fBmCj0Vdd Lb6skj8i2e0+Qy0/BhHDFgCx1DC8k6sykpijhsE6y2HA2z85TkYB1ON/ROj2MWRxpkdvvPx4rESA Qbx2PG8IXFAqlbyBgQHre9Lb0dbxyd3jlv2x440pJ2RB2xXd0XqcjG4Toa05qztQmZb81sx4VNnS 7IAfVffdHpvMC7aytwPj718bzokvWLXNQ0zN82QM4OH57buBnwMUS9ojDS5E2JZkjGCTBNUjwjBW HhDbtO9EUevTIUBxUI82jiCK6NEMOR9LBt+sQPwKGEfg91KP/5nAWZTg0+vXB4CtxI3h4eHdG+sS jNclOPKQbE13iRac2tFW5R37LS4H4JS3ReSQS5e+0I0qLura2VxCxsCj9yyYsW4iJ/Bd1Sidsai2 6GWxpD0BXE+Gc7LdTK/u4cEWmBxRsgEAf4IhRVA8YqzfxqlRiuedjzFCHscOgxDgeVlEJoP0kk6B ZwIaOoqScZlMGqCvsv/ZadWFM0cqlTNFZF/d5lOqIqJNxwl0K5iEhqp4mx3a11Uw01DGll19XFIY FVWhkCQ0mDpADaGAINaZbGuM0sKNuT6+YQzTa8NYkfewuIMzugBUcV4GROjFMNlkyBKQ9wGlES1H vI04k2bfSBui63B+HTWpI/2gA9hfHhzUgTJuwy22HunEgr7Ls521aTV+M2C32Yj3p77I0SC7AIrF YpMje807g3bt7JluYgrGJfaK/zLaA8yv7aGhyo2aJhA4sdVFg3IQcXWctJGvD7EeuBmPSbaKMRnG fUTqiHlElqx4caKShmEXqYyN43g68L/F/n6hXKbhnC8eopmMqkpdkGwrXl8KojQSqOkW57m88fRE p7oFoL+/X/bye0QF6yedC/KF44E2tZz3UFEen/8zXai2Cd4P+UZzHk4ED58N5WPlgfeMDmgdOBZ4 URcsSNPX/gni4C0Jw2Fd9p2Kb7yTgGc59FABGDEmngR2hBHEFIaNSFcrYZVeI94YgDPRDicZ3ygn OMxLyY3TSbj0QZojkPKa6TiORNj40IA8nhSQTuTDUgUENYJxMXvF4zAAQjXnXcQRAjMMKrtReziA rFxZJx38Ezkzt1nx1yPVLwBs304A0O3au0Wksyedblhrh6zT6a0GOXeUdfFugP37h3cZ8WIDJyE2 YVl8+Be+jcYFQIQOYNeERA4X/QgJJ8XyPOUdHIfOXqM+oTiT5lTy3GkQeQvjfRpAl17ajXUnYt22 ppNfBL7/+XduuvXwKeFXqwBeynwrG6Tah4bAiWwUNTMP+DHGnGSEjQBhODAWq42DVHqauOB1gJmD g+p+93PyYNIAJrWKqcxCmuPyAcho3UsWfMqk2IRPd/dUEl4Q8yfSYLcBXYdyjl51VRu0z0U0j+HV RDv+OX7ApLRZtXnZ7Z/auuJ73875qa/WosaW/vDSMeuiV8Qz059c9vBnH13xxHGeMbOc8N/vejfb nIup22gHwPr+cvKu/x7xgow2A9+B4ehiSbvml/TkdIETEcYPwLal4L9XXwSnAekfHS1vozgR/q7Z 9aIanjeoWYvnpenkKYwsR+Q3cnW4VcPQyNXX/Tpu1J/PZ3N/kcH7paLXpIMUTu33AKan92+0qls8 P/VDMe5R51y1YeVXrXyFbXHUGB0JOnclXUdVcU4PNsRY6yVfZR68BuRShkfJ8K+NMRoqpJpttKJJ 0qKoKO++9IoVkvFDeVYM/zhvk/6n30aPGFYbuebW9Vj7JB3tn6GQ78Tq3QDs2RMA1CGs1KrkAj9X SGfYW6k8s2Hsnds0VHPMwoX12LpV3ZO6jujp6OlXdfd+ZdGfD4fhmgyAOnaKMSMrFx5Tb4VjTJsY 0+xLsRVn7ItgTBsJK+eBv5bXEH5VmMocEWYgXI9wLIB6pNWQaSLBP7DXk7miYEyz745VfgEvM5Uz 4iovlnvluabjYAH7RgW8DeWjfnsvgKxc2dAwNLJ48S/2rbi9WI/tgnpcHxwRc/1AGDZKxUEP4J2x 6m2RDM+oi1cYrlduABgcHIoAnPKkWvvWhElTQa+II/cqQLmIownxeLQxEnjRlZkev7W5NOabY9tZ rsq9keUhvy3hzy7mLt8k1NJPsb4Rc21Lx3Jd7HgJoHyc/GTe63pTVOWv1ONrAP8HnXv5+VCzqmwA AACWZVhJZk1NACoAAAAIAAUBEgADAAAAAQABAAABGgAFAAAAAQAAAEoBGwAFAAAAAQAAAFIBMQAC AAAAEQAAAFqHaQAEAAAAAQAAAGwAAAAAAAAASAAAAAEAAABIAAAAAUFkb2JlIEltYWdlUmVhZHkA AAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAA8oAMABAAAAAEAAAAZAAAAAAcgI+gAAAAldEVYdGRh dGU6Y3JlYXRlADIwMjQtMTItMTVUMDk6MjE6MTErMDA6MDDm9w0tAAAAJXRFWHRkYXRlOm1vZGlm eQAyMDI0LTEyLTE1VDA5OjIxOjExKzAwOjAwl6q1kQAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAy NC0xMi0xNVQwOToyMToxMSswMDowMMC/lE4AAAATdEVYdGV4aWY6Q29sb3JTcGFjZQAxLCCMM8Ni AAAAFXRFWHRleGlmOkV4aWZPZmZzZXQAMTA4LCDt5R1PAAAAGXRFWHRleGlmOlBpeGVsWERpbWVu c2lvbgA2MCwgoYmFBAAAABl0RVh0ZXhpZjpQaXhlbFlEaW1lbnNpb24AMjUsIJHbC1AAAAAedEVY dGV4aWY6U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkefmo5qwAAAASdEVYdHRpZmY6T3JpZW50YXRp b24AMber/DsAAAAQdEVYdHhtcDpDb2xvclNwYWNlADEFDsjRAAAAIHRFWHR4bXA6Q3JlYXRvclRv b2wAQWRvYmUgSW1hZ2VSZWFkeSr/T6AAAAAXdEVYdHhtcDpQaXhlbFhEaW1lbnNpb24AMjE2rgMn zQAAABZ0RVh0eG1wOlBpeGVsWURpbWVuc2lvbgAzMG6tL6oAAAAASUVORK5CYII="/></svg></span><span class=navbar-brand__name>í‘œì¤€í”„ë ˆì„ì›Œí¬ ê°œë°œê°€ì´ë“œ</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/egovframe-docs/egovframe-development/><span>ê°œë°œí™˜ê²½(ì˜ˆì •)</span></a></li><li class=nav-item><a class="nav-link active" href=/egovframe-docs/egovframe-runtime/><span>ì‹¤í–‰í™˜ê²½</span></a></li><li class=nav-item><a class=nav-link href=/egovframe-docs/runtime-example/><span>ì‹¤í–‰í™˜ê²½ ì˜ˆì œ</span></a></li><li class=nav-item><a class=nav-link href=/egovframe-docs/common-component/><span>ê³µí†µì»´í¬ë„ŒíŠ¸(ì˜ˆì •)</span></a></li><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg><button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true><svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>ì´ ì„¹ì…˜ì˜ ë‹¤ì¤‘ í˜ì´ì§€ ì¶œë ¥ í™”ë©´ì„.
<a href=# onclick="return print(),!1">ì—¬ê¸°ë¥¼ í´ë¦­í•˜ì—¬ í”„ë¦°íŠ¸</a>.</p><p><a href=/egovframe-docs/egovframe-runtime/presentation-layer/>ì´ í˜ì´ì§€ì˜ ì¼ë°˜ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>.</p></div><h1 class=title>í™”ë©´ì²˜ë¦¬</h1><div class=lead>í™”ë©´ì²˜ë¦¬ ì„œë¹„ìŠ¤ê·¸ë£¹ì€ ì—…ë¬´ì²˜ë¦¬ ì„œë¹„ìŠ¤ì™€ ì‚¬ìš©ìê°„ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ ì‚¬ìš©ì í™”ë©´ êµ¬ì„± ë° ì‚¬ìš©ì ì…ë ¥ ì •ë³´ ê²€ì¦ ë“±ì˜ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.</div><ul><li>1: <a href=#pg-31d1e27d9723b118049c7ab30b5e6856>MVC íŒ¨í„´ì˜ êµ¬ì¡°ì™€ ì¥ì </a></li><li>2: <a href=#pg-46a24bf728a7b6d614218e3ae8e5698a>Spring MVC Architecture</a></li><li>3: <a href=#pg-414119c332a5904a6a37e49b0f982ed5>DispatcherServlet</a></li><li>4: <a href=#pg-1e6ea5844632d444ed56cc47c3b13d29>HandlerMapping</a></li><li>5: <a href=#pg-9902299d75c3bd5be2057d1f696164b2>Spring MVC Tag Configuration</a></li><li>6: <a href=#pg-404522f2d68d13c85437f6487909b10e>Controller</a></li><li>7: <a href=#pg-838d8dd01c23d19c4a43f0b79103b750>Annotation ê¸°ë°˜ Controller</a></li><li>8: <a href=#pg-08c319109072509092038f7418a9ad23>Springì˜ Validator ì¸í„°í˜ì´ìŠ¤ì™€ ìœ íš¨ì„± ê²€ì¦</a></li><li>9: <a href=#pg-e3291d7d5b4efb88c0537abb957414ce>Bean Validation (JSR-303)</a></li><li>10: <a href=#pg-d376ca86ffb3d14bd557c43cd7ad20c7>View</a></li><li>11: <a href=#pg-769189172b147f11b368571eb0e70527>Map ê°ì²´ë¥¼ í†µí•œ ì…ë ¥ê°’ ì²˜ë¦¬ ë°©ë²•</a></li><li>12: <a href=#pg-8b462a89cad5cb2cce2bcc7099517989>ìŠ¤í”„ë§ WebFluxì™€ ê¸°ì¡´ ìŠ¤í”„ë§ ì›¹ í”„ë ˆì„ì›Œí¬ ë¹„êµ</a></li><li>13: <a href=#pg-1582f4d95d21529049f014dc9e60cbbf>Reactive Core</a></li><li>14: <a href=#pg-171474be9b8ab96df2310f8efa41d340>ìŠ¤í”„ë§ WebFluxì˜ DispatcherHandlerì™€ ìš”ì²­ ì²˜ë¦¬ íë¦„</a></li><li>15: <a href=#pg-05e9c669eccc17bab65bea194cc4c753>ìŠ¤í”„ë§ WebFluxì—ì„œ ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ ì»¨íŠ¸ë¡¤ëŸ¬ í™œìš© ë°©ë²•</a></li><li>16: <a href=#pg-88748e6fc2135df036998e22b14cbb02>ìŠ¤í”„ë§ WebFlux í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ëª¨ë¸(WebFlux.fn)</a></li><li>17: <a href=#pg-2ebe607b413b815db2b35319495701e5>ìŠ¤í”„ë§ WebFluxì˜ WebClientì™€ ë…¼ë¸”ë¡œí‚¹ ì²˜ë¦¬</a></li><li>18: <a href=#pg-0ddb00a1ec9b767ebfb20ab06b1ef199>Ajax ì§€ì› ì„œë¹„ìŠ¤</a></li><li>19: <a href=#pg-3910939c1a51aaefec093fee2eff210d>Internationalization(êµ­ì œí™”)</a></li><li>20: <a href=#pg-4cc496746aaa077bb2f35dd989e2fea3>Security Service</a></li><li>21: <a href=#pg-4ab5f38785f99b8ed0ac7565fd474633>Spring Framework + Jakarta Commons Validator</a></li><li>22: <a href=#pg-e45a4e52ea7552fe6295b4e19061e54d>Commons Validatorì— validation rule ì¶”ê°€í•˜ê¸°</a></li><li>23: <a href=#pg-1fd485618572aabc83908f6a1e83b440>UI Adaptor Service</a></li><li>24: <a href=#pg-abc8b87ef1cdce547d3438e20f288215>Asynchronous request processing</a></li><li>25: <a href=#pg-b9ed1bdf40b7ae592cb22b9c8363ac24>jQuery ê°€ì´ë“œ</a></li><li>26: <a href=#pg-35218b5f118a49ed5ac39c858d34c2bf>WebSocket</a></li><li>27: <a href=#pg-d54688493603f8e6fe7e2cb7d9d22f8e>STOMP over WebSocket ê°œìš” ë° ë©”ì‹œì§€ ì²˜ë¦¬ íë¦„</a></li><li>28: <a href=#pg-43e62e63dc735ca18e8286a5e96a43cf>SockJS Fallback Options</a></li><li>29: <a href=#pg-86ef8b41b494dd5887eb46c6b99cc161>UI - bootstrap</a></li><li>30: <a href=#pg-b243bf573fb36b506ca8d9b28e282192>UX/UI Controller Component</a></li><li>31: <a href=#pg-7293ece693e0270846af1dfc6d4eca30>HTML5 CSS3.0 JavaScript Module App Framework ê¸°ë³¸ í™œìš©</a></li></ul><div class=content><h1 id=í™”ë©´ì²˜ë¦¬>í™”ë©´ì²˜ë¦¬</h1><p>í™”ë©´ì²˜ë¦¬ ì„œë¹„ìŠ¤ê·¸ë£¹ì€ ì—…ë¬´ì²˜ë¦¬ ì„œë¹„ìŠ¤ì™€ ì‚¬ìš©ìê°„ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ ì‚¬ìš©ì í™”ë©´ êµ¬ì„± ë° ì‚¬ìš©ì ì…ë ¥ ì •ë³´ ê²€ì¦ ë“±ì˜ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.</p></div></div><div class=td-content style=page-break-before:always><h1 id=pg-31d1e27d9723b118049c7ab30b5e6856>1 - MVC íŒ¨í„´ì˜ êµ¬ì¡°ì™€ ì¥ì </h1><div class=lead>MVC íŒ¨í„´ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ëŠ¥ì„ Model, View, Controllerë¡œ ë¶„ë¦¬í•˜ì—¬ UI ì½”ë“œì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ì¢…ì†ì„±ì„ ì¤„ì´ê³ , ì¬ì‚¬ìš©ì„±ê³¼ ë³€ê²½ ìš©ì´ì„±ì„ ë†’ì¸ë‹¤. í‘œì¤€í”„ë ˆì„ì›Œí¬ì—ì„œ &ldquo;MVC ì„œë¹„ìŠ¤"ëŠ” ì´ íŒ¨í„´ì„ í™œìš©í•œ Web MVC Frameworkë¥¼ ì˜ë¯¸í•œë‹¤.</div><h1 id=web-servlet>Web Servlet</h1><h2 id=ê°œìš”>ê°œìš”</h2><p><img src=images/web-servlet.jpg alt="MVC(Model-View-Controller) íŒ¨í„´"></p><p><strong>MVC(Model-View-Controller) íŒ¨í„´</strong>ì€ ì½”ë“œë¥¼ ê¸°ëŠ¥(ì—­í• )ì— ë”°ë¼ <strong>Model, View, Controller</strong> 3ê°€ì§€ ìš”ì†Œë¡œ ë¶„ë¦¬í•œë‹¤.</p><ul><li><strong>Model</strong> : ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°ì´í„°ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ëŠ” ê°ì²´ì´ë‹¤.</li><li><strong>View</strong> : Modelì˜ ì •ë³´ë¥¼ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•œë‹¤. í•˜ë‚˜ì˜ Modelì„ ë‹¤ì–‘í•œ Viewì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li><li><strong>Controller</strong> : Modelê³¼ Viewì˜ ì¤‘ê³„ ì—­í• ì„ í•œë‹¤. ì‚¬ìš©ìì˜ ìš”ì²­ì„ ë°›ì•„ Modelì— ë³€ê²½ëœ ìƒíƒœë¥¼ ë°˜ì˜í•˜ê³ , ì‘ë‹µì„ ìœ„í•œ Viewë¥¼ ì„ íƒí•œë‹¤.</li></ul><p>MVC íŒ¨í„´ì€ <strong>UI ì½”ë“œì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ë“œë¥¼ ë¶„ë¦¬</strong>í•¨ìœ¼ë¡œì¨ <u>ì¢…ì†ì„±ì„ ì¤„ì´ê³ , ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³ , ë³´ë‹¤ ì‰¬ìš´ ë³€ê²½ì´ ê°€ëŠ¥</u>í•˜ë„ë¡ í•œë‹¤.</p><p>MVC íŒ¨í„´ì´ Web Frameworkì—ë§Œ ì‚¬ìš©ë˜ëŠ” ë‹¨ì–´ëŠ” ì•„ë‹ˆì§€ë§Œ, í‘œì¤€í”„ë ˆì„ì›Œí¬ì—ì„œ â€œMVC ì„œë¹„ìŠ¤â€ë€ MVC íŒ¨í„´ì„ í™œìš©í•œ Web MVC Frameworkë¥¼ ì˜ë¯¸í•œë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>ì˜¤í”ˆì†ŒìŠ¤ Web MVC Frameworkì—ëŠ” Spring MVC, Struts, Webwork, JSF ë“±ì´ ìˆìœ¼ë©°, ê°ê°ì˜ ì¥ì ì„ ê°€ì§€ê³  ì‚¬ìš©ë˜ê³  ìˆë‹¤.<br>ê¸°ëŠ¥ìƒì—ì„œ í° ì°¨ì´ëŠ” ì—†ìœ¼ë‚˜, ì•„ë˜ì™€ ê°™ì€ ì¥ì ì„ ê³ ë ¤ <strong>í‘œì¤€í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” Spring Web MVCë¥¼ MVC ì„œë¹„ìŠ¤ì˜ ê¸°ë°˜ ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ì±„íƒ</strong>í•˜ì˜€ë‹¤.</p><ul><li>Framework ë‚´ì˜ íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê±°ë‚˜, ì°¸ì¡°, êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë“±ì˜ ì œì•½ì‚¬í•­ì´ ë¹„êµì  ì ë‹¤.<br>Controller(Spring 2.5 @MVC)ë‚˜ Form í´ë˜ìŠ¤ ë“±ì´ ì¢€ ë” POJO-styleì— ê°€ê¹Œì›Œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘ëœ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</li><li>IOC Containerê°€ Springì´ë¼ë©´ (ê°„ë‹¨í•œ ì„¤ì •ìœ¼ë¡œ Strutsë‚˜ Webwork ê°™ì€ Web Frameworkì„ ì‚¬ìš©í•  ìˆ˜ ìˆê² ì§€ë§Œ) ì—°ê³„ë¥¼ ìœ„í•œ ì¶”ê°€ ì„¤ì • ì—†ì´ Spring MVCë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br><strong>í‘œì¤€í”„ë ˆì„ì›Œí¬ì˜ IOC ContainerëŠ” Spring</strong>ì´ë‹¤.</li><li>ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ê°€ í™œì„±í™”(ê¾¸ì¤€í•œ ê¸°ëŠ¥ ì¶”ê°€, ë¹ ë¥¸ bug fixì™€ Q&amp;A) ë˜ì–´ ìˆìœ¼ë©° ë¡œë“œë§µì´ ì‹ ë¢°í• ë§Œí•˜ë‹¤.</li><li>êµ­ë‚´ ì»¤ë®¤ë‹ˆí‹° í™œì„±í™” ì •ë„, ê´€ë ¨ ì°¸ê³  ë¬¸ì„œë‚˜ ë„ì„œë¥¼ ì‰½ê²Œ êµ¬í•  ìˆ˜ ìˆë‹¤.</li></ul><h3 id=spring-mvc>Spring MVC</h3><p>Spring MVCì— ëŒ€í•œ ì„¤ëª…ì€ ì•„ë˜ ìƒì„¸ í˜ì´ì§€ë¥¼ ì°¸ê³ í•˜ë¼.</p><ul><li><a href=./web-servlet-spring-mvc-architecture.md>Spring MVC Architecture</a></li><li><a href=./web-servlet-dispatcherservlet.md>DispatcherServlet</a></li><li><a href=./web-servlet-handlermapping.md>HandlerMapping</a></li><li><a href=./web-servlet-controller.md>Controller</a></li><li><a href=./web-servlet-annotation-based-controller.md>Annotation-based Controller</a></li><li><a href=./web-servlet-validation.md>Validation</a></li><li><a href=./web-servlet-declarative-validation.md>Declarative Validation</a></li><li><a href=./web-servlet-view.md>View</a></li></ul><h3 id=ì˜ˆì œ-ì‹¤í–‰>ì˜ˆì œ ì‹¤í–‰</h3><ul><li><a href=../../runtime-example/individual-example/presentation-layer/easycompany-example.md>easycompany ì„¤ì¹˜ ê°€ì´ë“œ</a> : MVCì™€ Ajax Support, Securityì˜ ì˜ˆì œ ì½”ë“œì¸ easycompany ì„¤ì¹˜ì™€ ì‹¤í–‰ ë°©ë²•ì„ ê°€ì´ë“œ í•œë‹¤.</li></ul><h2 id=ì°¸ê³ -ìë£Œ>ì°¸ê³  ìë£Œ</h2><ul><li>ğŸŒ <a href=https://web.archive.org/web/20090227080302/http://java.sun.com/blueprints/patterns/MVC-detailed.html>SUN Java BluePrints, Model-View-Controller</a></li></ul><h2 id=ì„œë¸”ë¦¿-ê°œë°œê³¼-ë™ì‘ê³¼ì •png>ì„œë¸”ë¦¿ ê°œë°œê³¼ ë™ì‘ê³¼ì •.png</h2><img width=302 alt="ì„œë¸”ë¦¿ ê°œë°œê³¼ ë™ì‘ê³¼ì •" src=https://github.com/user-attachments/assets/c503f93b-9837-4203-aada-4bb3f7a669ee></div><div class=td-content style=page-break-before:always><h1 id=pg-46a24bf728a7b6d614218e3ae8e5698a>2 - Spring MVC Architecture</h1><div class=lead>Spring MVCëŠ” DispatcherServlet, HandlerMapping, Controller, ViewResolver ë“± ê° ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ì´ ëª…í™•íˆ ë¶„ë¦¬ë˜ì–´ ìˆìœ¼ë©°, ë‹¤ì–‘í•œ ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ì œê³µí•´ ìœ ì—°í•œ ì„ íƒì´ ê°€ëŠ¥í•˜ë‹¤. POJO ìŠ¤íƒ€ì¼ì˜ í´ë˜ìŠ¤ ì‘ì„±ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘í•  ìˆ˜ ìˆìœ¼ë©°, ì›¹ ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ì»¤ë§¨ë“œ í´ë˜ìŠ¤ ê°„ ë°ì´í„° ë§¤í•‘, ë°ì´í„° ê²€ì¦, ì˜¤ë¥˜ ì²˜ë¦¬ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤. ë˜í•œ JSP í¼ êµ¬ì„±ì„ ìœ„í•œ íƒœê·¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ì œê³µí•œë‹¤.</div><h1 id=spring-mvc-architecture>Spring MVC Architecture</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>Spring Frameworkì€ ê°„ë‹¨í•œ ì„¤ì •ë§Œìœ¼ë¡œ Strutsë‚˜ Webworkê°™ì€ Web Frameworkì„ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ìì²´ì ìœ¼ë¡œ MVC Web Frameworkì„ ê°€ì§€ê³  ìˆë‹¤.
Spring MVCëŠ” ê¸°ë³¸ìš”ì†Œì¸ Model, View, Controller ì™¸ì—ë„, ì•„ë˜ì™€ ê°™ì€ íŠ¹ì„±ì„ ê°€ì§€ê³  ìˆë‹¤.</p><ul><li>DispatcherServlet, HandlerMapping, Controller, Interceptor, ViewResolver, Viewë“± ê° ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì—­í• ì´ ëª…í™•í•˜ê²Œ ë¶„ë¦¬ë˜ì–´ ìˆë‹¤.</li><li>HandlerMapping, Controller, Viewë“± ì»´í¬ë„ŒíŠ¸ë“¤ì— ë‹¤ì–‘í•œ ì¸í„°í˜ì´ìŠ¤ ë° êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ì œê³µí•¨ìœ¼ë¡œì¨ ê²½ìš°ì— ë”°ë¼ ì„ íƒí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li><li>Controller(@MVC)ë‚˜ í¼ í´ë˜ìŠ¤(ì»¤ë§¨ë“œ í´ë˜ìŠ¤) ì‘ì„±ì‹œì— íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê±°ë‚˜ ì°¸ì¡°í•  í•„ìš” ì—†ì´ POJO ë‚˜ POJO-styleì˜ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•¨ìœ¼ë¡œì¨ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</li><li>ì›¹ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ì»¤ë§¨ë“œ í´ë˜ìŠ¤ê°„ì— ë°ì´í„° ë§¤í•‘ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</li><li>ë°ì´í„° ê²€ì¦ì„ í•  ìˆ˜ ìˆëŠ”, Validatorì™€ Error ì²˜ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</li><li>JSP Formì„ ì‰½ê²Œ êµ¬ì„±í•˜ë„ë¡ Tagë¥¼ ì œê³µí•œë‹¤.</li></ul><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>Spring MVC(Model-View-Controller)ì˜ í•µì‹¬ ComponentëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>Component</th><th>ê°œìš”</th></tr></thead><tbody><tr><td>DispatcherServlet</td><td>Spring MVC Frameworkì˜ Front Controller, ì›¹ìš”ì²­ê³¼ ì‘ë‹µì˜ Life Cycleì„ ì£¼ê´€í•œë‹¤.</td></tr><tr><td>HandlerMapping</td><td>ì›¹ìš”ì²­ì‹œ í•´ë‹¹ URLì„ ì–´ë–¤ Controllerê°€ ì²˜ë¦¬í• ì§€ ê²°ì •í•œë‹¤.</td></tr><tr><td>Controller</td><td>ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ê³  ê²°ê³¼ ë°ì´í„°ë¥¼ ModelAndViewì— ë°˜ì˜í•œë‹¤.</td></tr><tr><td>ModelAndView</td><td>Controllerê°€ ìˆ˜í–‰ ê²°ê³¼ë¥¼ ë°˜ì˜í•˜ëŠ” Model ë°ì´í„° ê°ì²´ì™€ ì´ë™í•  í˜ì´ì§€ ì •ë³´(ë˜ëŠ” Viewê°ì²´)ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.</td></tr><tr><td>ViewResolver</td><td>ì–´ë–¤ Viewë¥¼ ì„ íƒí• ì§€ ê²°ì •í•œë‹¤.</td></tr><tr><td>View</td><td>ê²°ê³¼ ë°ì´í„°ì¸ Model ê°ì²´ë¥¼ displayí•œë‹¤.</td></tr></tbody></table><p>ì´ë“¤ ì»´í¬ë„ŒíŠ¸ê°„ì˜ ê´€ê³„ì™€ íë¦„ì„ ê·¸ë¦¼ìœ¼ë¡œ ë‚˜íƒ€ë‚´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p><p><img src=../images/web-servlet--spring-mvc-architecture.png alt=web-servlet&amp;ndash;spring-mvc-architecture></p><ol><li>Clientì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ DispatchServletì´ ê°€ì¥ ë¨¼ì € ìš”ì²­ì„ ë°›ëŠ”ë‹¤.</li><li>HandlerMappingì´ ìš”ì²­ì— í•´ë‹¹í•˜ëŠ” Controllerë¥¼ returní•œë‹¤.</li><li>ControllerëŠ” ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰(í˜¸ì¶œ)í•˜ê³  ê²°ê³¼ ë°ì´í„°ë¥¼ ModelAndViewì— ë°˜ì˜í•˜ì—¬ returní•œë‹¤.</li><li>ViewResolverëŠ” view nameì„ ë°›ì•„ í•´ë‹¹í•˜ëŠ” View ê°ì²´ë¥¼ returní•œë‹¤.</li><li>ViewëŠ” Model ê°ì²´ë¥¼ ë°›ì•„ renderingí•œë‹¤.</li></ol><p>ì´ ê°€ì´ë“œë¬¸ì„œëŠ” Spring 2.5.6 ë²„ì ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆë‹¤.</p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li>The Spring Framework - Reference Documentation 2.5.6</li><li>Spring Framework API Documentation 2.5.6</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-414119c332a5904a6a37e49b0f982ed5>3 - DispatcherServlet</h1><div class=lead>DispatcherServletì€ Spring MVCì˜ ìœ ì¼í•œ Front Controllerë¡œ, ëª¨ë“  ì›¹ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ê²°ê³¼ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì‘ë‹µí•˜ëŠ” í•µì‹¬ ìš”ì†Œì´ë‹¤. ì›¹ ìš”ì²­ì˜ ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ì„ ì£¼ê´€í•˜ë©° Controllerë¡œì˜ ì§„ì…ì  ì—­í• ì„ í•œë‹¤.</div><h1 id=dispatcherservlet>DispatcherServlet</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>Spring MVC Frameworkì˜ ìœ ì¼í•œ Front Controllerì¸ DispatcherServletì€ Spring MVCì˜ í•µì‹¬ ìš”ì†Œì´ë‹¤.
DispatcherServletì€ Controllerë¡œ í–¥í•˜ëŠ” ëª¨ë“  ì›¹ìš”ì²­ì˜ ì§„ì…ì ì´ë©°, ì›¹ìš”ì²­ì„ ì²˜ë¦¬í•˜ë©°, ê²°ê³¼ ë°ì´í„°ë¥¼ Clientì—ê²Œ ì‘ë‹µ í•œë‹¤.
DispatcherServletì€ Spring MVCì˜ ì›¹ìš”ì²­ Life Cycleì„ ì£¼ê´€í•œë‹¤ í•  ìˆ˜ ìˆë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=dispatcherservletì—ì„œì˜-ì›¹ìš”ì²­-íë¦„>DispatcherServletì—ì„œì˜ ì›¹ìš”ì²­ íë¦„</h3><p>Clientì˜ ì›¹ìš”ì²­ì‹œì— DispatcherServletì—ì„œ ì´ë£¨ì–´ì§€ëŠ” ì²˜ë¦¬ íë¦„ì€ ì•„ë˜ì™€ ê°™ë‹¤.
ì¢€ë” ìì„¸í•œ ì²˜ë¦¬ íë¦„ì„ ì•Œê³  ì‹¶ë‹¤ë©´ ë””ë²„ê¹…ëª¨ë“œë¡œ ê³¼ì •ì„ ì¶”ì í•´ ë³´ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.</p><p><img src=../images/web-servlet-dispatcherservlet-flow.png alt="DispatcherServlet flow"></p><ol><li>doService ë©”ì†Œë“œì—ì„œë¶€í„° ì›¹ìš”ì²­ì˜ ì²˜ë¦¬ê°€ ì‹œì‘ëœë‹¤. DispatcherServletì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª‡ëª‡ ì •ë³´ë¥¼ request ê°ì²´ì— ë‹´ëŠ” ì‘ì—…ì„ í•œ í›„ doDispatch ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤.</li><li>ì•„ë˜ 3ë²ˆ~13ë²ˆ ì‘ì—…ì´ doDispatch ë©”ì†Œë“œì•ˆì— ìˆë‹¤. Controller, View ë“±ì˜ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì´ìš©í•œ ì‹¤ì œì ì¸ ì›¹ìš”ì²­ì²˜ë¦¬ê°€ ì´ë£¨ì–´ ì§„ë‹¤.</li><li>getHandler ë©”ì†Œë“œëŠ” RequestMapping ê°ì²´ë¥¼ ì´ìš©í•´ì„œ ìš”ì²­ì— í•´ë‹¹í•˜ëŠ” Controllerë¥¼ ì–»ê²Œ ëœë‹¤.</li><li>ìš”ì²­ì— í•´ë‹¹í•˜ëŠ” Handlerë¥¼ ì°¾ì•˜ë‹¤ë©´ Handlerë¥¼ HandlerExecutionChain ê°ì²´ì— ë‹´ì•„ ë¦¬í„´í•˜ëŠ”ë°, ì´ë•Œ HandlerExecutionChainëŠ” ìš”ì²­ì— í•´ë‹¹í•˜ëŠ” interceptorë“¤ì´ ìˆë‹¤ë©´ í•¨ê»˜ ë‹´ì•„ ë¦¬í„´í•œë‹¤.</li><li>ì‹¤í–‰ë  interceptorë“¤ì´ ìˆë‹¤ë©´ interceptorì˜ preHandle ë©”ì†Œë“œë¥¼ ì°¨ë¡€ë¡œ ì‹¤í–‰í•œë‹¤.</li><li>Controllerì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” HandlerExecutionChainì˜ getHandler ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì„œ ì–»ëŠ”ë‹¤.</li><li>HandlerMappingê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì—¬ëŸ¬ê°œì˜ HanlderAdaptorë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ë°, getHandlerAdaptor ë©”ì†Œë“œëŠ” Controllerì— ì ì ˆí•œ HanlderAdaptor í•˜ë‚˜ë¥¼ ë¦¬í„´í•œë‹¤.</li><li>ì„ íƒëœ HanlderAdaptorì˜ handle ë©”ì†Œë“œê°€ ì‹¤í–‰ë˜ëŠ”ë°, ì‹¤ì œ ì‹¤í–‰ì€ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê²¨ ë°›ì€ Controllerë¥¼ ì‹¤í–‰í•œë‹¤.</li><li>ê³„ì¸µí˜• Controllerì¸ ê²½ìš°ëŠ” handleRequest ë©”ì†Œë“œê°€ ì‹¤í–‰ëœë‹¤. @Controllerì¸ ê²½ìš°ëŠ” HanlderAdaptor(AnnotationMethodHandlerAdapter)ê°€ HandlerMethodInvokerë¥¼ ì´ìš©í•´ ì‹¤í–‰í•  Controllerì˜ ë©”ì†Œë“œë¥¼ invoke()í•œë‹¤.</li><li>interceptorì˜ postHandle ë©”ì†Œë“œê°€ ì‹¤í–‰ëœë‹¤.</li><li>resolveViewName ë©”ì†Œë“œëŠ” ë…¼ë¦¬ì  ë·° ì´ë¦„ì„ ê°€ì§€ê³  í•´ë‹¹ View ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.</li><li>Model ê°ì²´ì˜ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ í•´ë‹¹ View ê°ì²´ì˜ render ë©”ì†Œë“œê°€ ìˆ˜í–‰ëœë‹¤.</li></ol><h3 id=webxmlì—-dispatcherservlet-ì„¤ì •í•˜ê¸°>web.xmlì— DispatcherServlet ì„¤ì •í•˜ê¸°</h3><p>Spring MVC Frameworkì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” web.xmlì— DispatcherServletì„ ì„¤ì •í•˜ê³ , DispatcherServletì´ WebApplicationContextë¥¼ ìƒì„±í• ìˆ˜ ìˆë„ë¡ ë¹ˆ(Bean) ì •ë³´ê°€ ìˆëŠ” íŒŒì¼ë“¤ë„ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.</p><h4 id=ê¸°ë³¸-ì„¤ì •>ê¸°ë³¸ ì„¤ì •</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;web-app&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>&lt;!-- easycompnayë¼ëŠ” ì›¹ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì›¹ìš”ì²­ì„ DispatcherServletì´ ì²˜ë¦¬í•œë‹¤.--&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>easycompany<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/servlet&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/web-app&gt;</span>
</span></span></code></pre></div><p>servlet-nameì€ DispatcherServletì´ ê¸°ë³¸(default)ìœ¼ë¡œ ì°¸ì¡°í•  ë¹ˆ ì„¤ì • íŒŒì¼ ì´ë¦„ì˜ prefixê°€ ë˜ëŠ”ë°, (servlet-name)-servlet.xml ê°™ì€ í˜•íƒœì´ë‹¤.
ìœ„ ì˜ˆì œì™€ ê°™ì´ web.xmlì„ ì‘ì„±í–ˆë‹¤ë©´ DispatcherServletì€ ê¸°ë³¸ìœ¼ë¡œ /WEB-INF/easycompany-servlet.xmlì„ ì°¾ê²Œ ëœë‹¤.</p><h4 id=contextconfiglocationì„-ì´ìš©í•œ-ì„¤ì •>contextConfigLocationì„ ì´ìš©í•œ ì„¤ì •</h4><p>ë¹ˆ ì„¤ì • íŒŒì¼ì„ í•˜ë‚˜ ì´ìƒì„ ì‚¬ìš©í•˜ê±°ë‚˜, íŒŒì¼ ì´ë¦„ê³¼ ê²½ë¡œë¥¼ ì§ì ‘ ì§€ì •í•´ì£¼ê³  ì‹¶ë‹¤ë©´ contextConfigLocation ë¼ëŠ” ì´ˆê¸°í™” íŒŒë¼ë¯¸í„° ê°’ì— ë¹ˆ ì„¤ì • íŒŒì¼ ê²½ë¡œë¥¼ ì„¤ì •í•´ì¤€ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>easycompany<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;init-param&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;param-name&gt;</span>contextConfigLocation<span style=color:#204a87;font-weight:700>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;param-value&gt;</span>
</span></span><span style=display:flex><span>                        /WEB-INF/config/easycompany-web.xml
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/init-param&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/servlet&gt;</span>
</span></span></code></pre></div><h4 id=contextloaderlistenerë¥¼-ì´ìš©í•œ-ì„¤ì •>ContextLoaderListenerë¥¼ ì´ìš©í•œ ì„¤ì •</h4><p>ì¼ë°˜ì ìœ¼ë¡œ ë¹ˆ ì„¤ì • íŒŒì¼ì€ í•˜ë‚˜ì˜ íŒŒì¼ë§Œ ì‚¬ìš©ë˜ê¸° ë³´ë‹¤ëŠ” persistance, service, webë“± layer ë‹¨ìœ„ë¡œ ë‚˜ë‰˜ê²Œ ëœë‹¤.
ë˜í•œ, ê°™ì€ persistance, service layerì˜ ë¹ˆì„ 2ê°œ ì´ìƒì˜ DispatcherServletì´ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  ê²½ìš°ë„ ìˆë‹¤.
ì´ëŸ´ë•ŒëŠ” ê³µí†µë¹ˆ(persistance, service)ì„¤ì • ì •ë³´ëŠ” ApplicationContextì—, web layerì˜ ë¹ˆë“¤ì€ WebApplicationContextì— ì €ì¥í•˜ëŠ” ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ì„ ì¶”ì²œí•œë‹¤.
ê³µí†µë¹ˆ ì„¤ì • íŒŒì¼ì€ ì„œë¸”ë¦¿ ë¦¬ìŠ¤ë„ˆë¡œ ë“±ë¡ëœ org.springframework.web.context.ContextLoaderListenerë¡œ ë¡œë”©í•´ì„œ ApplicationContextì„ ë§Œë“¤ê³ ,
web layerì˜ ë¹ˆì„¤ì • íŒŒì¼ì€ DispatcherServletì´ ë¡œë”©í•´ì„œ WebApplicationContextì„ ë§Œë“ ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>....
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>&lt;!-- ApplicationContext ë¹ˆ ì„¤ì • íŒŒì¼--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;context-param&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;param-name&gt;</span>contextConfigLocation<span style=color:#204a87;font-weight:700>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;param-value&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#8f5902;font-style:italic>&lt;!--ë¹ˆ ì„¤ì • íŒŒì¼ë“¤ê°„ì— êµ¬ë¶„ì€ ì¤„ë°”ê¿ˆ(\n),ì»´ë§ˆ(,),ì„¸ë¯¸ì½œë¡ (;)ë“±ìœ¼ë¡œ í•œë‹¤.--&gt;</span>
</span></span><span style=display:flex><span>                        /WEB-INF/config/easycompany-service.xml,/WEB-INF/config/easycompany-dao.xml 
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/context-param&gt;</span>
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>&lt;!-- ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë˜ëŠ” ì‹œì ì— ApplicationContextì„ ë¡œë”©í•˜ë©°, ë¡œë”©ëœ ë¹ˆì •ë³´ëŠ” ëª¨ë“  WebApplicationContextë“¤ì´ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;listener&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span style=color:#204a87;font-weight:700>&lt;/listener-class&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/listener&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>employee<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;init-param&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;param-name&gt;</span>contextConfigLocation<span style=color:#204a87;font-weight:700>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;param-value&gt;</span>
</span></span><span style=display:flex><span>				/WEB-INF/config/easycompany-service.xml
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;/init-param&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/servlet&gt;</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>webservice<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;init-param&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;param-name&gt;</span>contextConfigLocation<span style=color:#204a87;font-weight:700>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;param-value&gt;</span>
</span></span><span style=display:flex><span>				/WEB-INF/config/easycompany-webservice.xml
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;/init-param&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/servlet&gt;</span>
</span></span><span style=display:flex><span>....
</span></span></code></pre></div><p>ì´ ApplicationContextì˜ ë¹ˆ ì •ë³´ëŠ” ëª¨ë“  WebApplicationContextë“¤ì´ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, DispatcherServletì€ 2ê°œ ì‚¬ìš©í•˜ì§€ë§Œ ê°™ì€ Service, DAOë¥¼ ì‚¬ìš©í•˜ëŠ” web.xmlì„ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤ë©´,
easycompany-servlet.xmlì— ì •ì˜ëœ ë¹ˆì •ë³´ëŠ” easycompany-webservice.xmlê°€ ì°¸ì¡°í•  ìˆ˜ ì—†ì§€ë§Œ,
easycompany-service.xml, easycompany-dao.xmlì— ì„¤ì •ëœ ë¹ˆ ì •ë³´ëŠ” easycompany-servlet.xml, easycompany-webservice.xml ë‘˜ ë‹¤ ì°¸ì¡°í•œë‹¤.
ApplicationContextê³¼ WebApplicationContextê³¼ì˜ ê´€ê³„ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ ë‚˜íƒ€ë‚´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p><p><img src=../images/web-servlet-dispatcherservlet-relation.png alt=web-servlet-dispatcherservlet-relation></p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li>The Spring Framework - Reference Documentation 2.5.6</li><li>Spring Framework API Documentation 2.5.6</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-1e6ea5844632d444ed56cc47c3b13d29>4 - HandlerMapping</h1><div class=lead>DispatcherServletì€ ìš”ì²­ì„ ì²˜ë¦¬í•  Controllerë¥¼ HandlerMappingì„ í†µí•´ ë§¤í•‘í•˜ë©°, Spring MVCëŠ” ì—¬ëŸ¬ ì¢…ë¥˜ì˜ HandlerMapping êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ì œê³µí•œë‹¤. Spring 3.1 ì´í›„ ë²„ì „ë¶€í„° ê¸°ë³¸ HandlerMappingì€ RequestMappingHandlerMappingì´ë©°, ê·¸ ì´ì „ ë²„ì „ì—ì„œëŠ” DefaultAnnotationHandlerMappingì´ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆë‹¤.</div><h1 id=handlermapping>HandlerMapping</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>DispatcherServletì— Clientë¡œë¶€í„° Http Requestê°€ ë“¤ì–´ ì˜¤ë©´ HandlerMappingì€ ìš”ì²­ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•  Controllerë¥¼ mappingí•œë‹¤.
Spring MVCëŠ” interfaceì¸ HandlerMappingì˜ êµ¬í˜„ í´ë˜ìŠ¤ë„ ê°€ì§€ê³  ìˆëŠ”ë°, ìš©ë„ì— ë”°ë¼ ì—¬ëŸ¬ ê°œì˜ HandlerMappingì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.
ë¹ˆ ì •ì˜ íŒŒì¼ì— HandlerMappingì— ëŒ€í•œ ì •ì˜ê°€ ì—†ë‹¤ë©´ Spring MVCëŠ” ê¸°ë³¸(default) HandlerMappingì„ ì‚¬ìš©í•œë‹¤.</p><p>ê¸°ë³¸ HandlerMappingì€ BeanNameUrlHandlerMappingì´ë©°, jdk1.5 ì´ìƒì˜ ì‹¤í–‰í™˜ê²½ì¼ ë•Œ, Spring 3.1ì´í›„ ë²„ì „ì´ë©´(egov 3.0ë¶€í„°) RequestMappingHandlerMappingê°€ ê¸°ë³¸ HandlerMappingì´ë©°,
Spring 3.1ì´ì „ ë²„ì „ì´ë©´(egov 3.0ì´ì „ ë²„ì „) DefaultAnnotationHandlerMappingê°€ ê¸°ë³¸ HandlerMappingì´ë‹¤.
(DefaultAnnotationHAndlerMappingì€ 3.1ë¶€í„° deprecatedë˜ê³  RequestMappingHandlerMappingìœ¼ë¡œ ëŒ€ì²´ë¨)</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>BeanNameUrlHandlerMapping, SimpleUrlHandlerMapping ë“± ì£¼ìš” HandlerMapping êµ¬í˜„ í´ë˜ìŠ¤ëŠ” ìƒìœ„ ì¶”ìƒ í´ë˜ìŠ¤ì¸ AbstractHandlerMappingê³¼ AbstractUrlHandlerMappingì„ í™•ì¥í•˜ê¸° ë•Œë¬¸ì— ì´ ì¶”ìƒí´ë˜ìŠ¤ë“¤ì˜ í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•œë‹¤.
ì£¼ìš” í”„ë¡œí¼í‹°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li>defaultHandler<ul><li>ìš”ì²­ì— í•´ë‹¹í•˜ëŠ” Controllerê°€ ì—†ì„ ê²½ìš°, defaultHandlerì— ë“±ë¡ëœ Controllerë¥¼ ë°˜í™˜í•œë‹¤.</li></ul></li><li>alwaysUseFullPath<ul><li>URLê³¼ Controller ë§¤í•‘ì‹œì— URL full pathë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.</li><li>ì˜ˆë¥¼ ë“¤ì–´, servlet-mappingì´ /easycompany/* ì´ê³ , alwaysUseFullPathê°€ trueì´ë©´ /easycompany/employeeList.do, alwaysUseFullPathê°€ falseì´ë©´ /employeeList.do ì´ë‹¤.</li></ul></li><li>interceptors<ul><li>Controllerê°€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ì „,í›„ë¡œ íŠ¹ì •í•œ ë¡œì§ì„ ìˆ˜í–‰ë˜ê¸° ì›í• ë•Œ interpceptorë¥¼ ë“±ë¡í•œë‹¤. ë³µìˆ˜ê°œì˜ interpceptorë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤. interceptorì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ ì´ê³³ì„ ì°¸ê³ í•˜ë¼.</li></ul></li><li>order<ul><li>ì—¬ëŸ¬ê°œì˜ HandlerMapping ì‚¬ìš©ì‹œì— ìš°ì„ ìˆœìœ„.</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&#34;</span> <span style=color:#c4a000>p:order=</span><span style=color:#4e9a06>&#34;2&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&#34;</span> <span style=color:#c4a000>p:order=</span><span style=color:#4e9a06>&#34;3&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><ul><li>pathMatcher : ì‚¬ìš©ì ìš”ì²­ URL pathì™€ ì„¤ì •ì •ë³´ì˜ URL pathë¥¼ ë§¤ì¹­í• ë•Œ, íŠ¹ì • ìŠ¤íƒ€ì¼ì˜ ë§¤ì¹­ì„ ì§€ì›í•˜ëŠ” PathMatcherë¥¼ ë“±ë¡í• ìˆ˜ ìˆë‹¤. ê¸°ë³¸ê°’ì€ Ant-styleì˜ íŒ¨í„´ë§¤ì¹­ì„ ì œê³µí•˜ëŠ” AntPathMatcherì´ë‹¤.</li></ul><p>Spring MVC(3.1ì´í›„ë²„ì „) ì œê³µí•˜ëŠ” ì£¼ìš” HandlerMapping êµ¬í˜„ í´ë˜ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li>BeanNameUrlHandlerMapping</li><li>RequestMappingHandlerMapping(DefaultAnnotationHandlerMappingì´ deprecatedë˜ë©´ì„œ ëŒ€ì²´ë¨)</li><li>ControllerClassNameHandlerMapping</li><li>SimpleUrlHandlerMapping</li></ul><p>Spring 3 ë²„ì „ ì´ì „ì—ëŠ” @MVCì—ì„œ DefaultAnnotationHandlerMappingì€ URL ë‹¨ìœ„ë¡œ interceptorë¥¼ ì ìš©í•  ìˆ˜ ì—†ê¸°ì— ì „ìì •ë¶€í”„ë ˆì„ì›Œí¬ì—ì„œ ì•„ë˜ì™€ ê°™ì€ HandlerMapping êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í–ˆë‹¤.</p><ul><li>SimpleUrlAnnotationHandlerMapping</li></ul><p>ê·¸ëŸ¬ë‚˜ Spring 3ë²„ì „ë¶€í„° <a href=mvc:interceptors>mvc:interceptors</a> elementì—ì„œ urlë³„ë¡œ interceptorë¥¼ ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì¶”ê°€í•˜ì—¬ SimpleUrlAnnotationHandlerMappingì€ deprecatedë˜ì—ˆë‹¤.</p><h3 id=beannameurlhandlermapping>BeanNameUrlHandlerMapping</h3><p>BeanNameUrlHandlerMappingì€ ë¹ˆì •ì˜ íƒœê·¸ì—ì„œ <strong>name</strong> attributeì— ì„ ì–¸ëœ URLê³¼ <strong>class</strong> attributeì— ì •ì˜ëœ Controllerë¥¼ ë§¤í•‘í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, ì•„ë˜ì™€ ê°™ì´ ì •ì˜ë˜ì–´ ìˆë‹¤ë©´,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#a40000>...</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic>&lt;!--HandlerMappingì´ BeanNameUrlHandlerMapping ë°–ì— ì—†ë‹¤ë©´ BeanNameUrlHandlerMappingì— ëŒ€í•œ ë³„ë„ì˜ ë¹ˆì •ì˜ëŠ” í•„ìš” ì—†ë‹¤.--&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#8f5902;font-style:italic>&lt;!--&lt;bean class=&#34;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&#34;/&gt;--&gt;</span> 
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;/insertEmployee.do&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.InsertEmployeeController&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>       ...
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>Clientì—ì„œ URL ~~/insertEmployee.do ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ InsertEmployeeController í´ë˜ìŠ¤ê°€ ìš”ì²­ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•œë‹¤.</p><p>ì• ê°œìš”ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ WAC(WebgApplicationContext)ì— HandlerMapping ë¹ˆì •ì˜ê°€ ì—†ë‹¤ë©´ BeanNameUrlHandlerMappingì´ (ë³„ë„ì˜ ë¹ˆ ì •ì˜ ì—†ì´) ì‚¬ìš©ëœë‹¤.
í•˜ì§€ë§Œ, SimpleUrlHandlerMapping ê°™ì€ ë‹¤ë¥¸ HandlerMappingê³¼ ê°™ì´ ì¨ì•¼ í•œë‹¤ë©´, BeanNameUrlHandlerMappingë„ ë¹ˆì •ì˜ê°€ ë˜ì–´ì•¼ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#a40000>...</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;mappings&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>       ....
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;/insertEmployee.do&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.InsertEmployeeController&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>       ....
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><h3 id=requestmappinghandlermapping--deprecated-defaultannotationhandlermappingê³¼-ê±°ì˜-ë™ì¼->RequestMappingHandlerMapping ( @deprecated DefaultAnnotationHandlerMappingê³¼ ê±°ì˜ ë™ì¼ )</h3><p>@MVC ê°œë°œì„ í•˜ë ¤ë©´ RequestMappingHandlerMappingì„(Spring 3.1ì´ì „ë²„ì „ì€ DefaultAnnotationHandlerMapping) ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë‹¨, jdk 1.5 ì´ìƒì˜ ê°œë°œí™˜ê²½ì´ì–´ì•¼ í•œë‹¤.
RequestMappingHandlerMapping ì‚¬ìš© ë°©ë²•ì€ ì„¸ê°€ì§€ê°€ ìˆë‹¤.</p><ul><li>ì„ ì–¸í•˜ì§€ ì•ŠëŠ” ë°©ë²•</li><li><code>&lt;mvc:annotation-driven/></code>ì„ ì„ ì–¸í•˜ëŠ” ë°©ë²•</li><li>RequestMappingHandlerMappingì„ ì§ì ‘ ì„ ì–¸í•˜ëŠ” ë°©ë²•</li></ul><h4 id=ì„ ì–¸í•˜ì§€-ì•ŠëŠ”-ë°©ë²•>ì„ ì–¸í•˜ì§€ ì•ŠëŠ” ë°©ë²•</h4><p>RequestMappingHandlerMappingì€ ê¸°ë³¸ HandlerMappingì´ë¯€ë¡œ ì§€ì •í•˜ì§€ ì•Šì•„ë„ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. ì•„ë˜ì™€ ê°™ì´ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”í•  íŒ¨í‚¤ì§€ë¥¼ ì§€ì •í•´ ì£¼ë©´,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> <span style=color:#c4a000>xmlns:p=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/p&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>xmlns:context=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/context&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>				http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>&lt;context:component-scan</span> <span style=color:#c4a000>base-package=</span><span style=color:#4e9a06>&#34;org.mycode.controller&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>íŒ¨í‚¤ì§€ org.mycode.controller ì•„ë˜ì˜ @Controllerì¤‘ì— @RequestMappingì— ì„ ì–¸ëœ URLê³¼ í•´ë‹¹ @Controller í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œì™€ ë§¤í•‘í•œë‹¤.</p><h4 id=mvcannotation-drivenì„-ì„ ì–¸í•˜ëŠ”-ë°©ë²•><a href=mvc:annotation-driven/>mvc:annotation-driven/</a>ì„ ì„ ì–¸í•˜ëŠ” ë°©ë²•</h4><p>@MVCì‚¬ìš© ì‹œ í•„ìš”í•œ ë¹ˆë“¤ì„ ë“±ë¡í•´ì£¼ëŠ” <code>&lt;mvc:annotation-driven/></code>ì„ ì„¤ì •í•˜ë©´ ë‚´ë¶€ì—ì„œ
org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping ,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter ì´ êµ¬ì„±ëœë‹¤.</p><ul><li>ê¸°ì¡´ Spring 3.0ë²„ì „ì—ì„œ <code>&lt;mvc:annotation-driven/></code>ëŠ” DefaultAnnotationHandlerMapping, AnnotationMethodHandlerAdapterë¥¼ êµ¬ì„±í•´ì£¼ì—ˆë‹¤.</li></ul><p><code>&lt;mvc:annotation-driven></code>ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#a40000>...</span> <span style=color:#a40000>ìƒëµ</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;mvc:annotation-driven/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- ìƒëµ --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><ul><li>ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì€, CommandMapì„ ì‚¬ìš©í•  ê²½ìš° mvc:annotation-drivenì„ ì„ ì–¸í•˜ë©´ ì•ˆëœë‹¤. CommandMapì„ ì‚¬ìš©í•  ê²½ìš° EogvRequestMappingHandlerAdapterì™€ RequestMappingHandlerMappingì„ ì§ì ‘ ì„ ì–¸í•´ì£¼ì–´ì•¼í•œë‹¤.</li></ul><h4 id=requestmappinghandlermappingì„-ì§ì ‘-ì„ ì–¸í•˜ëŠ”-ë°©ë²•>RequestMappingHandlerMappingì„ ì§ì ‘ ì„ ì–¸í•˜ëŠ” ë°©ë²•</h4><p>ë‹¤ë¥¸ HandlerMappingê³¼ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ì„ ì–¸í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!--ìƒëµ--&gt;</span>
</span></span></code></pre></div><h4 id=controllerì½”ë“œ-ì˜ˆì œ>Controllerì½”ë“œ ì˜ˆì œ</h4><p>ìœ„ì™€ ê°™ì´ RequestMappingHandlerMappingì„ ì„¤ì •í•˜ì˜€ì„ ë•Œ</p><p>Controllerì—ì„œì˜ ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ë³´ë©´,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>org.mycode.controller</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>....</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>      <span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/hello.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>hellomethod</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>           <span style=color:#ce5c00;font-weight:700>......</span>   
</span></span><span style=display:flex><span>      <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>/hello.doë¡œ URL ìš”ì²­ì´ ë“¤ì–´ ì˜¤ë©´ HelloControllerì˜ ë©”ì†Œë“œ hellomethodê°€ ì‹¤í–‰ëœë‹¤.</p><h3 id=controllerclassnamehandlermapping>ControllerClassNameHandlerMapping</h3><p>ControllerClassNameHandlerMappingì€ ë¹ˆì •ì˜ëœ Controllerì˜ í´ë˜ìŠ¤ ì´ë¦„ì¤‘ suffixì¸ Controllerë¥¼ ì œê±°í•œ ë‚˜ë¨¸ì§€ ì´ë¦„ì˜ ì†Œë¬¸ìë¡œ url mappingí•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#a40000>..</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   ...
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.EmployeeListController&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.InsertEmployeeController&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>   ...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>ë¹ˆ ì •ì˜ê°€ ìœ„ì™€ ê°™ë‹¤ë©´, EmployeeListController â†” /employeelist*, InsertEmployeeController â†” /insertemployee* ê³¼ ê°™ì´ url mappingì´ ì´ë£¨ì–´ ì§„ë‹¤.
ControllerClassNameHandlerMappingì— í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ caseSensitiveë‚˜ pathPrefix, basePackageë“±ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ë°,</p><ul><li>caseSensitive<ul><li>Controller ì´ë¦„ìœ¼ë¡œ URL ê²½ë¡œ mappingì‹œì— ëŒ€ë¬¸ì ì‚¬ìš©ì—¬ë¶€. (ex. /insertemployee* ê°€ ì•„ë‹ˆë¼ /easycompany/insertEmployee*ë¡œ ì‚¬ìš©í•˜ê¸° ì›í• ë•Œ).</li></ul></li><li>pathPrefix<ul><li>URL ê²½ë¡œì— ê¸°ë³¸ì ì¸ prefix ê°’. ê¸°ë³¸ê°’ì€ falseì´ë‹¤.</li></ul></li><li>basePackage<ul><li>URL mappingì— ì‚¬ìš©ë˜ëŠ” Controllerì˜ ê¸°ë³¸ íŒ¨í‚¤ì§€ ì´ë¦„ì´ë‹¤. ì‚¬ìš©ë˜ëŠ” Controllerì˜ íŒ¨í‚¤ì§€ëª…ì— ê¸°ë³¸ íŒ¨í‚¤ì§€ì— ì¶”ê°€ë˜ëŠ” subpackageê°€ ìˆë‹¤ë©´ í•´ë‹¹ subpackage ì´ë¦„ì´ URL ê²½ë¡œì— ì¶”ê°€ëœë‹¤.</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#a40000>..</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   ...
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;pathPrefix&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;/easycompany&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;caseSensitive&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span> 
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;basePackage&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;com.easycompany.controller&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.EmployeeListController&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.InsertEmployeeController&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>   ...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>í•˜ë©´, EmployeeListController â†” /easycompany/hierarchy/employeeList*, InsertEmployeeController â†” /easycompany/hierarchy/insertEmployee* ê³¼ ê°™ì´ url mappingì´ ì´ë£¨ì–´ ì§„ë‹¤.</p><h3 id=simpleurlhandlermapping>SimpleUrlHandlerMapping</h3><p>SimpleUrlHandlerMappingì€ Ant-Style íŒ¨í„´ ë§¤ì¹­ì„ ì§€ì›í•˜ë©°, í•˜ë‚˜ì˜ Controllerì— ì—¬ëŸ¬ URLì„ mapping í•  ìˆ˜ ìˆë‹¤.
proertyì˜ key ê°’ì— URL íŒ¨í„´ì„ ì§€ì •í•˜ê³  valueì—ëŠ” Controllerì˜ id í˜¹ì€ ì´ë¦„ì„ ì§€ì •í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#a40000>...</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;mappings&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&lt;props&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/employeeList.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>employeeListController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/insertEmployee.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>insertEmployeeController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/updateEmployee.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>updateEmployeeController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/loginProcess.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>loginController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/**/login.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>staticPageController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/static/*.html&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>staticPageController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&lt;/props&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;loginController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.LoginController&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;employeeListController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.EmployeeListController&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;insertEmployeeController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.InsertEmployeeController&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;updateEmployeeController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.UpdateEmployeeController&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;staticPageController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.UrlFilenameViewController&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>SimpleUrlHandlerMappingì„ ì‚¬ìš©í•˜ë©´ Interceptorë¥¼ íŠ¹ì • URL ë‹¨ìœ„ë¡œ ì ìš©í•˜ëŠ”ê²Œ ê°€ëŠ¥í•˜ë‹¤.
í”„ë¡œí¼í‹° interceptorsì— ì ìš©í•˜ë ¤ëŠ” Interceptorë“¤ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ì„ ì–¸í•´ì£¼ë©´ ëœë‹¤.
URL /employeeList.do, /insertEmployee.do, /updateEmployee.do ìš”ì²­ì— ëŒ€í•´ì„œ ì‚¬ìš©ì ì¸ì¦ì—¬ë¶€ë¥¼ interceptorë¡œ ê²€ì¦í•œë‹¤ê³  í•˜ë©´,ì•„ë˜ì™€ ê°™ì´ ì •ì˜í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#a40000>...</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;interceptors&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                     <span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&lt;ref</span> <span style=color:#c4a000>local=</span><span style=color:#4e9a06>&#34;authenticInterceptor&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>                     <span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;mappings&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&lt;props&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/employeeList.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>employeeListController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/insertEmployee.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>insertEmployeeController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/updateEmployee.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>updateEmployeeController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&lt;/props&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;mappings&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&lt;props&gt;</span>                                
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/**/login.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>staticPageController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/static/*.html&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>staticPageController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&lt;/props&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;loginController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.LoginController&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;employeeListController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.EmployeeListController&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;insertEmployeeController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.InsertEmployeeController&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;updateEmployeeController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.UpdateEmployeeController&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;staticPageController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.UrlFilenameViewController&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;authenticInterceptor&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.interceptor.AuthenticInterceptor&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><h3 id=simpleurlannotationhandlermapping-deprecated>SimpleUrlAnnotationHandlerMapping (@deprecated)</h3><ul><li>Spring 3ë¶€í„° <code>&lt;mvc:interceptors></code> elementë¥¼ í†µí•´ SimpleUrlAnnotationHandlerMappingê³¼ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ë¯€ë¡œ deprecatedë˜ì—ˆë‹¤.</li></ul><p>DefaultAnnotationHandlerMappingì— interceptorë¥¼ ë“±ë¡í•˜ë©´, ëª¨ë“  @Controllerì— interceptorê°€ ì ìš©ë˜ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.
SimpleUrlAnnotationHandlerMappingì€ @Controller ì‚¬ìš©ì‹œì— url ë‹¨ìœ„ë¡œ Interceptorë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆë‹¤.
Spring 3ë¶€í„° <code>&lt;mvc:interceptors></code>ë¥¼ ì´ìš©í•˜ì—¬ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ë¯€ë¡œ í˜„ì¬ SimpleUrlAnnotationHandlerMappingì€ deprecatedë˜ì—ˆë‹¤.
ê·¸ëŸ¬ë‚˜ ì´ì „ ë²„ì „ì€ í•´ë‹¹ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.</p><p>SimpleUrlAnnotationHandlerMappingì€ ì•„ë˜ì™€ ê°™ì€ 3ê°€ì§€ ì‚¬í•­ì´ ê³ ë ¤ë¬ë‹¤.</p><ul><li>HandlerMapping:Interceptors ê´€ê³„ì˜ ìŠ¤í”„ë§ êµ¬ì¡°ë¥¼ ê¹¨ëœ¨ë¦¬ì§€ ë§ì. (ex. Controller:Interceptor (X))</li><li>ì‰¬ìš´ ì‚¬ìš©ì„ ìœ„í•´ ê¸°ì¡´ì˜ HandlerMappingê³¼ ë¹„ìŠ·í•œ ë°©ì‹ì˜ ì‚¬ìš©ë²•ì„ ì„ íƒí•˜ì. (ex.SimpleUrlHandlerMapping)</li><li>ìµœì†Œí•œì˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•˜ì. â†’ ì§§ì€ ì‹œê°„â€¦ ë˜í•œ ì¶”í›„ deprecatedì‹œì— ì‹œìŠ¤í…œì— ì˜í–¥ì„ ìµœì†Œí™” í•˜ê¸° ìœ„í•´.</li></ul><p>ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ˆê¸° êµ¬ë™ë ë•Œ, DefaultAnnotationHandlerMappingì€ 2ê°€ì§€ ì£¼ìš”í•œ ì‘ì—…ì„ í•œë‹¤. (ë‹¤ë¥¸ HandlerMappingë„ ìœ ì‚¬í•œ ì‘ì—…ì„ í•œë‹¤.)</p><ol><li>@RequestMappingì˜ url ì •ë³´ë¥¼ ì½ì–´ ë“¤ì—¬ í•´ë‹¹ Controllerì™€ urlê°„ì˜ ë§¤í•‘ ì‘ì—….</li><li>ì„¤ì •ëœ Interceptorë“¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ì½ì–´ ë“¤ì„.</li></ol><p>1ë²ˆ ì‘ì—…ì€ DefaultAnnotationHandlerMappingì˜ ìƒìœ„ í´ë˜ìŠ¤ì¸ AbstractDetectingUrlHandlerMappingì—ì„œ ì´ë£¨ì–´ ì§€ëŠ”ë°,
ë§µí•‘ì„ ìœ„í•œ urlë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” determineUrlsForHandler ë©”ì†Œë“œëŠ” í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•˜ë„ë¡ abstract ì„ ì–¸ ë˜ì–´ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>abstract</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>AbstractDetectingUrlHandlerMapping</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>AbstractUrlHandlerMapping</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>detectHandlers</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>BeansException</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>logger</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isDebugEnabled</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>logger</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>debug</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Looking for URL mappings in application context: &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>getApplicationContext</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>beanNames</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>detectHandlersInAncestorContexts</span> <span style=color:#ce5c00;font-weight:700>?</span>
</span></span><span style=display:flex><span>				<span style=color:#000>BeanFactoryUtils</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>beanNamesForTypeIncludingAncestors</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>getApplicationContext</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>:</span>
</span></span><span style=display:flex><span>				<span style=color:#000>getApplicationContext</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>getBeanNamesForType</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>// Take any bean name that we can determine URLs for.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>for</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>i</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#000>i</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#000>beanNames</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>length</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>++)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>String</span> <span style=color:#000>beanName</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>beanNames</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>];</span>
</span></span><span style=display:flex><span>			<span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>urls</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>determineUrlsForHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>beanName</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(!</span><span style=color:#000>ObjectUtils</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isEmpty</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>urls</span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>				<span style=color:#8f5902;font-style:italic>// URL paths found: Let&#39;s consider it a handler.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>				<span style=color:#000>registerHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>urls</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>beanName</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>				<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>logger</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isDebugEnabled</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>					<span style=color:#000>logger</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>debug</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Rejected bean name &#39;&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>beanNames</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;&#39;: no URL paths identified&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>				<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>			<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#204a87;font-weight:700>abstract</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>determineUrlsForHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>beanName</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>DefaultAnnotationHandlerMappingì˜ determineUrlsForHandler ë©”ì†Œë“œëŠ” @RequestMappingì˜ url ë¦¬ìŠ¤íŠ¸ë¥¼ ì „ë¶€ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì—,
ë¹ˆ ì„¤ì • íŒŒì¼ì— ì •ì˜í•œ url ë¦¬ìŠ¤íŠ¸ë§Œ ê°€ì ¸ì˜¤ë„ë¡ SimpleUrlAnnotationHandlerMappingì—ì„œ determineUrlsForHandler ë©”ì†Œë“œë¥¼ êµ¬í˜„ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>egovframework.rte.ptl.mvc.handler</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>SimpleUrlAnnotationHandlerMapping</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>DefaultAnnotationHandlerMapping</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//urlë¦¬ìŠ¤íŠ¸, ì¤‘ë³µê°’ì„ í—ˆìš©í•˜ì§€ ì•ŠìŒìœ¼ë¡œ Set ê°ì²´ì— ë‹´ëŠ”ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>Set</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>urls</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setUrls</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Set</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>urls</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>urls</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>urls</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>/**
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * @RequestMappingë¡œ ì„ ì–¸ëœ urlì¤‘ì— í”„ë¡œí¼í‹° urlsì— ì •ì˜ëœ urlë§Œ remappingí•´ return
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * url mappingì‹œì—ëŠ” PathMatcherë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ë³„ë„ë¡œ ë“±ë¡í•œ PathMatcherê°€ ì—†ë‹¤ë©´ AntPathMatcherë¥¼ ì‚¬ìš©í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * @param urlsArray - @RequestMappingë¡œ ì„ ì–¸ëœ url list
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * @return urlsArrayì¤‘ì— ì„¤ì •ëœ urlì„ í•„í„°ë§í•´ì„œ return.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 */</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>remappingUrls</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>urlsArray</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>urlsArray</span><span style=color:#ce5c00;font-weight:700>==</span><span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>ArrayList</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>remappedUrls</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ArrayList</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>for</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Iterator</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>it</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>urls</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>iterator</span><span style=color:#ce5c00;font-weight:700>();</span> <span style=color:#000>it</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasNext</span><span style=color:#ce5c00;font-weight:700>();)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>String</span> <span style=color:#000>urlPattern</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>it</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>next</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>for</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>;</span><span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>urlsArray</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>length</span><span style=color:#ce5c00;font-weight:700>;</span><span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>++){</span>
</span></span><span style=display:flex><span>				<span style=color:#204a87;font-weight:700>if</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>getPathMatcher</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>matchStart</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>urlPattern</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>urlsArray</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>])){</span>					
</span></span><span style=display:flex><span>					<span style=color:#000>remappedUrls</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>urlsArray</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>]);</span>
</span></span><span style=display:flex><span>				<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>			<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[])</span> <span style=color:#000>remappedUrls</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toArray</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#000>remappedUrls</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>size</span><span style=color:#ce5c00;font-weight:700>()]);</span>		
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>/**
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * @RequestMappingë¡œ ì„ ì–¸ëœ urlì„ í•„í„°ë§í•˜ê¸° ìœ„í•´
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMappingì˜ 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * ë©”ì†Œë“œ protected String[] determineUrlsForHandler(String beanName)ë¥¼ override.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * @param beanName - the name of the candidate bean
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 * @return ë¹ˆì— í•´ë‹¹í•˜ëŠ” URL list
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 */</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>determineUrlsForHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>beanName</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>remappingUrls</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>super</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>determineUrlsForHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>beanName</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>	
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ì¸í„°ì…‰í„°ë¥¼ ì ìš©í•  urlë“¤ì„ í”„ë¡œí¼í‹° urlsì— ì„ ì–¸í•˜ë©´ ë˜ë©°, Ant-styleì˜ íŒ¨í„´ ë§¤ì¹­ì´ ì§€ì›ëœë‹¤.
SimpleUrlAnnotationHandlerMappingì€ ì„ ì–¸ëœ urlë§Œì„ Controllerì™€ ë§¤í•‘ì²˜ë¦¬í•œë‹¤.
ë”°ë¼ì„œ, ì•„ë˜ì™€ ê°™ì´ ì„ ì–¸ëœ DefaultAnnotationHandlerMappingì™€ ê°™ì´ ì„ ì–¸ë˜ì–´ì•¼ í•˜ë©°, ìš°ì„ ìˆœìœ„ëŠ” SimpleUrlAnnotationHandlerMappingì´ ë†’ì•„ì•¼ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;selectAnnotaionMapper&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.rte.ptl.mvc.handler.SimpleUrlAnnotationHandlerMapping&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#c4a000>p:order=</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;interceptors&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;ref</span> <span style=color:#c4a000>local=</span><span style=color:#4e9a06>&#34;authenticInterceptor&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;urls&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;set&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;value&gt;</span>/*Employee.do<span style=color:#204a87;font-weight:700>&lt;/value&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;value&gt;</span>/employeeList.do<span style=color:#204a87;font-weight:700>&lt;/value&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/set&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;annotationMapper&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>p:order=</span><span style=color:#4e9a06>&#34;2&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;authenticInterceptor&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.interceptor.AuthenticInterceptor&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li>The Spring Framework - Reference Documentation 2.5.6</li><li>Spring Framework API Documentation 2.5.6</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-9902299d75c3bd5be2057d1f696164b2>5 - Spring MVC Tag Configuration</h1><div class=lead>Spring 3ë¶€í„° mvcíƒœê·¸ë¥¼ í†µí•˜ì—¬ Controllerì²˜ë¦¬ë¥¼ ìœ„í•œ ì„¤ì •ì„ ì‰½ê²Œ í•˜ë„ë¡ Spring mvc ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.</div><h1 id=spring-mvc-tag-configuration>Spring MVC Tag Configuration</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>Spring 3ë¶€í„° mvcíƒœê·¸ë¥¼ í†µí•˜ì—¬ Controllerì²˜ë¦¬ë¥¼ ìœ„í•œ ì„¤ì •ì„ ì‰½ê²Œ í•˜ë„ë¡ Spring mvc ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.</p><ul><li><a href=#mvcannotation-driven><a href=mvc:annotation-driven>mvc:annotation-driven</a></a></li><li><a href=#mvcinterceptors><a href=mvc:interceptors>mvc:interceptors</a></a></li><li><a href=#mvcview-controller><a href=mvc:view-controller>mvc:view-controller</a></a></li></ul><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=mvcannotation-driven>mvc:annotation-driven</h3><p>Spring 3.0ë¶€í„° ì œê³µí•˜ëŠ” mvc íƒœê·¸ ì„¤ì •ì´ë‹¤. Annotationê¸°ë°˜ì˜ Controllerí˜¸ì¶œ ì„¤ì •ê³¼ í•„ìš”í•œ beanì„¤ì •ì„ í¸ë¦¬í•˜ê²Œ í•˜ë„ë¡ ë§Œë“¤ì–´ì¡Œë‹¤. ê·¸ëŸ¬ë‚˜ ë‚´ë¶€ ìˆ˜ì •ì´ ì–´ë µê¸° ë•Œë¬¸ì— mvc:annotation-drivenì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì— ëŒ€í•˜ì—¬ ì˜ ìˆ™ì§€í•˜ê³  ë³€ê²½ì´ ë¶ˆê°€ëŠ¥ í•œ ê²½ìš°ì—ëŠ” mvc:annotation-drivenì„ ì“°ì§€ ì•Šê³  í•„ìš”í•œ beanì„ ìˆ˜ë™ìœ¼ë¡œ ë„£ì–´ì¤˜ì•¼í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.
mvc:annotation-drivenì—ì„œ ì“°ëŠ” beanì„¤ì •ì„ ì¤‘ë³µìœ¼ë¡œ ì“°ì§€ ì•Šë„ë¡ ì£¼ì˜í•œë‹¤.</p><h4 id=mvcannotation-drivenì—ì„œ-ì œê³µí•˜ëŠ”-ê¸°ëŠ¥>mvc:annotation-drivenì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥</h4><ul><li>RequestMappingHandlerMapping beanë“±ë¡(ê¸°ì¡´ DefaultAnnotationHandlerMapping)</li><li>RequestMappingHandlerAdapter beanë“±ë¡(ê¸°ì¡´ AnnotationMethodHandlerAdapter)<ul><li>customArgumentResolvers, customReturnValueHandlers ì¶”ê°€ ê°€ëŠ¥</li></ul></li><li>JSR-303ì˜ ê²€ì¦ìš© ì–´ë…¸í…Œì´ì…˜(@Valid)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ LocalValidatorFactoryBean beanì„¤ì • (JSR-303ì§€ì› ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¡´ì¬ ì‹œ)</li><li>RequestMappingHandlerAdapterì˜ messageConvertersí”„ë¡œí¼í‹°ë¡œ ë©”ì‹œì§€ ì»¨ë²„í„°ë“¤ ë“±ë¡</li></ul><p>(ë‹¤ìŒ ì„¤ì •ê³¼ ë™ì¼í•œ ë™ì‘ì„ í•œë‹¤.)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.http.converter.ByteArrayHttpMessageConverter&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.http.converter.StringHttpMessageConverter&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;writeAcceptCharset&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;false&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.http.converter.ResourceHttpMessageConverter&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.http.converter.xml.SourceHttpMessageConverter&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.http.converter.xml.XmlAwareFormHttpMessageConverter&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- jaxb2ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¡´ì¬ì‹œ --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.http.converter.xml.Jaxb2RootElementHttpMessageConverter&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¡´ì¬ì‹œ --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- rome ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¡´ì¬ì‹œ --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.http.converter.feed.AtomFeedHttpMessageConverter&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.http.converter.feed.RssChannelHttpMessageConverter&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><ul><li>ë””í´íŠ¸ validatorë¡œ ì–´ë…¸í…Œì´ì…˜ ë°©ì‹ì˜ í¬ë§·í„°ë¥¼ ì§€ì›í•˜ëŠ” FormattingConversionServiceFactoryBeanë¥¼ ì œê³µí•˜ë©° validatorë¥¼ ì¶”ê°€ ì„¤ì •í•˜ë„ë¡ ì§€ì›</li><li>ë””í´íŠ¸ ì»¨ë²„ì „ ì„œë¹„ìŠ¤ë¡œ FormattingConversionServiceFactoryBeanì„ ì œê³µí•˜ë©° conversion-serviceë¥¼ ì¶”ê°€ ì„¤ì •í•˜ë„ë¡ ì§€ì›</li><li>ConversionServiceExposingInterceptorë¥¼ ë“±ë¡í•˜ì—¬ JSPì˜ <code>&lt;spring:eval></code>ì—ì„œ ConversionServiceë¥¼ ì ìš©ë˜ë„ë¡ ì§€ì›</li></ul><h4 id=mvcannotation-driven-ì„¤ì •-ì‹œ-ì£¼ì˜í•´ì•¼í• -ì >mvc:annotation-driven ì„¤ì • ì‹œ ì£¼ì˜í•´ì•¼í•  ì </h4><ol><li><code>&lt;mvc:annotation-driven></code>ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì§ì ‘ RequestMappingHandlerAdapterë¥¼ ë“±ë¡í•´ì£¼ì–´ì„œëŠ” ì•ˆë˜ë©° ì§ì ‘ ë“±ë¡ì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” <code>&lt;mvc:annotation-driven></code>ì„ ì„¤ì •í•˜ì§€ ì•Šê³  ê°ê°ì˜ í•„ìš”í•œ ì„¤ì •ì„ ìˆ˜ë™ìœ¼ë¡œ í•´ì£¼ì–´ì•¼ í•œë‹¤. ì „ìì •ë¶€ í”„ë ˆì„ì›Œí¬ 3.0ì—ì„œëŠ” Controllerì˜ íŒŒë¼ë¯¸í„°ë¡œ CommandMapì„ ì“°ê¸° ìœ„í•˜ì—¬ RequestMappingHandlerAdapterë¥¼ ìƒì†ë°›ì€ EgovRequestMappingHandlerAdapterë¥¼ ë§Œë“¤ì—ˆìœ¼ë©°, CommandMapì„ ì¨ì•¼í•˜ëŠ” ê²½ìš° <code>&lt;mvc:annotation-driven></code>ì„ ì„¤ì •í•˜ì§€ ì•Šê³  EgovRequestMappingHandlerAdapterë¥¼ ì§ì ‘ ì„ ì–¸í•˜ë„ë¡ ê°€ì´ë“œí•˜ê³  ìˆë‹¤.</li><li>RequestMappingHandlerAdapterì˜ customArgumentResolvers ì†ì„±ì— pring 3.1ì´ì „ ë²„ì „ì€ WebArgumentResolverì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í–ˆìœ¼ë‚˜ HandlerMethodArgumentResolverì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ArgumentResolverê°€ ì„¤ì •í•´ì•¼ í•œë‹¤. <code>&lt;mvc:annotation-driven></code> ë‚´ë¶€ ì„¤ì •ìœ¼ë¡œ WebArgumentResolverì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ë¥¼ ì“¸ ìˆ˜ ìˆìœ¼ë‚˜ ì´ëŠ” RequestMappingHandlerAdapterê°€ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ServletWebArgumentResolverAdapterì—ì„œ í˜¸í™˜í•˜ë„ë¡ ë³€ê²½í•´ì£¼ëŠ” ê²ƒì´ë‹¤.</li><li>customReturnValueHandlersì˜ ì†ì„±ì€ (Spring3.1ì´ì „ë²„ì „ì˜ customModelAndViewResolversì†ì„±ì—ì„œ ì´ë¦„ë³€ê²½) ê¸°ì¡´ì—ëŠ” ModelAndViewResolverì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¥¼ ì„¤ì •í•˜ì˜€ìœ¼ë‚˜ Spring 3.1ë¶€í„° HandlerMethodReturnValueHandlerì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¥¼ ì„¤ì •í•´ì•¼ í•œë‹¤.</li></ol><h3 id=mvcinterceptors>mvc:interceptors</h3><p>ê¸°ì¡´ HandlerMappingì—ëŠ” Interceptorë¥¼ ëª¨ë“  urlì— ì¼ê´„ì ìœ¼ë¡œë§Œ ì ìš©í•  ìˆ˜ ìˆì—ˆê¸° ë•Œë¬¸ì— ì „ìì •ë¶€ í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” SimpleUrlAnnotationHandlerMappingì„ ì œê³µí•˜ì—¬ urlë³„ë¡œ Interceptorë¥¼ ê±¸ ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤. ê·¸ëŸ¬ë‚˜ Spring 3ë¶€í„° ì œê³µí•˜ëŠ” <a href=mvc:interceptors>mvc:interceptors</a>íƒœê·¸ë¥¼ í†µí•´ urlë§ˆë‹¤ Interceptorë¥¼ ì ìš©í•  ìˆ˜ ìˆë„ë¡ Spring mvcíƒœê·¸ ìŠ¤í‚¤ë§ˆì—ì„œ ì œê³µí•˜ê³  ìˆë‹¤. ë”°ë¼ì„œ SimpleUrlAnnotationHandlerMappingì€ deprecatedë˜ì—ˆìœ¼ë©° urlë³„ë¡œ Interceptorë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” <a href=mvc:interceptors>mvc:interceptors</a>íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.</p><p>Interceptorë¥¼ ì¼ê´„ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒì˜ ì˜ˆì™€ ê°™ì´ ì‚¬ìš©í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;mvc:interceptors&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egov.interceptors.EgovInterceptor&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/mvc:interceptors&gt;</span>
</span></span></code></pre></div><p>íŠ¹ì • íŒ¨í„´ì˜ urlì—ë§Œ ì¸í„°ì…‰í„°ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” <code>&lt;mvc:interceptors></code>íƒœê·¸ ë‚´ë¶€ì— <code>&lt;mvc:interceptor></code>ë¥¼ ì‚¬ìš©í•œë‹¤.
ë§Œì•½ <code>/egov/sample</code>ë¡œ ì‹œì‘ë˜ëŠ” URLìš”ì²­ì—ë§Œ ì¸í„°ì…‰í„°ë¥¼ ì •ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;mvc:interceptors&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;mvc:interceptor&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;mvc:mapping</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/egov/sample/*&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egov.interceptors.EgovInterceptor&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/mvc:interceptor&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/mvc:interceptors&gt;</span>
</span></span></code></pre></div><p>ë˜í•œ interceptorì— íŠ¹ì • URL Patternì„ ì œì™¸í•˜ì—¬ ë§µí•‘í•˜ëŠ” ê¸°ëŠ¥ë„ ì§€ì›í•˜ê³  ìˆë‹¤. ì´ ë•ŒëŠ” <code>&lt;mvc:interceptor></code>ë‚´ë¶€ì—ì„œ <code>&lt;exclude-mapping></code>íƒœê·¸ë¥¼ ì‚¬ìš©í•œë‹¤.
ë§Œì•½ /egov/ë¡œ ì‹œì‘í•˜ëŠ” URLì¤‘ /egov/admin/ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” URLì— interceptorë§µí•‘ì„ ì œì™¸í•˜ê³  ì‹¶ìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.</p><p><code>&lt;exclude-mapping></code> íƒœê·¸ëŠ” spring 3.2 ë²„ì „ ë¶€í„° ì‚¬ìš© ê°€ëŠ¥ í•©ë‹ˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;mvc:interceptors&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;mvc:interceptor&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;mvc:mapping</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/egov/**&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;mvc:exclude-mapping</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/egov/admin/**&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egov.interceptors.EgovInterceptor&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/mvc:interceptor&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/mvc:interceptors&gt;</span>
</span></span></code></pre></div><h3 id=mvcview-controller>mvc:view-controller</h3><p>Controllerì—ì„œ ë³„ë‹¤ë¥¸ ë¡œì§ ì—†ì´ Viewë¥¼ ì§€ì •í•˜ì—¬ DispatcherServletì— ë„˜ê²¨ì£¼ëŠ” ì‘ì—…ë§Œ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì´ëŸ´ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ë°”ë¡œ <code>&lt;mvc:view-controller></code>íƒœê·¸ì´ë‹¤.
<code>&lt;mvc:view-controller></code>íƒœê·¸ë¥¼ ì„¤ì •í•˜ì—¬ ë§¤í•‘í•  URLíŒ¨í„´ê³¼ Viewì´ë¦„ë§Œ ë„£ì–´ì£¼ë©´ í•´ë‹¹ URLì„ ë§¤í•‘í•˜ê³  ì„¤ì •í•œ viewë¥¼ ë¦¬í„´í•˜ëŠ” ParameterizableViewControllerê°€ ìë™ìœ¼ë¡œ ë“±ë¡ëœë‹¤.</p><p>ë§Œì•½ â€/â€œURLì„ ìš”ì²­ë°›ì•˜ì„ ê²½ìš° â€œindexâ€ë¥¼ Viewì´ë¦„ìœ¼ë¡œ ë¦¬í„´í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;mvc:view-controller</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/&#34;</span> <span style=color:#c4a000>view-name=</span><span style=color:#4e9a06>&#34;index&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>InternalResourceViewResolverì˜ prefixë¥¼ /WEB-INF/views/ë¡œ ì •í•˜ê³  suffixë¥¼ .jspë¡œ ì •í•˜ì˜€ë‹¤ë©´ / URLì´ ìš”ì²­ë˜ì—ˆì„ ë•Œ /WEB-INF/views/index.jsp viewë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.</p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-config-enable/>Spring 3.2.x reference : Enabling the MVC Java Config or the MVC XML Namespace</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-404522f2d68d13c85437f6487909b10e>6 - Controller</h1><div class=lead>DispatcherServletì€ HandlerMappingì„ í†µí•´ ìš”ì²­ì„ ì²˜ë¦¬í•  Controllerë¥¼ ê²°ì •í•˜ê³ , í•´ë‹¹ ControllerëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ì—¬ ë°ì´í„°ë¥¼ Model ê°ì²´ì— ë°˜ì˜í•œë‹¤. Spring MVCëŠ” ë‹¤ì–‘í•œ Controllerë“¤ì„ ì œê³µí•˜ë©°, ì´ë“¤ì€ ëŒ€ë¶€ë¶„ org.springframework.web.servlet.mvc.Controller ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë“¤ì´ë‹¤.</div><h1 id=controller>Controller</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>DispatcherServletì€ HandlerMappingë¥¼ ì´ìš©í•´ì„œ í•´ë‹¹ ìš”ì²­ì„ ì²˜ë¦¬í•  Controllerë¥¼ ê²°ì •í•œë‹¤.
ì´ ControllerëŠ” ìš”ì²­ì— ëŒ€í•´ì„œ ì²˜ë¦¬ë¥¼ í•˜ê³  ë°ì´í„°ë¥¼ Model ê°ì²´ì— ë°˜ì˜í•œë‹¤.
Spring MVCëŠ” ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ Controllerë¥¼ ì œê³µí•˜ëŠ”ë°, ë°ì´í„° ë°”ì¸ë”©ì´ë‚˜ í¼ ì²˜ë¦¬ ë˜ëŠ” ë©€í‹° ì•¡ì…˜ë“±ì˜ í¸ì˜ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
ì´ Controllerë“¤ì€ org.springframework.web.servlet.mvc.Controller ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë“¤ì´ë‹¤.(@ControllerëŠ” ì˜ˆì™¸ë‹¤. ì—¬ê¸°ì„œëŠ” @Controllerì— ëŒ€í•œ ì„¤ëª…ì€ ì œì™¸í•œë‹¤.)
eclipseì—ì„œ ì¸í„°í˜ì´ìŠ¤ Controllerë¥¼ Hierarchy Viewì—ì„œ ì—´ì–´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¥¼ ë³´ì—¬ì¤€ë‹¤.</p><p><img src=../images/web-servlet-controller-preview.png alt="Controller preview"></p><p>ì´ ì¤‘ ì£¼ìš” Controllerì˜ ìš©ë„ ë° íŠ¹ì§•ì„ í‘œë¡œ ë‚˜íƒ€ë‚´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>í´ë˜ìŠ¤</th><th>ìš©ë„ ë° íŠ¹ì§•</th></tr></thead><tbody><tr><td>Controller</td><td>ê¸°ë³¸ì ì¸ Controller ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. Strutsì˜ Actionê³¼ ë¹„êµë  ìˆ˜ ìˆë‹¤.<br>Springì—ì„œëŠ” Controller ì‘ì„±ì‹œì— ì§ì ‘ Controller ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì§€ ë§ê³ , ì•„ë˜ì˜ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•´ì„œ ì‘ì„±í• ê²ƒì„ ê¶Œì¥í•œë‹¤.</td></tr><tr><td>AbstractController</td><td>ì›¹ ìš”ì²­ê³¼ ì‘ë‹µì„ ì²˜ë¦¬í•˜ëŠ” ê¸°ë³¸ì ì¸ Controllerì´ë‹¤.<br>WebContentGeneratorë¥¼ ìƒì†ë°›ê¸° ë•Œë¬¸ì—, HTTP ë©”ì†Œë“œ(POST,GET) ì§€ì •, ì„¸ì…˜ í•„ìˆ˜ ì—¬ë¶€ë“±ì˜ í¸ì˜ê¸°ëŠ¥ì„ ì¶”ê°€ë¡œ ë°›ëŠ”ë‹¤.</td></tr><tr><td>AbstractCommandController</td><td>HttpServletRequestì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë™ì ìœ¼ë¡œ ë°ì´í„° ê°ì²´(Command)ì— ë°”ì¸ë”© í•  ìˆ˜ ìˆë‹¤.<br>í•˜ì§€ë§Œ HTML í¼ ì²˜ë¦¬ì‹œì—” SimpleFormControllerì„ ì‚¬ìš©í•˜ë¼.</td></tr><tr><td>SimpleFormController</td><td>HTML í¼ ì²˜ë¦¬ì‹œì— ì‚¬ìš©í•˜ëŠ” Controllerì´ë‹¤.<br>AbstractCommandControllerì²˜ëŸ¼ HttpServletRequestì˜ íŒŒë¼ë¯¸í„°ì™€ Command ê°ì²´ë¥¼ ë°”ì¸ë”©í• ë¿ ì•„ë‹ˆë¼,<br>ì…ë ¥í¼ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ì±„ì›Œ ë³´ì—¬ì£¼ê±°ë‚˜(referenceData, formBackingObject), ì¼ë°˜ì ì¸ í¼ ì²˜ë¦¬ ì‹œë‚˜ë¦¬ì˜¤ì— ë”°ë¥¸ view ë¶„ê¸°(formView, successView) ë“±ì˜ í¸ì˜ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</td></tr><tr><td>MultiActionController</td><td>ì—°ê´€ëœ ì—¬ëŸ¬ ì•¡ì…˜ì„ í•œ Controllerì—ì„œ ì²˜ë¦¬í• ë•Œ ì‚¬ìš©í•˜ëŠ” Controllerì´ë‹¤.</td></tr><tr><td>UrlFilenameViewController</td><td>Controllerì—ì„œ ì²˜ë¦¬ ë¡œì§ì´ ì—†ì´ ë°”ë¡œ viewë¡œ ì´ë™í•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©í•œë‹¤.</td></tr></tbody></table><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=abstractcontroller>AbstractController</h3><p>ë‹¨ìˆœíˆ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ModelAndView ê°ì²´ì— ë°˜ì˜í•˜ëŠ” ì‘ì—…ì„ í•  ë•ŒëŠ” AbstractControllerì„ ìƒì†í•œ Controllerë¥¼ êµ¬í˜„í•˜ë©´ ëœë‹¤.
êµ¬í˜„ Controllerì—ì„œëŠ” AbstractControllerì˜ ì¶”ìƒ ë©”ì†Œë“œì¸ handleRequestInternalì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>handleRequestInternal</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span></code></pre></div><p>Controllerë¥¼ ì‘ì„±í• ë•Œ ì¸í„°í˜ì´ìŠ¤ Controllerë¥¼ ë°”ë¡œ êµ¬í˜„í•˜ëŠ” ëŒ€ì‹ , AbstractControllerë¥¼ ìƒì†ë°›ì•„ êµ¬í˜„í•˜ë©´ íŠ¹ì • HTTP ë©”ì†Œë“œ(GET,POST)ì— ëŒ€í•œ í•„í„°ë§ì´ë‚˜ ì„¸ì…˜ í•„ìˆ˜ ì²´í¬ë“±ì˜ í¸ì˜ ê¸°ëŠ¥ì„ ì œê³µë°›ëŠ”ë‹¤.
AbstractControllerì˜ ì‘ì—… íë¦„ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ol><li>DispatcherServletì— ì˜í•´ handleRequest()ê°€ í˜¸ì¶œëœë‹¤.</li><li>íŠ¹ì • HTTP ë©”ì†Œë“œ(GET,POST)ì— ëŒ€í•œ í•„í„°ë§ì„ ìˆ˜í–‰í•œë‹¤.</li><li>ì„¸ì…˜í•„ìˆ˜ì—¬ë¶€ê°’ì´ trueì´ë©´ HttpServletRequest ê°ì²´ì—ì„œ ì„¸ì…˜ì„ êº¼ë‚¸ë‹¤.</li><li>cacheSeconds í”„ë¡œí¼í‹°ì— ì„¤ì •ëœ ê°’ì— ë”°ë¼ ìºì‹œ í—¤ë”ë¥¼ ì„¤ì •í•œë‹¤.</li><li>ì¶”ìƒ ë©”ì†Œë“œì¸ handleRequestInternal()ì„ í˜¸ì¶œí•œë‹¤. AbstractControllerë¥¼ ìƒì†ë°›ì€ êµ¬í˜„, Controller í´ë˜ìŠ¤ë¥¼ ì‘ì„±í–ˆë‹¤ë©´ êµ¬í˜„ëœ handleRequestInternal() ë©”ì†Œë“œê°€ ì‹¤í–‰ëœë‹¤.</li></ol><p>ê´€ë ¨ í”„ë¡œí¼í‹°ë¥¼ ì •ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>ì´ë¦„</th><th>ê¸°ë³¸ê°’</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>supportedMethods</td><td>GET,POST</td><td>Controllerê°€ ì§€ì›í•˜ëŠ” HTTP ë©”ì†Œë“œ ë¦¬ìŠ¤íŠ¸(GET, POST and PUT)ë¡œ ì½¤ë§ˆ(,)ë¡œ êµ¬ë¶„í•œë‹¤.</td></tr><tr><td>requireSession</td><td>false</td><td>Controllerì—ì„œ ìš”ì²­ ì²˜ë¦¬ì‹œì— sessionì´ ë°˜ë“œì‹œ í•„ìš”í•œì§€ ì—¬ë¶€ì´ë‹¤. ê°’ì´ trueì¸ë° ì„¸ì…˜ì´ ì—†ë‹¤ë©´ ServletExceptionì´ ë°œìƒí•œë‹¤.</td></tr><tr><td>cacheSeconds</td><td>-1</td><td>ì‘ë‹µì˜ ìºì‹œ í—¤ë”ì— ì„¤ì •í•˜ëŠ” ì‹œê°„ê°’ìœ¼ë¡œ ë‹¨ìœ„ëŠ” ì´ˆë‹¨ìœ„ì´ë‹¤.<br>ê°’ì´ 0ì´ë©´ ìºì‹œë¥¼ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ” í—¤ë”ë¥¼ ê°–ê²Œ ë˜ë©°, -1(ê¸°ë³¸ê°’)ì´ë©´ ì–´ë–¤ í—¤ë”ë„ ìƒì„±í•˜ì§€ ì•Šìœ¼ë©°, ì–‘ìˆ˜ê°’ì„ ì„¤ì •í•˜ë©´ ì„¤ì •í•œ ê°’(ì´ˆ)ë§Œí¼ ë‚´ìš©ì„ ìºì‹±ì„ ìˆ˜í–‰í•˜ëŠ” í—¤ë”ë¥¼ ìƒì„±í•œë‹¤.</td></tr><tr><td>synchronizeOnSession</td><td>false</td><td>ë©”ì†Œë“œ handleRequestInternal()ì„ í˜¸ì¶œí• ë•Œ ì„¸ì…˜(HttpSession)ì— ë™ê¸°í™”(synchronized)í•´ì„œ í˜¸ì¶œí• ì§€ ì—¬ë¶€ì´ë‹¤. ë§Œì¼ ì„¸ì…˜ì´ ì—†ë‹¤ë©´ ì•„ë¬´ ì˜í–¥ì´ ì—†ë‹¤.</td></tr></tbody></table><h4 id=ì˜ˆì œ>ì˜ˆì œ</h4><p>ì‚¬ìš©ì ì¸ì¦ì²˜ë¦¬ë¥¼ ìœ„í•´ ì•„ì´ë””ì™€ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥ë°›ëŠ” í˜ì´ì§€ ì˜ˆì œ</p><p><img src=../images/web-servlet-controller-ex-login-form.png alt=web-servlet-controller-ex-login-form></p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;%@ page contentType=&#34;text/html; charset=UTF-8&#34;%&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;title&gt;Login Page&lt;/title&gt;
	&lt;link type=&#34;text/css&#34; rel=&#34;stylesheet&#34; href=&#34;scripts/easycompany.css&#34; /&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;form action=&#34;/easycompany/loginProcess.do&#34; method=&#34;post&#34;&gt;
		ì•„ì´ë”” : &lt;input type=text name=&#34;id&#34;&gt; íŒ¨ìŠ¤ì›Œë“œ: &lt;input type=password name=&#34;password&#34;&gt; &lt;input type=submit value=&#34;ë¡œê·¸ì¸&#34;&gt;
	&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>ë¡œê·¸ì¸ ì²˜ë¦¬ë¥¼ í•˜ëŠ” LoginControllerë¥¼ AbstractControllerë¥¼ í™•ì¥í•´ì„œ ì‘ì„±í•´ ë³´ì.
ë¨¼ì € ì•„ë˜ì™€ ê°™ì´ ë¹ˆì„¤ì •ì„ í•˜ê³ </p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;/loginProcess.do&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.LoginController&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:loginService-ref=</span><span style=color:#4e9a06>&#34;loginService&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:supportedMethods=</span><span style=color:#4e9a06>&#34;POST&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span> <span style=color:#8f5902;font-style:italic>&lt;!--HTTP ë©”ì†Œë“œê°€ POSTì¼ë•Œë§Œ ì²˜ë¦¬í•œë‹¤--&gt;</span>
</span></span></code></pre></div><p>ë©”ì†Œë“œ handleRequestInternal()ì— ì‹¤ì œ êµ¬í˜„ ë¡œì§ì„ ë„£ì–´ ì¤€ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.hierarchy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>LoginController</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>AbstractController</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>LoginService</span> <span style=color:#000>loginService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setLoginService</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>LoginService</span> <span style=color:#000>loginService</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>loginService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>loginService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>/**
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 *  AbstractControllerì˜ ì¶”ìƒ ë©”ì†Œë“œì¸ handleRequestInternalì˜ êµ¬í˜„ ë©”ì†Œë“œì´ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 *  ì‚¬ìš©ìë¡œ ë¶€í„° ì•„ì´ë””, íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥ë°›ì•„ ì¸ì¦ ì„±ê³µì´ë©´ ì„¸ì…˜ ê°ì²´ì— ê³„ì •ì •ë³´ë¥¼ ë‹´ê³  ì‚¬ì›ì •ë³´ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ë¡œ í¬ì›Œë”©í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 *  ì¸ì¦ì— ì‹¤íŒ¨í•˜ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë‹¤ì‹œ ë¦¬í„´í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>	 */</span>	
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>handleRequestInternal</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>id</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//ì•„ì´ë””
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>String</span> <span style=color:#000>password</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//íŒ¨ìŠ¤ì›Œë“œ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//ë¡œê·¸ì¸ ì¸ì¦ì„ ì²˜ë¦¬í•œ í›„, ë¡œê·¸ì¸ ì„±ê³µì´ë©´ Account ê°ì²´ì— ê³„ì • ê´€ë ¨ì •ë³´ë¥¼ ë¦¬í„´í•œë‹¤. ë¡œê·¸ì¸ ì‹¤íŒ¨ì´ë©´ null ë¦¬í„´.  
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>Account</span> <span style=color:#000>account</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Account</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>loginService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>authenticate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#000>password</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>account</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>//ë¡œê·¸ì¸ ì„±ê³µ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getSession</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>setAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;UserAccount&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>account</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//ê³„ì •ì •ë³´ë¥¼ ì„¸ì…˜ì— ì €ì¥.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;redirect:/employeeList.do&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//ì‚¬ì›ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ë¡œ ì´ë™.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>//ì‹¤íŒ¨
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;login&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//ë¡œê·¸ì¸í˜ì´ì§€ë¡œ ì´ë™
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=abstractcommandcontroller>AbstractCommandController</h3><p>AbstractCommandControllerëŠ” ìš”ì²­ íŒŒë¼ë¯¸í„°ê°’ì„ ì»¤ë§¨ë“œ(Command) í´ë˜ìŠ¤ì˜ í•„ë“œê°’ê³¼ ìë™ìœ¼ë¡œ ë°”ì¸ë”©í•  ë•Œ ì‚¬ìš©ëœë‹¤.
ì»¤ë§¨ë“œ í´ë˜ìŠ¤ëŠ” ì¼ë°˜ì ì¸ JavaBeanì´ë©´ ë˜ëŠ”ë°, ActionForm ê°™ì´ í”„ë ˆì„ì›Œí¬ì— ì¢…ì†ì ì¸ êµ¬ì¡°ì˜ í¼ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” Strutsì™€ì˜ ì°¨ì´ì ì´ë¼ í•  ìˆ˜ ìˆë‹¤.
íŒŒë¼ë¯¸í„°ì™€ ì»¤ë§¨ë“œ í´ë˜ìŠ¤ì˜ ë°ì´í„° ë°”ì¸ë”©ì€ ì¼ë°˜ì ìœ¼ë¡œ ì•Œë ¤ì§„ JavaBeans í”„ë¡œí¼í‹° í‘œì‹œë²•ì„ ë”°ë¥¸ë‹¤.
firstName ì´ë€ ì´ë¦„ì˜ íŒŒë¼ë¯¸í„°ê°€ ìˆë‹¤ë©´ ì»¤ë§¨ë“œ í´ë˜ìŠ¤ì˜ setFirstName([value]) ë©”ì†Œë“œë¥¼ ì°¾ì•„ ê°’ì„ ë°”ì¸ë”©í•œë‹¤.
íŒŒë¼ë¯¸í„° address.city ëŠ” ì»¤ë§¨ë“œ í´ë˜ìŠ¤ì˜ getAddress().setCity([value]) ë©”ì†Œë“œë¥¼ ì°¾ì•„ ê°’ì„ ë°”ì¸ë”©í•œë‹¤.
ì´ ê¸°ëŠ¥ì€ HTML í¼ ì²˜ë¦¬ì— ìœ ìš©í•œ í¸ì˜ ê¸°ëŠ¥ì´ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ HTML í¼ ì²˜ë¦¬ì—ëŠ” AbstractCommandControllerëŒ€ì‹  SimpleFormControllerë¥¼ ì‚¬ìš©í•œë‹¤.
AbstractCommandControllerì„ ìƒì†ë°›ëŠ” êµ¬í˜„ Controllerì—ì„œëŠ” ì¶”ìƒë©”ì†Œë“œ handle()ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>protected</span> <span style=color:#204a87;font-weight:700>abstract</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>handle</span><span style=color:#ce5c00;font-weight:700>(</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindException</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span></code></pre></div><h4 id=ì˜ˆì œ-1>ì˜ˆì œ</h4><p>ì‚¬ì›ë²ˆí˜¸,ë¶€ì„œë²ˆí˜¸,ì‚¬ì›ì´ë¦„ë“±ì˜ ê²€ìƒ‰ ì¡°ê±´ì— ë”°ë¼ ì‚¬ì›ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ ì˜ˆì œ</p><p><img src=../images/web-servlet-controller-ex-employee-list.png alt=web-servlet-controller-ex-employee-list></p><p>ê²€ìƒ‰ ì¡°ê±´ì„ ë‹´ëŠ” ë¹ˆì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.domain</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>SearchCriteria</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>searchEid</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>searchDid</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>searchName</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// ìœ„ì˜ ë³€ìˆ˜ë“¤ì— ëŒ€í•œ getter/setter...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ê²€ìƒ‰ ì¡°ê±´ì„ í™”ë©´ìœ¼ë¡œ ë¶€í„° ì…ë ¥ë°›ì•„ ê²€ìƒ‰ ì¡°ê±´ ë¹ˆ(bean)ì¸ SearchCriteriaì— ë‹´ì•„ì„œ ì„œë¹„ìŠ¤ì— ë„˜ê²¨ì£¼ê³  ë¦¬ìŠ¤íŠ¸ë¡œ ê²°ê³¼ë¥¼ ë°›ì•„ì˜¤ëŠ” EmployeeListController ì‘ì„±í•´ ë³´ì.
EmployeeListControllerë¥¼ AbstractControllerë¥¼ ì´ìš©í•´ ë§Œë“ ë‹¤ë©´, íŒŒë¼ë¯¸í„°ì˜ ê°’ì„ êº¼ë‚´ê³  ê°’ì„ ê°ì²´ì— ë‹´ëŠ” ì½”ë“œë¥¼ ì§ì ‘ ì‘ì„±í•´ì•¼ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.hierarchy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EmployeeListController</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>AbstractController</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>....</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>handleRequestInternal</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//request ê°ì²´ì˜ íŒŒë¼ë¯¸í„°ê°’ì„ êº¼ë‚´ì„œ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>String</span> <span style=color:#000>searchEid</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;searchEid&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//ì‚¬ì›ë²ˆí˜¸
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>String</span> <span style=color:#000>searchDid</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;searchDid&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//ë¶€ì„œë²ˆí˜¸
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>String</span> <span style=color:#000>searchName</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;searchName&#34;</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//ì‚¬ì›ì´ë¦„
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#8f5902;font-style:italic>//ê°ì²´ì— ì €ì¥í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>SearchCriteria</span> <span style=color:#000>searchCriteria</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>SearchCriteria</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>searchCriteria</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setSearchEid</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>searchEid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>searchCriteria</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setSearchDid</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>searchDid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>searchCriteria</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setSearchName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>searchName</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Employee</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>employeelist</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>employeeService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getAllEmployees</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>searchCriteria</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>ModelAndView</span> <span style=color:#000>modelview</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employeelist&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>employeelist</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;searchCriteria&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>searchCriteria</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setViewName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employeelist&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë§µí•‘í•´ì•¼í•  íŒŒë¼ë¯¸í„°ê°€ ë§ë‹¤ë©´ ìƒë‹¹íˆ ë²ˆê±°ë¡œìš´ ì‘ì—…ì´ê³ , ë‹¨ìˆœ ì‘ì—… ì½”ë“œì˜ ë¼ì¸ì´ ê¸¸ì–´ì ¸ ì½”ë“œì˜ ê°€ë…ì„±ë„ ë–¨ì–´ì§„ë‹¤.
EmployeeListControllerë¥¼ AbstractCommandControllerì„ ìƒì†ë°›ì•„ êµ¬í˜„í•´ ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ë  ê²ƒì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.hierarchy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EmployeeListController</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>AbstractCommandController</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>EmployeeListController</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//Command ê°ì²´ì— ëŒ€í•œ ì„ ì–¸. ë¹ˆ ì„¤ì • íŒŒì¼ì— Command ê°ì²´ì— ëŒ€í•œ ì„ ì–¸ì´ ìˆë‹¤ë©´ ì´ ì½”ë“œëŠ” í•„ìš”ì—†ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>setCommandClass</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>SearchCriteria</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>setCommandName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;searchCriteria&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>....</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>handle</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindException</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//ì´ë¯¸ íŒŒë¼ë¯¸í„°ì™€ Command ê°ì²´ì˜ ë°”ì¸ë”©ì´ ë˜ì–´ ìˆë‹¤. 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>SearchCriteria</span> <span style=color:#000>searchCriteria</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>SearchCriteria</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Employee</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>employeelist</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>employeeService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getAllEmployees</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>searchCriteria</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>ModelAndView</span> <span style=color:#000>modelview</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employeelist&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>employeelist</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;searchCriteria&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>searchCriteria</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setViewName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employeelist&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ì»¤ë§¨ë“œ í´ë˜ìŠ¤ ì„¤ì •ì€ setCommandClass,setCommandName ë©”ì†Œë“œ ëŒ€ì‹ ì— ë¹ˆ ì„¤ì • íŒŒì¼ì— ì •ì˜í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;employeeListController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.EmployeeListController&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:employeeService-ref=</span><span style=color:#4e9a06>&#34;employeeService&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:commandName=</span><span style=color:#4e9a06>&#34;searchCriteria&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:commandClass=</span><span style=color:#4e9a06>&#34;com.easycompany.domain.SearchCriteria&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>ì´ ë°ì´í„° ë°”ì¸ë”©ì€ springì˜ í¼ íƒœê·¸ <code>&lt;form:form></code> ì™€ í•¨ê»˜ ì“°ë©´ ë”ìš± í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
í¼ íƒœê·¸ì˜ ë³€ìˆ˜ <strong>commandNameì€ ì»¤ë§¨ë“œ í´ë˜ìŠ¤ì˜ ì´ë¦„ê³¼ ì¼ì¹˜</strong>í•´ì•¼ í•œë‹¤.
ì»¤ë§¨ë“œ ê°ì²´ì— ì‚¬ì›ë²ˆí˜¸, ë¶€ì„œë²ˆí˜¸ë“±ì˜ ê°’ì´ ë“¤ì–´ ìˆë‹¤ë©´ JSPëŠ” ì»¤ë§¨ë“œ ê°ì²´ì˜ í•„ë“œê°’ê³¼ í¼í•„ë“œê°’ì„ ìë™ìœ¼ë¡œ ë°”ì¸ë”©í•˜ì—¬ ë³´ì—¬ì£¼ê²Œ ëœë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;%@ taglib prefix=&#34;form&#34; uri=&#34;http://www.springframework.org/tags/form&#34; %&gt;
...
&lt;form:form commandName=&#34;searchCriteria&#34; action=&#34;/easycompany/employeeList.do&#34;&gt;
&lt;table width=&#34;50%&#34; border=&#34;1&#34;&gt;
	&lt;tr&gt;
		&lt;td&gt;ì‚¬ì›ë²ˆí˜¸ : &lt;form:input path=&#34;searchEid&#34;/&gt;&lt;/td&gt;
		&lt;td&gt;ë¶€ì„œë²ˆí˜¸ : &lt;form:input path=&#34;searchDid&#34;/&gt;&lt;/td&gt;
		&lt;td&gt;ì´ë¦„ : &lt;form:input path=&#34;searchName&#34;/&gt;&lt;/td&gt;
		&lt;td&gt;&lt;input type=&#34;submit&#34; value=&#34;ê²€ìƒ‰&#34; onclick=&#34;this.disabled=true,this.form.submit();&#34; /&gt;&lt;/td&gt;
	&lt;/tr&gt;	
&lt;/table&gt;
&lt;/form:form&gt;
&lt;table&gt;
	&lt;tr&gt;
		&lt;th&gt;&lt;/th&gt;
		&lt;th&gt;ì‚¬ì›ë²ˆí˜¸&lt;/th&gt;
		&lt;th&gt;ë¶€ì„œë²ˆí˜¸&lt;/th&gt;
		&lt;th&gt;ì´ë¦„&lt;/th&gt;
		&lt;th&gt;ë‚˜ì´&lt;/th&gt;
		&lt;th&gt;ì´ë©”ì¼&lt;/th&gt;
	&lt;/tr&gt;	
&lt;c:forEach items=&#34;${employeelist}&#34; var=&#34;empinfo&#34;&gt;	
	&lt;tr&gt;
		&lt;td&gt;&lt;/td&gt;
		&lt;td&gt;&lt;a href=&#34;javascript:getEmployeeInfo(&#39;${empinfo.employeeid}&#39;)&#34;&gt;${empinfo.employeeid}&lt;/a&gt;&lt;/td&gt;
		&lt;td&gt;${empinfo.departmentid}&lt;/td&gt;
		&lt;td&gt;${empinfo.name}&lt;/td&gt;
		&lt;td&gt;${empinfo.age}&lt;/td&gt;
		&lt;td&gt;${empinfo.email}&lt;/td&gt;
	&lt;/tr&gt;
&lt;/c:forEach&gt;
&lt;/table&gt;
...
</code></pre><h3 id=simpleformcontroller>SimpleFormController</h3><p>HTML í¼ì„ ë³´ì—¬ì£¼ê±°ë‚˜ ì „ì†¡(submission)í•˜ëŠ” ë“±ì— í¼ì²˜ë¦¬ë¥¼ ë‹¤ë£¨ëŠ” Controllerë¥¼ ì‘ì„± í•œë‹¤ë©´, SimpleFormControllerë¥¼ ìƒì†í•œ Controllerë¥¼ êµ¬í˜„í•˜ë©´ ëœë‹¤.
SimpleFormControllerëŠ” ìƒìœ„ í´ë˜ìŠ¤ì¸ BaseCommandControllerì™€ AbstractFormControllerê°€ ì œê³µí•˜ëŠ” íŒŒë¼ë¯¸í„°ì™€ ì»¤ë§¨ë“œ(í¼) í´ë˜ìŠ¤ì˜ ë°ì´í„° ë°”ì¸ë”©, ì„¸ì…˜ í¼ ëª¨ë“œ, ì…ë ¥ê°’ ê²€ì¦(validation), ì…ë ¥í¼ì— ì´ˆê¸° ë°ì´í„° ì„¸íŒ…ë“±ì˜ í¸ì˜ ê¸°ëŠ¥ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ì„œ
í¼ ì „ì†¡ì‹œì— ê²°ê³¼ì— ë”°ë¥¸ í™”ë©´ ë¶„ê¸°(formView, successView)ë“± í¸ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€ë¡œ ì œê³µí•œë‹¤.
í¼ì„ ë³´ì—¬ì£¼ê³  ì „ì†¡í•˜ëŠ” Controllerë¥¼ ê°ê° ë§Œë“¤ì§€ ì•Šê³  í•˜ë‚˜ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
SimpleFormControllerì˜ ì‘ì—… íë¦„ì„ ë³´ë ¤ë©´ ìƒìœ„ í´ë˜ìŠ¤ì¸ AbstractFormControllerì˜ handleRequestInternal() ë©”ì†Œë“œë¥¼ ì°¸ê³ í•˜ë©´ ë˜ëŠ”ë°, ì‘ì—… íë¦„ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li><p>GET ë°©ì‹ í˜¸ì¶œ</p><ul><li>Controllerê°€ í¼ í˜ì´ì§€ì— ëŒ€í•œ ìš”ì²­ì„ ë°›ëŠ”ë‹¤. (GET ë°©ì‹ í˜¸ì¶œ)</li><li>formBackingObject() ë©”ì†Œë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìš”ì²­ì— ëŒ€í•œ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œëŠ” formBackingObjectë¥¼ ì˜¤ë²„ë¼ì´ë”©í•´ì„œ GET ë°©ì‹ í˜¸ì¶œì‹œì— í¼ì— ì±„ìš°ê³ ì í•˜ëŠ” ê¸°ë³¸ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ë¡œì§ì„ ë„£ëŠ”ë‹¤.</li><li>initBinder() ë©”ì†Œë“œê°€ ì‹¤í–‰ë˜ëŠ”ë°, ì»¤ë§¨ë“œ í´ë˜ìŠ¤ì˜ íŠ¹ì • í•„ë“œì— ëŒ€í•´ì„œ ì»¤ìŠ¤í…€ ì—ë””í„°ë¥¼ ì‚¬ìš©í• ìˆ˜ ìˆë„ë¡ í•œë‹¤.</li><li>í”„ë¡œí¼í‹° bindOnNewFormì´ trueì´ë©´, ì´ˆê¸° ìš”ì²­ íŒŒë¼ë¯¸í„°ë“¤ì„ ê°€ì§€ê³  ìƒˆë¡œìš´ ì»¤ë§¨ë“œ ê°ì²´ì— ê°’ì„ ì±„ìš°ëŠ”ë° ServletRequestDataBinderê°€ ì ìš©ë˜ë©°, onBindOnNewForm() ì½œë°± ë©”ì†Œë“œê°€ í˜¸ì¶œëœë‹¤.</li><li>showForm() ë©”ì†Œë“œëŠ” referenceData()ë¥¼ í˜¸ì¶œí•´ì„œ í¼ í˜ì´ì§€ì—ì„œ ë³´ì—¬ì£¼ê³ ì í•˜ëŠ” ì°¸ì¡° ë°ì´í„°(ì£¼ë¡œ ì…€ë ‰íŠ¸ë°•ìŠ¤, ì²´í¬ë°•ìŠ¤ ê°™ì€ ìœ í˜•)ë¥¼ ModelAndViewì— ì €ì¥í•œë‹¤.</li><li>formViewì—ì„œëŠ” Model ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ í¼ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ì±„ì›Œì„œ í‘œì‹œí•œë‹¤.</li></ul></li><li><p>POST ë°©ì‹ í˜¸ì¶œ</p><ul><li>ì‚¬ìš©ìê°€ í¼ë°ì´í„°ë¥¼ ì „ì†¡í•œë‹¤(submit). (POST ë°©ì‹ í˜¸ì¶œ)</li><li>getCommand() ë©”ì†Œë“œê°€ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ”ë°,
ë§Œì¼ sessionFormì´ falseì´ë©´ formBackingObject() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ì„œ ì»¤ë§¨ë“œ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ê³ ,
sessionFormì´ trueì´ë©´ ì„¸ì…˜ì—ì„œ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ êº¼ë‚´ì„œ ë°˜í™˜í•œë‹¤. ë§Œì¼ í•´ë‹¹ ê°ì²´ë¥¼ ì„¸ì…˜ì—ì„œ ì°¾ì§€ ëª»í•˜ë©´ handleInvalidSubmit() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤. handleInvalidSubmit()ëŠ” ìƒˆë¡œìš´ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ë‹¤ì‹œ í¼ ì „ì†¡ì„ ì‹œë„í•œë‹¤.</li><li>ìš”ì²­ íŒŒë¼ë¯¸í„°ë“¤ë¡œ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì±„ìš°ê¸° ìœ„í•´ ServletRequestDataBinderê°€ ì‚¬ìš©ëœë‹¤.</li><li>onBind() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤. ìœ íš¨ì„±ê²€ì‚¬(validation) ìˆ˜í–‰ì „ì— í•„ìš”í•œ ì‘ì—…ë“¤ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</li><li>í”„ë¡œí¼í‹° validateOnBindingê°’ì´ trueì´ë©´, ë“±ë¡ëœ Validatorê°€ í˜¸ì¶œëœë‹¤. ValidatorëŠ” ì»¤ë§¨ë“œ ê°ì²´ì˜ í•„ë“œê°’ì— ëŒ€í•œ ìœ íš¨ì„±ì„ ê²€ì‚¬í•œë‹¤.</li><li>onBindAndValidate() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤. ì—¬ê¸°ì„œ ë°”ì¸ë”©ê³¼ ìœ íš¨ì„± ê²€ì‚¬ ì´í›„ ì‚¬ìš©ì ì •ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</li><li>processFormSubmission() ë©”ì†Œë“œì—ì„œ ì „ì†¡ì„ ì²˜ë¦¬í•œë‹¤. ìœ íš¨ì„±ê²€ì‚¬ ê²°ê³¼ ì—ëŸ¬ê°€ ìˆëŠ” ê²½ìš° showForm() ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ì–´ ë‹¤ì‹œ formViewë¡œ ì´ë™í•˜ê³  ì—ëŸ¬ê°€ ì—†ìœ¼ë©´ onSubmit() ë©”ì†Œë“œê°€ ìˆ˜í–‰ë˜ë©´ì„œ í¼ ì œì¶œì´ ëœë‹¤.</li><li>í¼ ì œì¶œì´ ì„±ê³µí•˜ë©´ successViewë¡œ ì´ë™í•œë‹¤.</li></ul></li></ul><p>ê´€ë ¨ í”„ë¡œí¼í‹°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>ì´ë¦„</th><th>ê¸°ë³¸ê°’</th><th>ì„¤ëª…</th><th>í•´ë‹¹í´ë˜ìŠ¤</th></tr></thead><tbody><tr><td>commandName</td><td>command</td><td>ì»¤ë§¨ë“œ í´ë˜ìŠ¤ì˜ ì´ë¦„(ë³„ì¹­)</td><td>BaseCommandController</td></tr><tr><td>commandClass</td><td>null</td><td>ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ë°ì´í„° ë°”ì¸ë”©í•˜ê²Œ ë  ì»¤ë§¨ë“œ í´ë˜ìŠ¤</td><td>BaseCommandController</td></tr><tr><td>validators</td><td>null</td><td>ì»¤ë§¨ë“œ ê°ì²´ì˜ ë°ì´í„° ìœ íš¨ì„±ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•  Validator ë¹ˆì˜ ë°°ì—´</td><td>BaseCommandController</td></tr><tr><td>validator</td><td>null</td><td>Validatorê°€ í•œê°œì¸ ê²½ìš° ì‚¬ìš©.</td><td>BaseCommandController</td></tr><tr><td>validateOnBinding</td><td>true</td><td>ìœ íš¨ì„±ê²€ì‚¬ë¥¼ ìˆ˜í–‰í• ì§€ ì—¬ë¶€. trueì´ë©´ ìˆ˜í–‰í•œë‹¤.</td><td>BaseCommandController</td></tr><tr><td>bindOnNewForm</td><td>false</td><td>ìƒˆë¡œìš´ í¼ì´ ë³´ì—¬ì§€ëŠ” ì‹œì ì—ì„œ ë°ì´í„° ë°”ì¸ë”©ì„ í• ì§€ ì—¬ë¶€.</td><td>AbstractFormController</td></tr><tr><td>sessionForm</td><td>false</td><td>ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì„¸ì…˜ì— ì €ì¥í•˜ì—¬ ì‚¬ìš©í• ì§€ ì—¬ë¶€.</td><td>AbstractFormController</td></tr><tr><td>formView</td><td>null</td><td>ì‚¬ìš©ìê°€ ì…ë ¥í•˜ëŠ” í¼í˜ì´ì§€ë‚˜ ìœ íš¨ì„±ê²€ì‚¬ì‹œì— ì—ëŸ¬ë‚¬ì„ ê²½ìš°ì— ì‚¬ìš©í•˜ëŠ” ë·°ë¥¼ í‘œì‹œí•œë‹¤.</td><td>SimpleFormController</td></tr><tr><td>successView</td><td>null</td><td>í¼ ì œì¶œì´ ì„±ê³µí–ˆì„ë•Œ ë³´ì—¬ì¤„ ë·°ë¥¼ í‘œì‹œí•œë‹¤.</td><td>SimpleFormController</td></tr></tbody></table><h4 id=ì˜ˆì œ-2>ì˜ˆì œ</h4><p>ë¶€ì„œ ì •ë³´ ìˆ˜ì • í˜ì´ì§€(/easycompany/webapp/WEB-INF/jsp/modifydepartment.jsp) ì˜ˆì œ
ì´ í˜ì´ì§€ì˜ ì²˜ë¦¬ íë¦„ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li>ì‚¬ìš©ìì—ê²Œ ì…ë ¥í¼í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ë˜ ê¸°ì¡´ì˜ ë¶€ì„œì •ë³´ë¥¼ ì±„ì›Œì„œ ë³´ì—¬ì¤€ë‹¤. â†’ ìœ„ì—ì„œ ì–¸ê¸‰í•œ GET ë°©ì‹ í˜¸ì¶œì‹œì˜ í”„ë¡œì„¸ìŠ¤ì— ë”°ë¼ ì²˜ë¦¬ ëœë‹¤.</li><li>ì‚¬ìš©ìëŠ” ìˆ˜ì •í•  ë‚´ìš©ì„ ìˆ˜ì •í•œ í›„ì— ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤. â†’ POST ë°©ì‹ í˜¸ì¶œì‹œì˜ í”„ë¡œì„¸ìŠ¤ì— ë”°ë¼ ì²˜ë¦¬ ëœë‹¤.<ul><li>ì €ì¥ì— ì‹¤íŒ¨í•˜ê±°ë‚˜ ì…ë ¥ê°’ ê²€ì¦ì— ë¬¸ì œê°€ ìˆìœ¼ë©´ ë‹¤ì‹œ ì´ˆê¸° ì…ë ¥ í¼í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.</li><li>ì €ì¥ì— ì„±ê³µí•˜ë©´ ë¶€ì„œ ì •ë³´ ë¦¬ìŠ¤íŠ¸í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.</li></ul></li></ul><p><img src=../images/web-servlet-controller-ex-employee-reg.png alt=web-servlet-controller-ex-employee-reg></p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;form:form commandName=&#34;department&#34;&gt;
&lt;table&gt;
	&lt;tr&gt;
		&lt;th&gt;ë¶€ì„œë²ˆí˜¸&lt;/th&gt;
		&lt;td&gt;&lt;c:out value=&#34;${department.deptid}&#34;/&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;th&gt;ë¶€ì„œì´ë¦„&lt;/th&gt;
		&lt;td&gt;&lt;form:input path=&#34;deptname&#34; size=&#34;20&#34;/&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;th&gt;ìƒìœ„ë¶€ì„œ&lt;/th&gt;
		&lt;td&gt;
			&lt;form:select path=&#34;superdeptid&#34;&gt;
				&lt;option value=&#34;&#34;&gt;ìƒìœ„ë¶€ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”.&lt;/option&gt;
				&lt;form:options items=&#34;${deptInfoOneDepthCategory}&#34; /&gt;
			&lt;/form:select&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;th&gt;ì„¤ëª…&lt;/th&gt;
		&lt;td&gt;&lt;form:textarea path=&#34;description&#34; rows=&#34;10&#34; cols=&#34;40&#34;/&gt;&lt;/td&gt;
	&lt;/tr&gt;	
&lt;/table&gt;
&lt;table width=&#34;80%&#34; border=&#34;1&#34;&gt;
	&lt;tr&gt;
		&lt;td&gt;
		&lt;input type=&#34;submit&#34; value=&#34;ì €ì¥&#34;/&gt;		
		&lt;input type=&#34;button&#34; value=&#34;ë¦¬ìŠ¤íŠ¸í˜ì´ì§€&#34; onclick=&#34;location.href=&#39;/easycompany/departmentList.do?depth=1&#39;&#34;/&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;
&lt;/form:form&gt;
</code></pre><p>ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•  UpdateDepartmentControllerë¥¼ ë¹ˆ ì„¤ì • íŒŒì¼(xxx-servlet.xml)ì— ì•„ë˜ì™€ ê°™ì´ ë“±ë¡í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;updateDepartmentController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.UpdateDepartmentController&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#c4a000>p:departmentService-ref=</span><span style=color:#4e9a06>&#34;departmentService&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#c4a000>p:commandName=</span><span style=color:#4e9a06>&#34;department&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#c4a000>p:commandClass=</span><span style=color:#4e9a06>&#34;com.easycompany.domain.Department&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#c4a000>p:formView=</span><span style=color:#4e9a06>&#34;modifydepartment&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#c4a000>p:successView=</span><span style=color:#4e9a06>&#34;redirect:/departmentList.do?depth=1&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><h5 id=formbackingobject-ë©”ì†Œë“œ>formBackingObject ë©”ì†Œë“œ</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>Object</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span>
</span></span></code></pre></div><p>ì¼ë°˜ì ìœ¼ë¡œ ìˆ˜ì • í¼í˜ì´ì§€ëŠ” ê¸°ì¡´ì˜ ë°ì´í„°ë¥¼ í¼ì— ì±„ìš°ê³  ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ë¶€ë¶„ì„ ìˆ˜ì •í•œ í›„ì— ì „ì†¡(submit)í•˜ëŠ”ë°,
ê¸°ì¡´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ í¼ì— ì±„ìš°ëŠ” ì—­í• ì„ formBackingObject ë©”ì†Œë“œê°€ ë‹´ë‹¹í•œë‹¤.
formBackingObject ë©”ì†Œë“œëŠ” ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë¦¬í„´í•˜ëŠ”ë°, í•„ìš”ì— ë”°ë¼ ì´ ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•´ì„œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì»¤ë§¨ë“œ ê°ì²´ì— ì±„ì›Œ ì£¼ë©´ ëœë‹¤.
ë¶€ì„œ ì •ë³´ ìˆ˜ì • í˜ì´ì§€ì—ì„œ ê¸°ì¡´ì˜ ë¶€ì„œ ì •ë³´ë¥¼ ì±„ì›Œì„œ ë³´ì—¬ ì£¼ëŠ” ë¶€ë¶„ì„ ë¨¼ì € ì‘ì„±í•´ ë³´ì.
ì˜¤ë²„ë¼ì´ë“œí•œ ë©”ì†Œë“œì—HTTP GET ë©”ì†Œë“œ ìš”ì²­ì´ë©´ íŒŒë¼ë¯¸í„°ì— ìˆëŠ” ë¶€ì„œ ì•„ì´ë””ë¡œ ë¶€ì„œ ì •ë³´ í…Œì´ë¸”ì„ ì¡°íšŒí•´ì„œ ê²°ê³¼ë¥¼ ê°ì²´ Departmentì— ë‹´ì•„ ë°˜í™˜í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•´ ë³´ì.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.hierarchy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>UpdateDepartmentController</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>SimpleFormController</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setDepartmentService</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>departmentService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>Object</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span><span style=color:#ce5c00;font-weight:700>(!</span><span style=color:#000>isFormSubmission</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)){</span>	<span style=color:#8f5902;font-style:italic>// GET ìš”ì²­ì´ë©´
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>String</span> <span style=color:#000>deptid</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span><span style=color:#8f5902;font-style:italic>//ë¶€ì„œ ì•„ì´ë””ë¡œ DBë¥¼ ì¡°íšŒí•œ ê²°ê³¼ê°€ ì»¤ë§¨ë“œ ê°ì²´ ë°˜ì˜.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span><span style=color:#204a87;font-weight:700>else</span><span style=color:#ce5c00;font-weight:700>{</span>	<span style=color:#8f5902;font-style:italic>// POST ìš”ì²­ì´ë©´
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#8f5902;font-style:italic>//AbstractFormControllerì˜ formBackingObjectì„ í˜¸ì¶œí•˜ë©´ ìš”ì²­ê°ì²´ì˜ íŒŒë¼ë¯¸í„°ì™€ ì„¤ì •ëœ ì»¤ë§¨ë“œ ê°ì²´ê°„ì— ê¸°ë³¸ì ì¸ ë°ì´í„° ë°”ì¸ë”©ì´ ì´ë£¨ì–´ ì§„ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>super</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>	
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h5 id=referencedata-ë©”ì†Œë“œ>referenceData ë©”ì†Œë“œ</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>Map</span> <span style=color:#000>referenceData</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>Map</span> <span style=color:#000>referenceData</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Errors</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span>
</span></span></code></pre></div><p>í¼ í˜ì´ì§€ì— ë¯¸ë¦¬ ë³´ì—¬ ì£¼ì–´ì•¼ í•  ë°ì´í„°ì¤‘ì— ì»¤ë§¨ë“œ ê°ì²´ì— í¬í•¨í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°ê°€ ìˆë‹¤.
ë¶€ì„œ ì •ë³´ ìˆ˜ì • í˜ì´ì§€ì— ë³´ë©´ ìƒìœ„ ë¶€ì„œ ì •ë³´ê°€ ì…€ë ‰íŠ¸ë°•ìŠ¤ë¡œ ë˜ì–´ ìˆëŠ”ë°, ì»¤ë§¨ë“œ ê°ì²´ì¸ ë¶€ì„œ(Department)ê°ì²´ì—ëŠ” í•´ë‹¹ ë¶€ì„œì˜ ìƒìœ„ë¶€ì„œë²ˆí˜¸ë§Œ ìˆì„ ë¿ ì´ íšŒì‚¬ì— ì–´ë–¤ ìƒìœ„ë¶€ì„œë“¤ì´ ìˆëŠ” ì§€ì— ëŒ€í•œ ì •ë³´ëŠ” ì—†ë‹¤.
ì»¤ë§¨ë“œ ê°ì²´ì— ì—†ì§€ë§Œ í˜ì´ì§€ì— í•„ìš”í•œ ì´ëŸ° ì°¸ì¡°ì„± ë°ì´í„°ë“¤ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ referenceData ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
referenceData ë©”ì†Œë“œëŠ” ë§µ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ”ë° ì´ ë§µì€ ëª¨ë¸ ê°ì²´ì— ë‹´ê²¨ ModelAndViewì— ì €ì¥ëœë‹¤.
ìš°ë¦¬ëŠ” ê·¸ì € referenceData ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•´ì„œ ì°¸ì¡°ì„± ë°ì´í„°ë¥¼ ë§µ ê°ì²´ì— ë„£ì–´ ì£¼ë©´ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.hierarchy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>UpdateDepartmentController</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>SimpleFormController</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setDepartmentService</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>departmentService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>Map</span> <span style=color:#000>referenceData</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Errors</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Map</span> <span style=color:#000>param</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HashMap</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>param</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;depth&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>		
</span></span><span style=display:flex><span>		<span style=color:#000>Map</span> <span style=color:#000>referenceMap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HashMap</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>referenceMap</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptInfoOneDepthCategory&#34;</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentIdNameList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>param</span><span style=color:#ce5c00;font-weight:700>));</span>	<span style=color:#8f5902;font-style:italic>//ìƒìœ„ë¶€ì„œì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ Mapì— ë‹´ëŠ”ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>referenceMap</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë¶€ì„œ ì •ë³´ ìˆ˜ì •í˜ì´ì§€ë¥¼ ì—´ì—ˆì„ë•Œ ì°¸ì¡° ë°ì´í„°ë¡œ ê°€ì ¸ì˜¨ ìƒìœ„ ë¶€ì„œ ì •ë³´ ë¦¬ìŠ¤íŠ¸ ì¤‘ì— í•´ë‹¹ ë¶€ì„œì˜ ìƒìœ„ ë¶€ì„œê°’ì´ ì…€ë ‰íŠ¸ ë°•ìŠ¤ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì„ íƒ(â€œselectedâ€)ë˜ì„œ ë³´ì—¬ì ¸ì•¼ í•œë‹¤ë©´,
ì°¸ì¡°ë°ì´í„° ì¤‘ì— ì»¤ë§¨ë“œ ê°ì²´ì™€ ì¼ì¹˜í•˜ëŠ” ê°’ì„ ì¼ì¼íˆ ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•´ì„œ ë¹„êµí•˜ëŠ” ë¡œì§ì„ ë„£ì–´ì£¼ëŠ” ì¤‘ë…¸ë™ì„ í•´ì•¼ í•˜ë‚˜,
ìŠ¤í”„ë§ í¼íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ê°„ë‹¨í•˜ê²Œ í•´ê²°ëœë‹¤.
referenceData ë©”ì†Œë“œê°€ ë°˜í™˜í•œ ìƒìœ„ ë¶€ì„œ ì •ë³´ ë§µ ë°ì´í„°ì¤‘ì— í•´ë‹¹ ë¶€ì„œì˜ ìƒìœ„ë¶€ì„œì™€ ì¼ì¹˜í•˜ëŠ”ê²Œ ìˆìœ¼ë©´ <code>&lt;form:options></code>ì€ í•´ë‹¹ ì˜µì…˜ì„ ì„ íƒ(â€œselectedâ€)ìœ¼ë¡œ í”„ë¦°íŠ¸í•œë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;form:select path=&#34;superdeptid&#34;&gt;
	&lt;option value=&#34;&#34;&gt;ìƒìœ„ë¶€ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”.&lt;/option&gt;
	&lt;form:options items=&#34;${deptInfoOneDepthCategory}&#34; /&gt;
&lt;/form:select&gt;
</code></pre><h5 id=onsubmit-ë©”ì†Œë“œ>onSubmit ë©”ì†Œë“œ</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>onSubmit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>onSubmit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindException</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>onSubmit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindException</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span>
</span></span></code></pre></div><p>onSubmit() ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•œ ë©”ì†Œë“œë¥¼ ë§Œë“¤ì–´ì„œ í¼ì˜ ë‚´ìš©ì„ ì „ì†¡ì„ í•˜ëŠ” ë¡œì§ì„ ë„£ì–´ë³´ì.
ì»¤ë§¨ë“œ ê°ì²´ì¸ ë¶€ì„œ ì •ë³´ ê°ì²´(Department)ì˜ ë‚´ìš©ì„ DBì— ë°˜ì˜í•˜ê³ , ì²˜ë¦¬ê°€ ì„±ê³µí–ˆìœ¼ë©´ successViewë¡œ ì´ë™í•˜ê³  ì‹¤íŒ¨í•˜ë©´ showForm ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤.
ì´ showForm ë©”ì†Œë“œëŠ” í¼í˜ì´ì§€ë¥¼ ë‹¤ì‹œ ë³´ì—¬ì£¼ê¸° ìœ„í•´ í•„ìš”í•œ ë°ì´í„°ì™€ ì—ëŸ¬ì •ë³´ë¥¼ ModelAndViewì— ë„£ê³  formViewë¡œ ì´ë™í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.hierarchy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>UpdateDepartmentController</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>SimpleFormController</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setDepartmentService</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>departmentService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>onSubmit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindException</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>updateDepartment</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>showForm</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>getSuccessView</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=multiactioncontroller>MultiActionController</h3><p>ì§€ê¸ˆê¹Œì§€ ì‚´í´ë³¸ Controllerë“¤ì€ í•˜ë‚˜ì˜ ì•¡ì…˜ì— í•˜ë‚˜ì˜ Controllerë¥¼ ë§Œë“œëŠ” ë°©ì‹ì´ë‹¤. (SimpleFormControllerê°€ í•˜ë‚˜ì˜ urlì— ëŒ€í•´ GET, POST ë©”ì†Œë“œì— ë”°ë¼ ë¶„ê¸° ì²˜ë¦¬ë¥¼ í•˜ê¸°ëŠ” í•˜ì§€ë§Œ.)
ì—°ê´€ìˆëŠ” ì—¬ëŸ¬ ì•¡ì…˜ë“¤ì„ í•˜ë‚˜ì˜ Controllerì— ëª¨ìœ¼ê³  ì‹¶ë‹¤ë©´ MultiActionControllerë¥¼ ìƒì†ë°›ì•„ Controllerë¥¼ ì‘ì„±í•˜ë©´ ë˜ëŠ”ë° í•˜ë‚˜ì˜ ì•¡ì…˜ì„ í•˜ë‚˜ì˜ ë©”ì†Œë“œë¡œ ì‘ì„±í•œë‹¤.
ê·¸ ë©”ì†Œë“œëŠ” ì•„ë˜ì˜ í˜•ì‹ì„ ê°–ëŠ”ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ModelAndView</span> <span style=color:#ce5c00;font-weight:700>|</span> <span style=color:#000>Map</span> <span style=color:#ce5c00;font-weight:700>|</span> <span style=color:#000>String</span> <span style=color:#ce5c00;font-weight:700>|</span> <span style=color:#204a87;font-weight:700>void</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>actionName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>ê·¸ëŸ¬ë©´ ì–´ë–¤ ì•¡ì…˜(url)ì„ ì–´ë–¤ ë©”ì†Œë“œê°€ ì²˜ë¦¬ í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì¼ì´ í•„ìš”í•œë°, ì´ë•Œ ë„ì›€ì„ ì£¼ëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ MethodNameResolverì´ë‹¤.
MethodNameResolverì€ ìš”ì²­ì— ëŒ€í•´ì„œ ì–´ë–¤ ë©”ì†Œë“œê°€ ì²˜ë¦¬ í• ì§€ ë©”ì†Œë“œ ì´ë¦„ì„ ë°˜í™˜í•˜ëŠ”ë°, ìŠ¤í”„ë§ì€ ë‹¤ìŒê³¼ ê°™ì€ 3ê°€ì§€ MethodNameResolver êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ì œê³µí•œë‹¤.</p><ul><li>ParameterMethodNameResolver : íŠ¹ì • íŒŒë¼ë¯¸í„°ì— ë©”ì†Œë“œ ì´ë¦„ì„ ì¤€ë‹¤. ê¸°ë³¸ íŒŒë¼ë¯¸í„°ëŠ” action ì´ë‹¤.</li><li>InternalPathMethodNameResolver : URL ê²½ë¡œì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì¤‘ì— í™•ì¥ìë¥¼ ì œì™¸í•œ ë¶€ë¶„ì´ ë©”ì†Œë“œ ì´ë¦„ì´ ëœë‹¤.</li><li>PropertiesMethodNameResolver : mapping í”„ë¡œí¼í‹°ì— URLê³¼ ë©”ì†Œë“œ ì´ë¦„ì„ ì„¤ì •í•œë‹¤.</li></ul><h4 id=ì˜ˆì œ-3>ì˜ˆì œ</h4><p>ìƒìœ„ ë¶€ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì•¡ì…˜ê³¼ íŠ¹ì • ìƒìœ„ ë¶€ì„œì— ì†í•œ í•˜ìœ„ ë¶€ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ ì˜¤ëŠ” ì•¡ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” DepartmentListControllerë¥¼ ì‘ì„±í•´ ë³´ì.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.hierarchy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>DepartmentListController</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>MultiActionController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//ìƒìœ„ ë¶€ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ ì˜¨ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>departmentList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>depth</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;depth&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Map</span> <span style=color:#000>paramMap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HashMap</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>paramMap</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;depth&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>depth</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>departmentlist</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>paramMap</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>ModelAndView</span> <span style=color:#000>mav</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;departmentlist&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;departmentlist&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>departmentlist</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//íŠ¹ì • ìƒìœ„ ë¶€ì„œì— ì†í•œ í•˜ìœ„ ë¶€ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ ì˜¨ë‹¤.	
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>subDepartmentList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>superdeptid</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;superdeptid&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>depth</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;depth&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Map</span> <span style=color:#000>paramMap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HashMap</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>paramMap</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;depth&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>depth</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>paramMap</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;superdeptid&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>superdeptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>departmentlist</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>paramMap</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>ModelAndView</span> <span style=color:#000>mav</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;departmentsublist&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;departmentlist&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>departmentlist</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h5 id=parametermethodnameresolverë¥¼-ì‚¬ìš©í•œ-ê²½ìš°>ParameterMethodNameResolverë¥¼ ì‚¬ìš©í•œ ê²½ìš°</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;/departmentList.do&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.DepartmentListController&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:departmentService-ref=</span><span style=color:#4e9a06>&#34;departmentService&#34;</span> 
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:methodNameResolver-ref=</span><span style=color:#4e9a06>&#34;paramResolver&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span> <span style=color:#8f5902;font-style:italic>&lt;!-- ParameterMethodNameResolverë¥¼ MethodNameResolverë¡œ ì‚¬ìš©--&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;paramResolver&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.multiaction.ParameterMethodNameResolver&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:paramName=</span><span style=color:#4e9a06>&#34;method&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span> <span style=color:#8f5902;font-style:italic>&lt;!--íŒŒë¼ë¯¸í„°ì´ë¦„ì€ &#34;method&#34;--&gt;</span>
</span></span></code></pre></div><p>ParameterMethodNameResolverëŠ” ì–´ë–¤ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí• ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ íŒŒë¼ë¯¸í„°ì— ì§€ì •í•˜ëŠ”ë°, íŒŒë¼ë¯¸í„° ì´ë¦„ì€ í”„ë¡œí¼í‹° â€œparamNameâ€ì˜ ê°’ì´ë‹¤.</p><ul><li>/easycompany/departmentList.do?depth=1&amp;method=departmentList â†’ departmentList()</li><li>/easycompany/departmentList.do?superdeptid=1000&amp;depth=2&amp;method=subDepartmentList â†’ subDepartmentList()</li></ul><h6 id=internalpathmethodnameresolverë¥¼-ì‚¬ìš©í•œ-ê²½ìš°>InternalPathMethodNameResolverë¥¼ ì‚¬ìš©í•œ ê²½ìš°</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;departmentController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.DepartmentListController&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:departmentService-ref=</span><span style=color:#4e9a06>&#34;departmentService&#34;</span> 
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:methodNameResolver-ref=</span><span style=color:#4e9a06>&#34;pathResolver&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span> <span style=color:#8f5902;font-style:italic>&lt;!-- InternalPathMethodNameResolverë¥¼ MethodNameResolverë¡œ ì‚¬ìš©--&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;pathResolver&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.multiaction.InternalPathMethodNameResolver&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>InternalPathMethodNameResolverë¥¼ ì‚¬ìš©í•˜ë©´ URL /abc/foo.doë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¬ë•Œ public ModelAndView foo(HttpServletRequest, HttpServletResponse) ë©”ì†Œë“œë¡œ ë§µí•‘ëœë‹¤.
ì˜ˆì œì—ì„œ ë³´ë©´, URLê³¼ ë©”ì†Œë“œê°„ì— ë§µí•‘ì´ ì•„ë˜ì™€ ê°™ì´ ì´ë£¨ì–´ ì§„ë‹¤.</p><ul><li>/easycompany/departmentList.do?depth=1 â†’ departmentList()</li><li>/easycompany/subDepartmentList.do?superdeptid=1000&amp;depth=2 â†’ subDepartmentList()</li></ul><h6 id=propertiesmethodnameresolverë¥¼-ì‚¬ìš©í•œ-ê²½ìš°>PropertiesMethodNameResolverë¥¼ ì‚¬ìš©í•œ ê²½ìš°</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;departmentController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.hierarchy.DepartmentListController&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:departmentService-ref=</span><span style=color:#4e9a06>&#34;departmentService&#34;</span> 
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:methodNameResolver-ref=</span><span style=color:#4e9a06>&#34;propResolver&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span> <span style=color:#8f5902;font-style:italic>&lt;!-- InternalPathMethodNameResolverë¥¼ MethodNameResolverë¡œ ì‚¬ìš©--&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;propResolver&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;mappings&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;props&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/departmentList.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>departmentList<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/subDepartmentList.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>subDepartmentList<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;/props&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div><p>PropertiesMethodNameResolverëŠ” URLê³¼ ë©”ì†Œë“œì˜ ë§¤í•‘ ê´€ê³„ë¥¼ â€œmappingsâ€ í”„ë¡œí¼í‹°ì— ëª…ì‹œí•´ì¤€ë‹¤.</p><h3 id=urlfilenameviewcontroller>UrlFilenameViewController</h3><p>UrlFilenameViewControllerëŠ” Controllerì—ì„œ ì²˜ë¦¬ ë¡œì§ì´ ì—†ì´ ë°”ë¡œ viewë¡œ ì´ë™í•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©í•˜ëŠ” Controllerì´ë‹¤.
DispatcherServletì„ ê±°ì³ì•¼ í•˜ì§€ë§Œ, html ìœ„ì£¼ì˜ staticí•œ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤„ë•Œ ì‚¬ìš©í•œë‹¤.
ì•„ë˜ì™€ ê°™ì´ URL pathê°€ ê³§ ë·°ì´ë¦„ì´ ë˜ë©°, prefixì™€ suffixë¥¼ ì§€ì •í• ìˆ˜ë„ ìˆë‹¤.</p><pre tabindex=0><code>&#34;/index&#34; -&gt; &#34;index&#34; 
&#34;/index.html&#34; -&gt; &#34;index&#34; 
&#34;/index.html&#34; + prefix &#34;pre_&#34; and suffix &#34;_suf&#34; -&gt; &#34;pre_index_suf&#34; 
&#34;/products/view.html&#34; -&gt; &#34;products/view&#34;
</code></pre><p>Controllerë¥¼ ë”°ë¡œ ë§Œë“¤ í•„ìš”ê°€ ì—†ìœ¼ë©°, ì•„ë˜ì™€ ê°™ì´ ë¹ˆ ì„¤ì • íŒŒì¼ì—ì„œ urlê³¼ UrlFilenameViewControllerë¥¼ ë§¤í•‘ë§Œ í•´ì£¼ë©´ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;urlMapping&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;mappings&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;props&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/login.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>urlFilenameViewController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;prop</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;/validator.do&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>urlFilenameViewController<span style=color:#204a87;font-weight:700>&lt;/prop&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/props&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;urlFilenameViewController&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.UrlFilenameViewController&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>InternalResourceViewResolverê°€ ì•„ë˜ì™€ ê°™ì´ ì„ ì–¸ë˜ì–´ ìˆë‹¤ë©´,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.InternalResourceViewResolver&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#c4a000>p:prefix=</span><span style=color:#4e9a06>&#34;/WEB-INF/jsp/&#34;</span> <span style=color:#c4a000>p:suffix=</span><span style=color:#4e9a06>&#34;.jsp&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>URL http://localhost:8080/easycompany/login.doë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¬ë•Œ, /easycompany/webapp/WEB-INF/jsp/login.jspì„ ì°¾ì•„ì„œ ë³´ì—¬ì¤€ë‹¤.</p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li>The Spring Framework - Reference Documentation 2.5.6</li><li>Spring Framework API Documentation 2.5.6</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-838d8dd01c23d19c4a43f0b79103b750>7 - Annotation ê¸°ë°˜ Controller</h1><div class=lead>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” 2.5 ë²„ì „ë¶€í„° Java 5+ ì´ìƒì—ì„œ @Controllerë¥¼ ì´ìš©í•œ Annotation ê¸°ë°˜ ì»¨íŠ¸ë¡¤ëŸ¬ ê°œë°œì„ ì§€ì›í•œë‹¤. ì´ëŠ” ê¸°ì¡´ì˜ ê³„ì¸µí˜• Controller(SimpleFormController, MultiActionController)ì™€ ë‹¬ë¦¬ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ì—†ì´ ë” ìœ ì—°í•˜ê³  ê°„ê²°í•œ ë°©ì‹ìœ¼ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì ì´ ì£¼ìš” ê°œì„ ì ì´ë‹¤.</div><h1 id=annotation-based-controller>Annotation-based Controller</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” 2.5 ë²„ì ¼ ë¶€í„° Java 5+ ì´ìƒì´ë©´ @Controller(Annotation-based Controller)ë¥¼ ê°œë°œí•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì œê³µí•œë‹¤.
ì¸í„°í˜ì´ìŠ¤ Controllerë¥¼ êµ¬í˜„í•œ SimpleFormController, MultiActionController ê°™ì€ ê¸°ì¡´ì˜ ê³„ì¸µí˜•(Hierarchy) Controllerì™€ì˜ ì£¼ìš” ì°¨ì´ì  ë° ê°œì„ ì ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li><a href=#%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%84%A4%EC%A0%95>ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•œ ì„¤ì •</a><ul><li>XML ê¸°ë°˜ìœ¼ë¡œ ì„¤ì •í•˜ë˜ ì •ë³´ë“¤ì„ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ì •ì˜í•œë‹¤.</li></ul></li><li><a href=#%EC%9C%A0%EC%97%B0%ED%95%B4%EC%A7%84-%EB%A9%94%EC%86%8C%EB%93%9C-%EC%8B%9C%EA%B7%B8%EB%8B%88%EC%B3%90>ìœ ì—°í•´ì§„ ë©”ì†Œë“œ ì‹œê·¸ë‹ˆì³</a><ul><li>Controller ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì™€ ë¦¬í„´ íƒ€ì…ì„ ì¢€ ë” ë‹¤ì–‘í•˜ê²Œ í•„ìš”ì— ë”°ë¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤.</li></ul></li><li><a href=#pojo-style%EC%9D%98-controller>POJO-Styleì˜ Controller</a><ul><li>Controller ê°œë°œì‹œì— íŠ¹ì • ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„ í•˜ê±°ë‚˜ íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ìƒì†í•´ì•¼í•  í•„ìš”ê°€ ì—†ë‹¤.</li><li>í•˜ì§€ë§Œ í¼ ì²˜ë¦¬, ë‹¤ì¤‘ ì•¡ì…˜ë“± ê¸°ì¡´ì˜ ê³„ì¸µí˜• Controllerê°€ ì œê³µí•˜ë˜ ê¸°ëŠ¥ë“¤ì„ ì—¬ì „íˆ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</li></ul></li></ul><p>ê³„ì¸µí˜• Controllerë¡œ ì‘ì„±ëœ í¼ ì²˜ë¦¬ë¥¼ @Controllerë¡œ êµ¬í˜„í•˜ëŠ” ì˜ˆë„ ì„¤ëª…í•œë‹¤.
ì˜ˆì œ ì½”ë“œ easycompanyì˜ ControllerëŠ” ë™ì¼í•œ ê¸°ëŠ¥(ë˜í•œ ê³µí†µì˜ Service, DAO, JSPë¥¼ ì‚¬ìš©)ì„ ê³„ì¸µí˜• Controllerì™€ @Controllerë¡œ ê°ê° ì‘ì„±í–ˆë‹¤.</p><ul><li>ê³„ì¸µí˜• Controller - íŒ¨í‚¤ì§€ com.easycompany.controller.hierarchy</li><li>@Controller - íŒ¨í‚¤ì§€ com.easycompany.controller.annotation</li></ul><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=ì–´ë…¸í…Œì´ì…˜ì„-ì´ìš©í•œ-ì„¤ì •>ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•œ ì„¤ì •</h3><p>ê³„ì¸µí˜• Controllerë“¤ì„ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ì •ë³´ë“¤(ìš”ì²­ê³¼ Controllerì˜ ë§¤í•‘ ì„¤ì • ë“±)ì„ XML ì„¤ì • íŒŒì¼ì— ëª…ì‹œ í•´ì¤˜ì•¼ í•˜ëŠ”ë°, ë³µì¡í•  ë¿ ì•„ë‹ˆë¼ ì„¤ì • íŒŒì¼ê³¼ ì½”ë“œ ì‚¬ì´ë¥¼ ë¹ˆë²ˆíˆ ì´ë™ í•´ì•¼í•˜ëŠ” ë¶€ë‹´ê³¼ ë²ˆê±°ë¡œì›€ì´ ë  ìˆ˜ ìˆë‹¤.
@MVCëŠ” Controller ì½”ë“œì•ˆì— ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì„¤ì •í•¨ìœ¼ë¡œì¨ ì¢€ ë” í¸ë¦¬í•˜ê²Œ MVC í”„ë¡œê·¸ë˜ë°ì„ í•  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤.
@MVCì—ì„œ ì‚¬ìš©í•˜ëŠ” ì£¼ìš” ì–´ë…¸í…Œì´ì…˜ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>ì´ë¦„</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>@Controller</td><td>í•´ë‹¹ í´ë˜ìŠ¤ê°€ Controllerì„ì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜</td></tr><tr><td>@RequestMapping</td><td>ìš”ì²­ì— ëŒ€í•´ ì–´ë–¤ Controller, ì–´ë–¤ ë©”ì†Œë“œê°€ ì²˜ë¦¬í• ì§€ë¥¼ ë§µí•‘í•˜ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜</td></tr><tr><td>@RequestParam</td><td>Controller ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì™€ ì›¹ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ë§µí•‘í•˜ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜</td></tr><tr><td>@ModelAttribute</td><td>Controller ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ë‚˜ ë¦¬í„´ê°’ì„ Model ê°ì²´ì™€ ë°”ì¸ë”©í•˜ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜</td></tr><tr><td>@SessionAttributes</td><td>Model ê°ì²´ë¥¼ ì„¸ì…˜ì— ì €ì¥í•˜ê³  ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜</td></tr><tr><td>@RequestPart</td><td>Multipart ìš”ì²­ì˜ ê²½ìš°, ì›¹ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ë§µí•‘ê°€ëŠ¥í•œ ì–´ë…¸í…Œì´ì…˜(egov 3.0, Spring 3.1.xë¶€í„° ì¶”ê°€)</td></tr><tr><td>@CommandMap</td><td>Controllerë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ë¥¼ Mapí˜•íƒœë¡œ ë°›ì„ ë•Œ ì›¹ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ë§µí•‘í•˜ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜(egov 3.0ë¶€í„° ì¶”ê°€)</td></tr><tr><td>@ControllerAdvice</td><td>Controllerë¥¼ ë³´ì¡°í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ Controllerì—ì„œ ì“°ì´ëŠ” ê³µí†µê¸°ëŠ¥ë“¤ì„ ëª¨ë“ˆí™”í•˜ì—¬ ì „ì—­ìœ¼ë¡œ ì“°ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜(egov 3.0, Spring 3.2.Xë¶€í„° ì¶”ê°€)</td></tr></tbody></table><h4 id=controller>@Controller</h4><p>@MVCì—ì„œ Controllerë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì‘ì„±í•œ í´ë˜ìŠ¤ì— @Controllerë¥¼ ë¶™ì—¬ì£¼ë©´ ëœë‹¤. íŠ¹ì • í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ê±°ë‚˜ ìƒì†í•  í•„ìš”ê°€ ì—†ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.annotation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>LoginController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>   <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ì•ì„œ DefaultAnnotationHandlerMappingì—ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ <code>&lt;context:component-scan></code> íƒœê·¸ë¥¼ ì´ìš©í•´ @Controllerë“¤ì´ ìˆëŠ” íŒ¨í‚¤ì§€ë¥¼ ì„ ì–¸í•´ ì£¼ë©´ ëœë‹¤.
@Controllerë§Œ ìŠ¤ìº” í•œë‹¤ë©´ include, exclude ë“±ì˜ í•„í„°ë¥¼ ì‚¬ìš©í•˜ë¼.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> <span style=color:#c4a000>xmlns:p=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/p&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>xmlns:context=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/context&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>				http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;context:component-scan</span> <span style=color:#c4a000>base-package=</span><span style=color:#4e9a06>&#34;com.easycompany.controller.annotation&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><h4 id=requestmapping>@RequestMapping</h4><p>@RequestMappingì€ ìš”ì²­ì— ëŒ€í•´ ì–´ë–¤ Controller, ì–´ë–¤ ë©”ì†Œë“œê°€ ì²˜ë¦¬í• ì§€ë¥¼ ë§µí•‘í•˜ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜ì´ë‹¤. @RequestMappingì´ ì‚¬ìš©í•˜ëŠ” ì†ì„±ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>ì´ë¦„</th><th>íƒ€ì…</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>value</td><td>String[]</td><td>URL ê°’ìœ¼ë¡œ ë§µí•‘ ì¡°ê±´ì„ ë¶€ì—¬í•œë‹¤.<br>@RequestMapping(value=â€/hello.doâ€) ë˜ëŠ” @RequestMapping(value={â€/hello.doâ€, â€/world.doâ€ })ì™€ ê°™ì´ í‘œê¸°í•˜ë©°,<br>ê¸°ë³¸ê°’ì´ê¸° ë•Œë¬¸ì— @RequestMapping(â€/hello.doâ€)ìœ¼ë¡œ í‘œê¸°í•  ìˆ˜ë„ ìˆë‹¤.<br>â€/myPath/*.doâ€ì™€ ê°™ì´ Ant-Styleì˜ íŒ¨í„´ë§¤ì¹­ì„ ì´ìš©í•  ìˆ˜ë„ ìˆë‹¤.<br>Spring 3.1ë¶€í„° URLë’¤ì— ì¤‘ê´„í˜¸ë¥¼ ì´ìš©í•˜ì—¬ ë³€ìˆ˜ê°’ì„ ì§ì ‘ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤. ì•„ë˜ ì„¤ëª…(URI Template Variable Enhancements)ì„ ì°¸ê³ í•˜ë¼</td></tr><tr><td>method</td><td>RequestMethod[]</td><td>HTTP Request ë©”ì†Œë“œê°’ì„ ë§µí•‘ ì¡°ê±´ìœ¼ë¡œ ë¶€ì—¬í•œë‹¤.<br>HTTP ìš”ì²­ ë©”ì†Œë“œê°’ì´ ì¼ì¹˜í•´ì•¼ ë§µí•‘ì´ ì´ë£¨ì–´ ì§€ê²Œ í•œë‹¤.<br>@RequestMapping(method = RequestMethod.POST)ê°™ì€ í˜•ì‹ìœ¼ë¡œ í‘œê¸°í•œë‹¤.<br>ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ì†Œë“œëŠ” GET, POST, HEAD, OPTIONS, PUT, DELETE, TRACEì´ë‹¤</td></tr><tr><td>params</td><td>String[]</td><td>HTTP Request íŒŒë¼ë¯¸í„°ë¥¼ ë§µí•‘ ì¡°ê±´ìœ¼ë¡œ ë¶€ì—¬í•œë‹¤.<br>params=â€œmyParam=myValueâ€ì´ë©´ HTTP Request URLì¤‘ì— myParamì´ë¼ëŠ” íŒŒë¼ë¯¸í„°ê°€ ìˆì–´ì•¼ í•˜ê³  ê°’ì€ myValueì´ì–´ì•¼ ë§µí•‘í•œë‹¤.<br>params=â€œmyParamâ€ì™€ ê°™ì´ íŒŒë¼ë¯¸í„° ì´ë¦„ë§Œìœ¼ë¡œ ì¡°ê±´ì„ ë¶€ì—¬í•  ìˆ˜ë„ ìˆê³ , â€!myParamâ€í•˜ë©´ myParamì´ë¼ëŠ” íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” ìš”ì²­ ë§Œì„ ë§µí•‘í•œë‹¤.<br>@RequestMapping(params={â€œmyParam1=myValueâ€, â€œmyParam2â€, â€!myParam3â€})ì™€ ê°™ì´ ì¡°ê±´ì„ ì£¼ì—ˆë‹¤ë©´,<br>HTTP Requestì—ëŠ” íŒŒë¼ë¯¸í„° myParam1ì´ myValueê°’ì„ ê°€ì§€ê³  ìˆê³ , myParam2 íŒŒë¼ë¯¸í„°ê°€ ìˆì–´ì•¼ í•˜ê³ , myParam3ë¼ëŠ” íŒŒë¼ë¯¸í„°ëŠ” ì—†ì–´ì•¼ í•œë‹¤.</td></tr><tr><td>consumes</td><td>String[]</td><td>ì„¤ì •ê³¼ Content-Type requestí—¤ë”ê°€ ì¼ì¹˜ í•  ê²½ìš°ì—ë§Œ URLì´ í˜¸ì¶œëœë‹¤.</td></tr><tr><td>produces</td><td>String[]</td><td>ì„¤ì •ê³¼ Accept requestí—¤ë”ê°€ ì¼ì¹˜ í•  ê²½ìš°ì—ë§Œ URLì´ í˜¸ì¶œëœë‹¤.</td></tr></tbody></table><p>@RequestMappingì€ í´ë˜ìŠ¤ ë‹¨ìœ„(type level)ë‚˜ ë©”ì†Œë“œ ë‹¨ìœ„(method level)ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</p><p><strong>type level</strong></p><p>/hello.do ìš”ì²­ì´ ì˜¤ë©´ HelloControllerì˜ hello ë©”ì†Œë“œê°€ ìˆ˜í–‰ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/hello.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@RequestMapping</span>   <span style=color:#8f5902;font-style:italic>//type levelì—ì„œ URLì„ ì •ì˜í•˜ê³  Controllerì— ë©”ì†Œë“œê°€ í•˜ë‚˜ë§Œ ìˆì–´ë„ ìš”ì²­ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•  ë©”ì†Œë“œ ìœ„ì— @RequestMapping í‘œê¸°ë¥¼ í•´ì•¼ ì œëŒ€ë¡œ ë§µí•‘ì´ ëœë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>hello</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>...</span>		
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>method level</strong></p><p>/hello.do ìš”ì²­ì´ ì˜¤ë©´ hello ë©”ì†Œë“œ,
/helloForm.do ìš”ì²­ì€ GET ë°©ì‹ì´ë©´ helloGet ë©”ì†Œë“œ, POST ë°©ì‹ì´ë©´ helloPost ë©”ì†Œë“œê°€ ìˆ˜í–‰ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>	
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/hello.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>hello</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/helloForm.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>helloGet</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/helloForm.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>helloPost</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>	
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>type + method level</strong>
ë‘˜ ë‹¤ ì„¤ì •í•  ìˆ˜ë„ ìˆëŠ”ë°, ì´ ê²½ìš°ì—” type levelì— ì„¤ì •í•œ @RequestMappingì˜ value(URL)ë¥¼ method levelì—ì„œ ì¬ì •ì˜ í• ìˆ˜ ì—†ë‹¤.</p><p>/hello.do ìš”ì²­ì‹œì— GET ë°©ì‹ì´ë©´ helloGet ë©”ì†Œë“œ, POST ë°©ì‹ì´ë©´ helloPost ë©”ì†Œë“œê°€ ìˆ˜í–‰ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/hello.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>helloGet</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>helloPost</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>AbstractController ìƒì†ë°›ì•„ êµ¬í˜„í•œ ì˜ˆì œ ì½”ë“œ LoginControllerë¥¼ ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ Controllerë¡œ êµ¬í˜„í•´ ë³´ê² ë‹¤.</p><p>ê¸°ì¡´ì˜ LoginControllerëŠ” URL /loginProcess.doë¡œ ì˜¤ëŠ” ìš”ì²­ì˜ HTTP ë©”ì†Œë“œê°€ POSTì¼ë•Œ handleRequestInternal ë©”ì†Œë“œê°€ ì‹¤í–‰ë˜ëŠ” Controllerì˜€ëŠ”ë°,</p><p>ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆê² ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.annotation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>LoginController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Autowired</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>LoginService</span> <span style=color:#000>loginService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/loginProcess.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>login</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>id</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>String</span> <span style=color:#000>password</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Account</span> <span style=color:#000>account</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Account</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>loginService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>authenticate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#000>password</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>account</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getSession</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>setAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;UserAccount&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>account</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;redirect:/employeeList.do&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;login&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>	
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ìœ„ ì˜ˆì œ ì½”ë“œì—ì„œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ì„œ @Autowiredê°€ ì‚¬ìš©ë˜ì—ˆëŠ”ë° ìì„¸í•œ ë‚´ìš©ì€ <a href=https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired.html>ì—¬ê¸°</a>ë¥¼ ì°¸ê³ í•˜ë¼.</p><p><strong>type + method level + request</strong></p><p>ì•ì˜ ë‚´ìš©ì—ì„œ ì¶”ê°€ë˜ì–´ requestì˜ headerì„¤ì • ì¼ì¹˜ ì—¬ë¶€ì— ë”°ë¼ URLí˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤.</p><p>ë‹¤ìŒ ì˜ˆì œì—ì„œ URLì´ /petsë¡œ ìš”ì²­ëœ ê²½ìš°, POSTíƒ€ì…ì˜ requestì˜ content-typeì´ application/jsonì¸ ê²½ìš°ì—ë§Œ ë‹¤ìŒ ë©”ì†Œë“œê°€ í˜¸ì¶œëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/pets&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>consumes</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;application/json&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>addPet</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestBody</span> <span style=color:#000>Pet</span> <span style=color:#000>pet</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// implementation omitted
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë‹¤ìŒ ì˜ˆì œì—ì„œ GETíƒ€ì…ìœ¼ë¡œ URLì´ /pets/*ë¡œ ìš”ì²­ëœ ê²½ìš°, requestì˜ accept headerê°€ application/jsonì¸ ê²½ìš°ì—ë§Œ ë‹¤ìŒ ë©”ì†Œë“œê°€ í˜¸ì¶œëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/pets/{petId}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>produces</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;application/json&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@ResponseBody</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Pet</span> <span style=color:#000>getPet</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@PathVariable</span> <span style=color:#000>String</span> <span style=color:#000>petId</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// implementation omitted
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>URI Template Variale Enhancements</strong></p><p>@RequestMappingì˜ valueì— URLë’¤ì— ì¤‘ê´„í˜¸ë¡œ Controllerë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ê°’ì˜ ë³€ìˆ˜ëª…ì„ ì…ë ¥í•´ì£¼ë©´ ë³€ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.</p><p>ë‹¤ìŒ ì˜ˆì œì—ì„œ Controllerë©”ì†Œë“œì˜ URLì„ â€/user/view/{id}â€œë¡œ ì„¤ì •í•˜ì˜€ì„ ë•Œ, ë§Œì•½ /user/view/12345 ë¡œ URLìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ viewí•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ì¸ idê°€ 12345ë¡œ ì„¤ì •ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/user/view/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>view</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@PathVariable</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// implementation omitted
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>@RequestParam</strong></p><p>@RequestParamì€ Controller ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì™€ ì›¹ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ë§µí•‘í•˜ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.
ê´€ë ¨ ì†ì„±ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>ì´ë¦„</th><th>íƒ€ì…</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>value</td><td>String</td><td>íŒŒë¼ë¯¸í„° ì´ë¦„</td></tr><tr><td>required</td><td>boolean</td><td>í•´ë‹¹ íŒŒë¼ë¯¸í„°ê°€ ë°˜ë“œì‹œ í•„ìˆ˜ ì¸ì§€ ì—¬ë¶€. ê¸°ë³¸ê°’ì€ trueì´ë‹¤.</td></tr></tbody></table><p>ì•„ë˜ ì½”ë“œì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ë°,
í•´ë‹¹ íŒŒë¼ë¯¸í„°ê°€ Request ê°ì²´ ì•ˆì— ì—†ì„ë•Œ ê·¸ëƒ¥ nullê°’ì„ ë°”ì¸ë“œ í•˜ê³  ì‹¶ë‹¤ë©´, pageNo íŒŒë¼ë¯¸í„° ì²˜ëŸ¼ required=falseë¡œ ëª…ì‹œí•´ì•¼ í•œë‹¤.</p><p>name íŒŒë¼ë¯¸í„°ëŠ” requiredê°€ trueì´ë¯€ë¡œ, ë§Œì¼ name íŒŒë¼ë¯¸í„°ê°€ nullì´ë©´ org.springframework.web.bind.MissingServletRequestParameterExceptionì´ ë°œìƒí•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/hello.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>hello</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>//required ì¡°ê±´ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ì€ true, ì¦‰ í•„ìˆ˜ íŒŒë¼ë¯¸í„° ì´ë‹¤. íŒŒë¼ë¯¸í„° nameì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ Exception ë°œìƒ.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;pageNo&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>pageNo</span><span style=color:#ce5c00;font-weight:700>){</span> <span style=color:#8f5902;font-style:italic>//íŒŒë¼ë¯¸í„° pageNoê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ String pageNoëŠ” null.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#ce5c00;font-weight:700>...</span>		
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ìœ„ì—ì„œ ì‘ì„±í•œ LoginControllerì˜ login ë©”ì†Œë“œë¥¼ ë³´ë©´ íŒŒë¼ë¯¸í„° ì•„ì´ë””ì™€ íŒ¨ìŠ¤ì›Œë“œë¥¼ Http Request ê°ì²´ì—ì„œ getParameter ë©”ì†Œë“œë¥¼ ì´ìš©í•´ êµ¬í•˜ëŠ”ë°,</p><p>@RequestParamì„ ì‚¬ìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í• ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.annotation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>LoginController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Autowired</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>LoginService</span> <span style=color:#000>loginService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/loginProcess.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>login</span><span style=color:#ce5c00;font-weight:700>(</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>password</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>		
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Account</span> <span style=color:#000>account</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Account</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>loginService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>authenticate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#000>password</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>account</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getSession</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>setAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;UserAccount&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>account</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;redirect:/employeeList.do&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;login&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=modelattribute>@ModelAttribute</h4><p>@ModelAttributeì˜ ì†ì„±ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>ì´ë¦„</th><th>íƒ€ì…</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>value</td><td>String</td><td>ë°”ì¸ë“œí•˜ë ¤ëŠ” Model ì†ì„± ì´ë¦„.</td></tr></tbody></table><p>@ModelAttributeëŠ” ì‹¤ì œì ìœ¼ë¡œ ModelMap.addAttributeì™€ ê°™ì€ ê¸°ëŠ¥ì„ ë°œíœ˜í•˜ëŠ”ë°, Controllerì—ì„œ 2ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.</p><p><strong>1.ë©”ì†Œë“œ ë¦¬í„´ ë°ì´í„°ì™€ Model ì†ì„±(attribute)ì˜ ë°”ì¸ë”©</strong></p><p>ë©”ì†Œë“œì—ì„œ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§(DB ì²˜ë¦¬ê°™ì€)ì„ ì²˜ë¦¬í•œ í›„ ê²°ê³¼ ë°ì´í„°ë¥¼ ModelMap ê°ì²´ì— ì €ì¥í•˜ëŠ” ë¡œì§ì€ ì¼ë°˜ì ìœ¼ë¡œ ìì£¼ ë°œìƒí•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ModelMap</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//DBì—ì„œ ë¶€ì„œì •ë³´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//ë°ì´í„°ë¥¼ ëª¨ë¸ ê°ì²´ì— ì €ì¥í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span></code></pre></div><p>@ModelAttributeë¥¼ ë©”ì†Œë“œì— ì„ ì–¸í•˜ë©´ í•´ë‹¹ ë©”ì†Œë“œì˜ ë¦¬í„´ ë°ì´í„°ê°€ ModelMap ê°ì²´ì— ì €ì¥ëœë‹¤.
ìœ„ ì½”ë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í• ìˆ˜ ìˆëŠ”ë°, ì‚¬ìš©ìë¡œ ë¶€í„° GETë°©ì‹ì˜ /updateDepartment.do í˜¸ì¶œì´ ë“¤ì–´ì˜¤ë©´,
formBackingObject ë©”ì†Œë“œê°€ ì‹¤í–‰ ë˜ê¸° ì „ì— DefaultAnnotationHandlerMappingì´ org.springframework.web.bind.annotation.support.HandlerMethodInvokerì„ ì´ìš©í•´ì„œ
(@ModelAttributeê°€ ì„ ì–¸ëœ)getEmployeeInfoë¥¼ ì‹¤í–‰í•˜ê³ , ê²°ê³¼ë¥¼ ModelMapê°ì²´ì— ì €ì¥í•œë‹¤.
ê²°ê³¼ì ìœ¼ë¡œ getEmployeeInfo ë©”ì†Œë“œëŠ” ModelMap.addAttribute(â€œdepartmentâ€, departmentService.getDepartmentInfoById(â€¦)) ì‘ì—…ì„ í•˜ê²Œ ë˜ëŠ”ê²ƒì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Department</span> <span style=color:#000>getEmployeeInfo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//DBì—ì„œ ë¶€ì„œì •ë³´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#000>ë˜ëŠ”</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>Department</span> <span style=color:#000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span></code></pre></div><p><strong>2.ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ì™€ Model ì†ì„±(attribute)ì˜ ë°”ì¸ë”©</strong></p><p>@ModelAttributeëŠ” ModelMap ê°ì²´ì˜ íŠ¹ì • ì†ì„±(attribute) ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì™€ ë°”ì¸ë”© í• ë•Œë„ ì‚¬ìš©ë ìˆ˜ ìˆë‹¤.
ì•„ë˜ì™€ ê°™ì´ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì— â€<strong>@ModelAttribute(â€œdepartmentâ€) Department department</strong>â€ ì„ ì–¸í•˜ë©´ departmentì—ëŠ” <strong>(Department)ModelMap.get(â€œdepartmentâ€)</strong> ê°’ì´ ë°”ì¸ë”©ëœë‹¤.
ë”°ë¼ì„œ, ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¼ë©´ formBackingObject ë©”ì†Œë“œ íŒŒë¼ë¯¸í„° departmentì—ëŠ” getDepartmentInfo ë©”ì†Œë“œê°€ ModelMap ê°ì²´ì— ì €ì¥í•œ Department ë°ì´í„°ê°€ ë“¤ì–´ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>Department</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>//departmentì—ëŠ” getDepartmentInfoì—ì„œ êµ¬í•´ì˜¨ ë°ì´í„°ë“¤ì´ ë“¤ì–´ê°€ ìˆë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEmployeeid</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>		<span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getName</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Department</span> <span style=color:#000>getDepartmentInfo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//DBì—ì„œ ë¶€ì„œì •ë³´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span></code></pre></div><h4 id=sessionattributes>@SessionAttributes</h4><p>@SessionAttributesëŠ” model attributeë¥¼ sessionì— ì €ì¥, ìœ ì§€í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤. @SessionAttributesëŠ” í´ë˜ìŠ¤ ë ˆë²¨(type level)ì—ì„œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤. ê´€ë ¨ ì†ì„±ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>ì´ë¦„</th><th>íƒ€ì…</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>types</td><td>Class[]</td><td>sessionì— ì €ì¥í•˜ë ¤ëŠ” model attributeì˜ íƒ€ì…</td></tr><tr><td>value</td><td>String[]</td><td>sessionì— ì €ì¥í•˜ë ¤ëŠ” model attributeì˜ ì´ë¦„</td></tr></tbody></table><h4 id=requestparam>@RequestParam</h4><p>Multipart requestì˜ ê²½ìš°, ë„˜ê²¨ë°›ì€ Contentsì˜ Content-Typeì— ë”°ë¼ HttpMessageConverterë¥¼ í†µí•´ í•´ë‹¹ íƒ€ì…ëŒ€ë¡œ multipartì»¨í…ì¸ ë¥¼ ì–»ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.</p><p>ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì´ ìš”ì²­ì´ multipartë¡œ ë“¤ì–´ì˜¬ ë•Œ</p><pre tabindex=0><code>POST /someUrl
Content-Type: multipart/mixed
 
--edt7Tfrdusa7r3lNQc79vXuhIIMlatb7PQg7Vp
Content-Disposition: form-data; name=&#34;meta-data&#34;
Content-Type: application/json; charset=UTF-8
Content-Transfer-Encoding: 8bit
 
{
  &#34;name&#34;: &#34;value&#34;
}
--edt7Tfrdusa7r3lNQc79vXuhIIMlatb7PQg7Vp
Content-Disposition: form-data; name=&#34;file-data&#34;; filename=&#34;file.properties&#34;
Content-Type: text/xml
Content-Transfer-Encoding: 8bit
... File Data ...
</code></pre><p>Controllerì—ì„œ ìš”ì²­ê°’ì€ ì•„ë˜ì™€ ê°™ì´ ë°›ì„ ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/someUrl&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>onSubmit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestPart</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;meta-data&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>MetaData</span> <span style=color:#000>metadata</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                       <span style=color:#5c35cc;font-weight:700>@RequestPart</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;file-data&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>MultipartFile</span> <span style=color:#000>file</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=commandmap>@CommandMap</h4><p>@CommandMapì€ ì‹¤í–‰í™˜ê²½ 3.0í™˜ê²½ë¶€í„° ì¶”ê°€ëœ Controllerì—ì„œ Mapí˜•íƒœë¡œ ì›¹ìš”ì²­ ê°’ì„ ë°›ì•˜ì„ ë•Œ ë‹¤ë¥¸ Mapí˜•íƒœì˜ argumentì™€ êµ¬ë¶„í•´ì£¼ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜ì´ë‹¤. @CommandMapì€ íŒŒë¼ë¯¸í„° ë ˆë²¨(type level)ì—ì„œë§Œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.</p><p>ì‚¬ìš© ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>   <span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/test.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>test</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#5c35cc;font-weight:700>@CommandMap</span> <span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>commandMap</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//ìƒëµ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ìì„¸í•œ ì‚¬ìš©ë°©ë²•ì€ <a href=web-servlet-AnnotationCommandMapArgumentResolver.md>AnnotationCommandMapArgumentResolver</a>ì„ ì°¸ê³ í•œë‹¤.</p><h4 id=controlleradvice>@ControllerAdvice</h4><p>@ControllerAdvice ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ Controllerì—ì„œ ì“°ì´ëŠ” ëª‡ê°€ì§€ ì–´ë…¸í…Œì´ì…˜ ê¸°ëŠ¥ë“¤ì„ ëª¨ë“ˆí™”í•˜ì—¬ ì „ì—­ìœ¼ë¡œ ì“¸ ìˆ˜ ìˆë‹¤.
@ControllerAdviceì€ @RequestMappingì´ ë¶™ì€ ë©”ì†Œë“œë¥¼ ì§€ì›í•˜ë©° ë‹¤ìŒê³¼ ê°™ì€ Controller ì–´ë…¸í…Œì´ì…˜ì„ ì§€ì›í•œë‹¤.</p><table><thead><tr><th>ì´ë¦„</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>@ExceptionHandler</td><td>@ExceptionHandler ë’¤ì— ë¶™ì€ Exceptionì´ ë°œìƒí–ˆì„ ë•Œ, ì „ì—­ì ìœ¼ë¡œ ì˜ˆì™¸ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.</td></tr><tr><td>@InitBinder</td><td>ëª¨ë¸ ê²€ì¦ê³¼ ë°”ì¸ë”©ì„ í•˜ê¸° ìœ„í•œ Annotationìœ¼ë¡œì¨ JSR-303 ë¹ˆ ê²€ì¦ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ìŠ¤í”„ë§ validatorë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</td></tr><tr><td>@ModelAttribute</td><td>ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ë‚˜ DTOí”„ë¡œí¼í‹°ì— ìš”ì²­íŒŒë¼ë¯¸í„°ë¥¼ í•œ ë²ˆì— ë°›ì„ ìˆ˜ ìˆëŠ” @ModelAttributeë¥¼ ì „ì—­ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.</td></tr></tbody></table><p><strong>@ExceptionHandler with @ControllerAdvice</strong></p><p>ê¸°ì¡´ì—ëŠ” ì˜ˆì™¸ë°œìƒì‹œ, AnnotationMethodHandlerExceptionResolverê°€ Controllerë‚´ë¶€ì—ì„œ @ExceptionHandlerê°€ ë¶™ì€ ë©”ì†Œë“œë¥¼ ì°¾ì•„ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì¤€ë‹¤.</p><p>Controller ë‚´ë¶€ì—ì„œë§Œ @ExceptionHandlerê°€ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ê° Controllerë³„ë¡œ @ExceptionHandler ë©”ì†Œë“œë¥¼ ë§Œë“¤ì–´ì•¼í–ˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/hello&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>hello</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>    
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//DataAccessExceptionì´ ì¼ì–´ë‚  ê°€ëŠ¥ì„±
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>     
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// Controller ë‚´ë¶€ì—ì„œ DataAccessExceptionë°œìƒì‹œ í˜¸ì¶œ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#5c35cc;font-weight:700>@ExceptionHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DataAccessException</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>dataAccessExceptionHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DataAccessException</span> <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;dataexception&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;msg&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getMessage</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>Spring 3.2ë¶€í„°ëŠ” @ControllerAdviceë¥¼ ì´ìš©í•˜ì—¬ @ExceptionHandlerë¥¼ ì „ì—­ìœ¼ë¡œ ì“¸ ìˆ˜ ìˆë‹¤.</p><p>@ControllerAdvice + @ExceptionHandlerë¥¼ í†µí•´ ê°ê°ì˜ Exceptionì— ëŒ€í•˜ì—¬ ì „ì—­ì ì¸ í›„ì²˜ë¦¬ ê´€ë¦¬ê°€ ê°€ëŠ¥í•´ì§„ë‹¤.</p><p>ì¦‰, Controllerë§ˆë‹¤ @ExceptionHandlerë¥¼ ë§Œë“¤ì§€ ì•Šë”ë¼ë„ @ControllerAdviceê°€ ë¶™ì€ Classì•ˆì—ì„œ ì—¬ëŸ¬ Exceptionì— ëŒ€í•œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•œ @ExceptionHandler ë©”ì†Œë“œë¥¼ ë§Œë“¤ë©´ ë¡œì§€ì»¬í•œ Exceptionë³„ í›„ì²˜ë¦¬ê°€ ê°€ëŠ¥í•´ì§€ëŠ” ê²ƒì´ë‹¤.</p><p>@ControllerAdviceì™€ í•¨ê»˜ @ExceptionHandlerë¥¼ ì“°ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
ë‹¤ìŒê³¼ ê°™ì´ ì“°ëŠ” ê²½ìš°, Controllerì—ì„œ ë°œìƒí•˜ëŠ” í•´ë‹¹ Exceptionë“¤ì´ ì˜ˆì™¸ì²˜ë¦¬ê°€ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@ControllerAdvice</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>CentralControllerHandler</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@ExceptionHandler</span><span style=color:#ce5c00;font-weight:700>({</span><span style=color:#000>EgovBizException</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>handleEgovBizException</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>EgovBizException</span> <span style=color:#000>ee</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//ìƒëµ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@ExceptionHandler</span><span style=color:#ce5c00;font-weight:700>({</span><span style=color:#000>BaseException</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>handleBaseException</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>BaseException</span> <span style=color:#000>be</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//ìƒëµ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>@InitBinder with @ControllerAdvice</strong></p><p>@ControllerAdviceê°€ ë¶™ì€ Classë‚´ë¶€ì—ì„œ @InitBinder ë©”ì†Œë“œë¥¼ ì”€ìœ¼ë¡œì¨ ì´ë¥¼ ì „ì—­ìœ¼ë¡œ ì“¸ ìˆ˜ë„ ìˆë‹¤.</p><ul><li>@InitBinder<ul><li>WebDataBinderë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” ì„¤ì •ì„ ì œê³µí•œë‹¤. WebDataBinderëŠ” Web request parameterë¥¼ javaBeanê°ì²´ì— ë°”ì¸ë”©í•˜ëŠ” íŠ¹ì •í•œ DataBinderì´ë‹¤.</li><li>ì¼ë°˜ì ìœ¼ë¡œ annotation handlerë©”ì†Œë“œì˜ commandì™€ formê°ì²´ ì¸ìë¥¼ ì¡°ì‚¬í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.(CustomEditorë¥¼ ë“±ë¡í•˜ê±°ë‚˜ Validatorë¥¼ ë“±ë¡í•  ë•Œ ì“°ì¸ë‹¤)</li></ul></li></ul><p>@ControllerAdvice ì™€ í•¨ê»˜ @InitBinderë¥¼ ì“°ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
@InitBinderëŠ” Controllerì—ì„œ @Validë¥¼ ì“°ëŠ” ê²½ìš°ì—ë§Œ í•´ë‹¹ íŒŒë¼ë¯¸í„°ì˜ ë°ì´í„° ê²€ì¦ì´ ì ìš©ëœë‹¤.</p><p>Personê°ì²´ë¥¼ ëª¨ë¸ë°”ì¸ë”© ë° ê²€ì¦í•´ì£¼ëŠ” PersonValidatorë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°ì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@ControllerAdvice</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>CentralControllerHandler</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@InitBinder</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>initBinder</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebDataBinder</span> <span style=color:#000>binder</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>binder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setValidator</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>PersonValidator</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//ìƒëµ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ì´ ë•Œ Controllerì˜ êµ¬í˜„ ì˜ˆì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/persons&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>updatePerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@Valid</span> <span style=color:#000>Person</span> <span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>personService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>updatePerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//ìƒëµ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=modelattributeì™€-controlleradvice>@ModelAttributeì™€ @ControllerAdvice</h4><p>@ControllerAdviceë¥¼ í†µí•´ @ModelAttributeì˜ ë©”ì†Œë“œ ë˜í•œ ì „ì—­ìœ¼ë¡œ ì“°ì¼ ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@ControllerAdvice</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>GlobalControllerAdvice</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>...</span> 
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;model&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Model</span> <span style=color:#000>getModel</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>model</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=ìœ ì—°í•´ì§„-ë©”ì†Œë“œ-ì‹œê·¸ë‹ˆì³>ìœ ì—°í•´ì§„ ë©”ì†Œë“œ ì‹œê·¸ë‹ˆì³</h3><p>@RequestMappingì„ ì ìš©í•œ Controllerì˜ ë©”ì†Œë“œëŠ” ì•„ë˜ì™€ ê°™ì€ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ì™€ ë¦¬í„´ íƒ€ì…ì„ ì‚¬ìš©í• ìˆ˜ ìˆë‹¤.</p><p>íŠ¹ì • í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ê±°ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ì œì•½ì´ ì—†ê¸° ë•Œë¬¸ì— ê³„ì¸µí˜• Controller ë¹„í•´ ìœ ì—°í•œ ë©”ì†Œë“œ ì‹œê·¸ë‹ˆì³ë¥¼ ê°–ëŠ”ë‹¤.</p><h4 id=controllerì˜-ë©”ì†Œë“œ-íŒŒë¼ë¯¸í„°>@Controllerì˜ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°</h4><p>ì‚¬ìš©ê°€ëŠ¥í•œ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li>Servlet API<ul><li>ServletRequest, HttpServletRequest, HttpServletResponse, HttpSession ê°™ì€ ìš”ì²­,ì‘ë‹µ,ì„¸ì…˜ê´€ë ¨ Servlet APIë“¤</li></ul></li><li>WebRequest, NativeWebRequest<ul><li>org.springframework.web.context.request.WebRequest, org.springframework.web.context.request.NativeWebRequest</li></ul></li><li>java.util.Locale</li><li>java.io.InputStream / java.io.Reader</li><li>java.io.OutputStream / java.io.Writer</li><li>@RequestParam<ul><li>HTTP Requestì˜ íŒŒë¼ë¯¸í„°ì™€ ë©”ì†Œë“œì˜ argumentë¥¼ ë°”ì¸ë”©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜</li></ul></li><li>java.util.Map / org.springframework.ui.Model / org.springframework.ui.ModelMap<ul><li>ë·°ì— ì „ë‹¬í•  ëª¨ë¸ë°ì´í„°ë“¤</li></ul></li><li>Command/form ê°ì²´<ul><li>HTTP Requestë¡œ ì „ë‹¬ëœ parameterë¥¼ ë°”ì¸ë”©í•œ ì»¤ë§¨ë“œ ê°ì²´, @ModelAttributeì„ ì‚¬ìš©í•˜ë©´ aliasë¥¼ ì¤„ìˆ˜ ìˆë‹¤.</li></ul></li><li>Errors, BindingResult<ul><li>org.springframework.validation.Errors / org.springframework.validation.BindingResult ìœ íš¨ì„± ê²€ì‚¬í›„ ê²°ê³¼ ë°ì´í„°ë¥¼ ì €ì¥í•œ ê°ì²´</li></ul></li><li>SessionStatus<ul><li>org.springframework.web.bind.support.SessionStatus ì„¸ì…˜í¼ ì²˜ë¦¬ì‹œì— í•´ë‹¹ ì„¸ì…˜ì„ ì œê±°í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.</li></ul></li></ul><p>ë©”ì†Œë“œëŠ” ì„ì˜ì˜ ìˆœì„œëŒ€ë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í• ìˆ˜ ìˆë‹¤. ë‹¨, BindingResultê°€ ë©”ì†Œë“œì˜ argumentë¡œ ì‚¬ìš©ë  ë•ŒëŠ” ë°”ì¸ë”© í•  ì»¤ë§¨ë“œ ê°ì²´ê°€ ë°”ë¡œ ì•ì— ì™€ì•¼ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>updateEmployee</span><span style=color:#ce5c00;font-weight:700>(...,</span><span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employee&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>Employee</span> <span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>,</span>			
</span></span><span style=display:flex><span>			<span style=color:#000>BindingResult</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>,...)</span> <span style=color:#8f5902;font-style:italic>/* (O) */</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>updateEmployee</span><span style=color:#ce5c00;font-weight:700>(...,</span><span style=color:#000>BindingResult</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                        <span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employee&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>Employee</span> <span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>,...)</span> <span style=color:#8f5902;font-style:italic>/* (X) */</span>
</span></span></code></pre></div><p><strong>ì´ ì™¸ì˜ íƒ€ì…ì„ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©í•˜ë ¤ë©´?</strong></p><p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” ìœ„ì—ì„œ ì–¸ê¸‰í•œ íƒ€ì…ì´ ì•„ë‹Œ custom argumentsë„ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ org.springframework.web.bind.support.WebArgumentResolverë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.</p><p>WebArgumentResolverë¥¼ ì‚¬ìš©í•œ ì˜ˆì œëŠ” <a href="https://www.egovframe.go.kr/wiki/doku.php?id=egovframework:rte:ptl:controller:commandmapargumentresolver">ì´ê³³</a>ì„ ì°¸ê³ </p><h4 id=controllerì˜-ë©”ì†Œë“œ-ë¦¬í„´-íƒ€ì…>@Controllerì˜ ë©”ì†Œë“œ ë¦¬í„´ íƒ€ì…</h4><p>ì‚¬ìš©ê°€ëŠ¥í•œ ë©”ì†Œë“œ ë¦¬í„´ íƒ€ì…ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li>ModelAndView<ul><li>ì»¤ë§¨ë“œ ê°ì²´ì™€ @ModelAttributeì´ ì ìš©ëœ ë©”ì†Œë“œì˜ ë¦¬í„´ ë°ì´í„°ê°€ ë‹´ê¸´ Model ê°ì²´ì™€ View ì •ë³´ê°€ ë‹´ê²¨ ìˆë‹¤.</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>        <span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>ModelAndView</span> <span style=color:#000>mav</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë˜ëŠ”</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ModelMap</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>ModelAndView</span> <span style=color:#000>mav</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAllObjects</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><ul><li>Model (ë˜ëŠ” ModelMap)<ul><li>ì»¤ë§¨ë“œ ê°ì²´ì™€ @ModelAttributeì´ ì ìš©ëœ ë©”ì†Œë“œì˜ ë¦¬í„´ ë°ì´í„°ê°€ Model ê°ì²´ì— ë‹´ê²¨ ìˆë‹¤.</li><li>View ì´ë¦„ì€ RequestToViewNameTranslatorê°€ URLì„ ì´ìš©í•˜ì—¬ ê²°ì •í•œë‹¤.</li><li>ì¸í„°í˜ì´ìŠ¤ RequestToViewNameTranslatorì˜ êµ¬í˜„í´ë˜ìŠ¤ì¸ DefaultRequestToViewNameTranslatorê°€ View ì´ë¦„ì„ ê²°ì •í•˜ëŠ” ë°©ì‹ì€ ì•„ë˜ì™€ ê°™ë‹¤.</li></ul></li></ul><pre tabindex=0><code>http://localhost:8080/gamecast/display.html -&gt; display
http://localhost:8080/gamecast/displayShoppingCart.html -&gt; displayShoppingCart
http://localhost:8080/gamecast/admin/index.html -&gt; admin/index
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Model</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë˜ëŠ”</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Model</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Model</span> <span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ExtendedModelMap</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><ul><li>Map<ul><li>ì»¤ë§¨ë“œ ê°ì²´ì™€ @ModelAttributeì´ ì ìš©ëœ ë©”ì†Œë“œì˜ ë¦¬í„´ ë°ì´í„°ê°€ Map ê°ì²´ì— ë‹´ê²¨ ìˆìœ¼ë©°, View ì´ë¦„ì€ ì—­ì‹œ RequestToViewNameTranslatorê°€ ê²°ì •í•œë‹¤.</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Map</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Map</span> <span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HashMap</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë˜ëŠ”</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Map</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Map</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><ul><li>String<ul><li>ë¦¬í„´í•˜ëŠ” String ê°’ì´ ê³§ View ì´ë¦„ì´ëœë‹¤.</li><li>ì»¤ë§¨ë“œ ê°ì²´ì™€ @ModelAttributeì´ ì ìš©ëœ ë©”ì†Œë“œì˜ ë¦¬í„´ ë°ì´í„°ê°€ Model(ë˜ëŠ” ModelMap)ì— ë‹´ê²¨ìˆë‹¤.</li><li>ë¦¬í„´í•  Model(ë˜ëŠ” ModelMap)ê°ì²´ê°€ í•´ë‹¹ ë©”ì†Œë“œì˜ argumentì— ì„ ì–¸ë˜ì–´ ìˆì–´ì•¼í•œë‹¤.</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#8f5902;font-style:italic>/* (O) */</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ModelMap</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>/* (X) */</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ModelMap</span> <span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelMap</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><ul><li>View<ul><li>Viewë¥¼ ë¦¬í„´í•œë‹¤. ì»¤ë§¨ë“œ ê°ì²´ì™€ @ModelAttributeì´ ì ìš©ëœ ë©”ì†Œë“œì˜ ë¦¬í„´ ë°ì´í„°ê°€ Model(ë˜ëŠ” ModelMap)ì— ë‹´ê²¨ ìˆë‹¤.</li></ul></li><li>void<ul><li>ë©”ì†Œë“œê°€ ServletResponse / HttpServletResponseë“±ì„ ì‚¬ìš©í•´ì„œ ì§ì ‘ ì‘ë‹µì„ ì²˜ë¦¬í•˜ëŠ” ê²½ìš°. View ì´ë¦„ì€ RequestToViewNameTranslatorê°€ ê²°ì •í•œë‹¤.</li></ul></li></ul><h3 id=pojo-styleì˜-controller>POJO-Styleì˜ Controller</h3><p>@MVCëŠ” Controller ê°œë°œì‹œì— íŠ¹ì • ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„ í•˜ê±°ë‚˜ íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ìƒì†í•´ì•¼í•  í•„ìš”ê°€ ì—†ë‹¤.</p><p>Controllerì˜ ë©”ì†Œë“œì—ì„œ Servlet APIë¥¼ ë°˜ë“œì‹œ ì°¸ì¡°í•˜ì§€ ì•Šì•„ë„ ë˜ë©°, í›¨ì”¬ ìœ ì—°í•´ì§„ ë©”ì†Œë“œ ì‹œê·¸ë‹ˆì³ë¡œ ê°œë°œì´ ê°€ëŠ¥í•˜ë‹¤.</p><p>ì—¬ê¸°ì„œëŠ” SimpleFormControllerì˜ í¼ ì²˜ë¦¬ ì•¡ì…˜ì„ @Controllerë¡œ êµ¬í˜„í•¨ìœ¼ë¡œì¨, POJO-Styleì— ê°€ê¹Œì›Œì¡Œì§€ë§Œ ê¸°ì¡´ì˜ ê³„ì¸µí˜• Controllerì—ì„œ ì œê³µí•˜ë˜ ê¸°ëŠ¥ë“¤ì„ ì—¬ì „íˆ êµ¬í˜„í•  ìˆ˜ ìˆìŒì„ ë³´ì´ê³ ì í•œë‹¤.</p><h4 id=formcontroller-by-simpleformcontroller---controller>FormController by SimpleFormController -> @Controller</h4><p>ì•ì„œ SimpleFormControllerì„ ì„¤ëª…í•˜ë©´ì„œ ì˜ˆì œë¡œ ì‘ì„±ëœ com.easycompany.controller.hierarchy.UpdateDepartmentControllerë¥¼ @ModelAttributeì™€ @RequestMappingì„ ì´ìš©í•´ì„œ ê°™ì€ ê¸°ëŠ¥ì„ @Controllerë¡œ ì‘ì„±í•´ ë³´ê² ë‹¤.</p><p>JSP ì†ŒìŠ¤ëŠ” ë™ì¼í•œ ê²ƒì„ ì‚¬ìš©í•œë‹¤. <a href=web-servlet-controller.md#simpleformcontroller>ì´ê³³</a>ì˜ ì˜ˆì œ í™”ë©´ ì´ë¯¸ì§€ ë° JSP ì½”ë“œë¥¼ ì°¸ê³ .
ê¸°ì¡´ì˜ UpdateDepartmentControllerë¥¼ ë³´ë©´ 3ê°€ì§€ ë©”ì†Œë“œë¡œ ì´ë£¨ì–´ì¡Œë‹¤.</p><ul><li>referenceData<ul><li>ì…ë ¥í¼ì— í•„ìš”í•œ ì°¸ì¡°ë°ì´í„°ì¸ ìƒìœ„ë¶€ì„œì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ Map ê°ì²´ì— ì €ì¥í•œë‹¤. ì´í›„ì— ì´ Map ê°ì²´ëŠ” ìŠ¤í”„ë§ ë‚´ë¶€ ë¡œì§ì— ì˜í•´ ModelMap ê°ì²´ì— ì €ì¥ëœë‹¤.</li></ul></li><li>formBackingObject<ul><li>GET ë°©ì‹ í˜¸ì¶œì¼ë•Œ ì´ˆê¸° ì…ë ¥í¼ì— ë“¤ì–´ê°ˆ ë¶€ì„œ ë°ì´í„°ë¥¼ ë¦¬í„´í•œë‹¤. ì´ ë°ì´í„° ì—­ì‹œ ModelMap ê°ì²´ì— ì €ì¥ëœë‹¤.</li></ul></li><li>onSubmit<ul><li>POST ì „ì†¡ì‹œì— í˜¸ì¶œë˜ë©° í¼ ì „ì†¡ì„ ì²˜ë¦¬í•œë‹¤.</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.hierarchy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>UpdateDepartmentController</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>SimpleFormController</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setDepartmentService</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>departmentService</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//ìƒìœ„ë¶€ì„œë¦¬ìŠ¤íŠ¸(selectbox)ëŠ” ë¶€ì„œì •ë³´í´ë˜ìŠ¤ì— ì—†ìœ¼ë¯€ë¡œ , ìƒìœ„ë¶€ì„œë¦¬ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ DBì—ì„œ êµ¬í•´ì„œ ë³„ë„ì˜ ì°¸ì¡°ë°ì´í„°ë¡œ êµ¬ì„±í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>Map</span> <span style=color:#000>referenceData</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Errors</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Map</span> <span style=color:#000>referenceMap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HashMap</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>referenceMap</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptInfoOneDepthCategory&#34;</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentIdNameList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>	<span style=color:#8f5902;font-style:italic>//ìƒìœ„ë¶€ì„œì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ Mapì— ë‹´ëŠ”ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>referenceMap</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>Object</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span><span style=color:#ce5c00;font-weight:700>(!</span><span style=color:#000>isFormSubmission</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)){</span>	<span style=color:#8f5902;font-style:italic>// GET ìš”ì²­ì´ë©´
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>String</span> <span style=color:#000>deptid</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span><span style=color:#8f5902;font-style:italic>//ë¶€ì„œ ì•„ì´ë””ë¡œ DBë¥¼ ì¡°íšŒí•œ ê²°ê³¼ê°€ ì»¤ë§¨ë“œ ê°ì²´ ë°˜ì˜.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span><span style=color:#204a87;font-weight:700>else</span><span style=color:#ce5c00;font-weight:700>{</span>	<span style=color:#8f5902;font-style:italic>// POST ìš”ì²­ì´ë©´
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#8f5902;font-style:italic>//AbstractFormControllerì˜ formBackingObjectì„ í˜¸ì¶œí•˜ë©´ ìš”ì²­ê°ì²´ì˜ íŒŒë¼ë¯¸í„°ì™€ ì„¤ì •ëœ ì»¤ë§¨ë“œ ê°ì²´ê°„ì— ê¸°ë³¸ì ì¸ ë°ì´í„° ë°”ì¸ë”©ì´ ì´ë£¨ì–´ ì§„ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>super</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>onSubmit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindException</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>updateDepartment</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>showForm</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>getSuccessView</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>@Controllerë¡œ ì‘ì„±ëœ com.easycompany.controller.annotation.UpdateDepartmentControllerì€ 3ê°œì˜ ë©”ì†Œë“œë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.</p><p>ê³„ì¸µí˜• Controllerì¸ ê¸°ì¡´ì˜ UpdateDepartmentControllerì™€ëŠ” ë‹¬ë¦¬ ê° ë©”ì†Œë“œëŠ” Override í•  í•„ìš”ì—†ê¸° ë•Œë¬¸ì— ë©”ì†Œë“œ ì´ë¦„ì€ ììœ ë¡­ê²Œ ì§€ì„ ìˆ˜ ìˆë‹¤.</p><p>ì‰¬ìš´ ë¹„êµë¥¼ ìœ„í•´ SimpleFormControllerê³¼ ë™ì¼í•œ ë©”ì†Œë“œ ì´ë¦„ì„ ì„ íƒí–ˆë‹¤.</p><ul><li>referenceData<ul><li>ì…ë ¥í¼ì— í•„ìš”í•œ ì°¸ì¡°ë°ì´í„°ì¸ ìƒìœ„ë¶€ì„œì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ModelMapì— ì €ì¥í•œë‹¤.(by @ModelAttribute)</li></ul></li><li>formBackingObject<ul><li>GET ë°©ì‹ í˜¸ì¶œì¼ë•Œ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•œë‹¤. ì´ˆê¸° ì…ë ¥í¼ êµ¬ì„±ì„ ìœ„í•œ ë¶€ì„œë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ModelMapì— ì €ì¥í•œë‹¤.</li></ul></li><li>onSubmit<ul><li>POST ì „ì†¡ì‹œì— í˜¸ì¶œë˜ë©° í¼ ì „ì†¡ì„ ì²˜ë¦¬í•œë‹¤.</li></ul></li></ul><p>(POJOì— ê°€ê¹Œìš´) í”„ë ˆì„ì›Œí¬ ì½”ë“œë“¤ì€ ê°ì¶°ì¡Œê³ , ë³´ë‹¤ ì§ê´€ì ìœ¼ë¡œ ë¹„ì§€ë‹ˆìŠ¤ ë‚´ìš©ì„ í‘œí˜„í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤ê³  ìƒê°í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.annotation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>UpdateDepartmentController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Autowired</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//ìƒìœ„ë¶€ì„œë¦¬ìŠ¤íŠ¸(selectbox)ëŠ” ë¶€ì„œì •ë³´í´ë˜ìŠ¤ì— ì—†ìœ¼ë¯€ë¡œ , ìƒìœ„ë¶€ì„œë¦¬ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ DBì—ì„œ êµ¬í•´ì„œ ë³„ë„ì˜ ì°¸ì¡°ë°ì´í„°ë¡œ êµ¬ì„±í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptInfoOneDepthCategory&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>referenceData</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentIdNameList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>// í•´ë‹¹ ë¶€ì„œë²ˆí˜¸ì˜ ë¶€ì„œì •ë³´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì…ë ¥í¼ì„ ì±„ìš´ë‹¤
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>formBackingObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptid&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ModelMap</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentInfoById</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//form tagì˜ commandNameì€ ì´ attribute nameê³¼ ì¼ì¹˜í•´ì•¼ í•œë‹¤. &lt;form:form commandName=&#34;department&#34;&gt;.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//ì‚¬ìš©ìê°€ ë°ì´í„° ìˆ˜ì •ì„ ëë‚´ê³  ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆ˜ì • ë°ì´í„°ë¡œ ì €ì¥ì„ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤(DB)ë¥¼ í˜¸ì¶œí•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#8f5902;font-style:italic>//ì €ì¥ì´ ì„±ê³µí•˜ë©´ ë¶€ì„œë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ê³  ì—ëŸ¬ê°€ ìˆìœ¼ë©´ ë‹¤ì‹œ ì…ë ¥í¼í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>onSubmit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>Department</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindingResult</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//validation code
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DepartmentValidator</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>validate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>);</span>		
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasErrors</span><span style=color:#ce5c00;font-weight:700>()){</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>updateDepartment</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;redirect:/departmentList.do?depth=1&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>printStackTrace</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=https://docs.spring.io/spring-framework/docs/2.5.x/reference/index.html>The Spring Framework - Reference Documentation 2.5.6</a></li><li><a href=https://docs.spring.io/spring-framework/docs/2.5.6/javadoc-api/>Spring Framework API Documentation 2.5.6</a></li><li><a href=https://spring.io/blog/2007/11/14/annotated-web-mvc-controllers-in-spring-2-5>SpringSource Team Blog,Annotated Web MVC Controllers in Spring 2.5, Juergen Hoeller</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-08c319109072509092038f7418a9ad23>8 - Springì˜ Validator ì¸í„°í˜ì´ìŠ¤ì™€ ìœ íš¨ì„± ê²€ì¦</h1><div class=lead>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” Validator ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•´ ì›¹, ë°ì´í„° ì ‘ê·¼ ë“± ë‹¤ì–‘í•œ ê³„ì¸µì˜ ê°ì²´ì— ìœ íš¨ì„± ê²€ì¦ì„ ì§€ì›í•œë‹¤. ë˜í•œ Jakarta Commons Validatorì™€ ê°™ì€ ì™¸ë¶€ Validatorë„ ìŠ¤í”„ë§ì—ì„œ í†µí•©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</div><h1 id=validation>Validation</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ê°ì²´ì˜ ìœ íš¨ì„± ê²€ì¦ì„ ìœ„í•´ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” org.springframework.validation.Validatorë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
ValidatorëŠ” íŠ¹ì • ê³„ì¸µì— ì¢…ì†ì ì¸ êµ¬ì¡°ê°€ ì•„ë‹ˆë¼ì„œ, webì´ë‚˜ data-accessë“± ì–´ë–¤ ê³„ì¸µì˜ ê°ì²´ë¼ë„ ìœ íš¨ì„± ê²€ì¦ì´ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.
Jakarta Commons Validatorë‚˜ Valang ê°™ì€ ì™¸ë¶€ Validatorë“¤ë„ Spring í”„ë ˆì„ì›Œí¬ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
Spring Modulesë¥¼ ì´ìš©í•œ Jakarta Commons Validator ì‚¬ìš© ë°©ë²•ì— ëŒ€í•´ì„œëŠ” Spring Frameworkì—ì„œ Commons Validator ì‚¬ìš© ì„ ì°¸ê³ í•˜ë¼.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>ë¶€ì„œ ì •ë³´ë¥¼ ìˆ˜ì •í•˜ëŠ” í˜ì´ì§€ì—ì„œ ì»¤ë§¨ë“œ ê°ì²´ì¸ ë¶€ì„œ ì •ë³´ í´ë˜ìŠ¤ë¥¼ ìœ íš¨ì„± ê²€ì¦í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ì.
ë¶€ì„œ í´ë˜ìŠ¤ì¸ Department í´ë˜ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.domain</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Department</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>deptid</span><span style=color:#ce5c00;font-weight:700>;</span>   <span style=color:#8f5902;font-style:italic>//ë¶€ì„œì•„ì´ë””
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>deptname</span><span style=color:#ce5c00;font-weight:700>;</span>  <span style=color:#8f5902;font-style:italic>//ë¶€ì„œì´ë¦„
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>superdeptid</span><span style=color:#ce5c00;font-weight:700>;</span>  <span style=color:#8f5902;font-style:italic>//ìƒìœ„ë¶€ì„œì•„ì´ë””
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>superdeptname</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>//ìƒìœ„ë¶€ì„œì´ë¦„
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>depth</span><span style=color:#ce5c00;font-weight:700>;</span>  <span style=color:#8f5902;font-style:italic>//ë¶€ì„œë ˆë²¨
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>description</span><span style=color:#ce5c00;font-weight:700>;</span>  <span style=color:#8f5902;font-style:italic>//ë¶€ì„œì„¤ëª…
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//ìœ„ í”„ë¡œí¼í‹°ë“¤ì˜ setter/getter
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=validator-êµ¬í˜„>Validator êµ¬í˜„</h3><p>ì¸í„°í˜ì´ìŠ¤ org.springframework.validation.Validatorì˜ ë©”ì†Œë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>boolean supports(Class clazz) : ì£¼ì–´ì§„ ê°ì²´(clazz)ì— ëŒ€í•´ Validatorê°€ ì§€ì› ê°€ëŠ¥í•œê°€?</li><li>void validate(Object target, Errors errors) : ì£¼ì–´ì§„ ê°ì²´(target)ì— ëŒ€í•´ì„œ ìœ íš¨ì„± ì²´í¬ë¥¼ ìˆ˜í–‰í•˜ê³ , ìœ íš¨ì„± ì—ëŸ¬ ë°œìƒì‹œ ì£¼ì–´ì§„ Errorsê°ì²´ì— ê´€ë ¨ ì •ë³´ê°€ ì €ì¥ëœë‹¤.</li></ul><p>êµ¬í˜„ Validator í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ë•ŒëŠ” ìœ„ ë‘ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.</p><p>Departmentë¥¼ ìœ íš¨ì„± ê²€ì¦ í•˜ê¸° ìœ„í•œ DepartmentValidatorë¥¼ ë§Œë“¤ì–´ ë³´ì.
Validation ì¡°ê±´ì€ ë¶€ì„œì´ë¦„(deptname) í”„ë¡œí¼í‹°ëŠ” ë°˜ë“œì‹œ ê°’ì´ ì¡´ì¬í•´ì•¼ í•˜ë©°, ë¶€ì„œì„¤ëª…(description) í”„ë¡œí¼í‹°ëŠ” ì…ë ¥ê°’ì˜ ê¸¸ì´ê°€ 10 ì´ìƒì´ì–´ì•¼ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.validator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.validation.Errors</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.validation.Validator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>com.easycompany.domain.Department</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>DepartmentValidator</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>Validator</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>supports</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Class</span> <span style=color:#000>clazz</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isAssignableFrom</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>clazz</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>validate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Object</span> <span style=color:#000>target</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Errors</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#000>target</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>isEmptyOrWhitespace</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDeptname</span><span style=color:#ce5c00;font-weight:700>()))</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>//ë¶€ì„œ ì´ë¦„ í”„ë¡œí¼í‹° ê°’ì´ ì¡´ì¬í•˜ëŠ”ê°€? 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>rejectValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;deptname&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;required&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDescription</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDescription</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>length</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>//ë¶€ì„œì„¤ëª… í”„ë¡œí¼í‹°ëŠ” ê°’ì˜ ê¸¸ì´ê°€ 10 ì´ìƒì¸ê°€?
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>rejectValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;description&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;lengthsize&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>[]{</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>},</span> <span style=color:#4e9a06>&#34;description&#39;s length must be larger than 10.&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>		
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>	
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>isEmptyOrWhitespace</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>trim</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>length</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ìœ„ ì½”ë“œì—ì„œ ì²˜ëŸ¼ ìœ íš¨ì„± ê²€ì¦ì´ ì‹¤íŒ¨í•œ ê²½ìš° Errors ì¸í„°í˜ì´ìŠ¤ì˜ rejectValue ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ëŠ”ë°, Errors ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ <a href=https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/org/springframework/validation/Errors.html>ì—¬ê¸°</a>ë¥¼ ì°¸ê³ í•˜ë¼.</p><p><strong>errors.rejectValue(â€œdeptnameâ€, â€œrequiredâ€);</strong></p><ul><li>deptname í”„ë¡œí¼í‹°ì— ëŒ€í•´ì„œ ìœ íš¨ì„± ê²€ì¦ì‹œ ì—ëŸ¬ê°€ ë°œìƒí–ˆê³ , ê´€ë ¨ ë©”ì‹œì§€ keyëŠ” â€œrequiredâ€ë€ ì˜ë¯¸ì´ë‹¤.</li></ul><p><strong>errors.rejectValue(â€œdescriptionâ€, â€œlengthsizeâ€, new Object[]{10}, â€œdescription&rsquo;s length must be larger than 10.â€);</strong></p><ul><li>description í”„ë¡œí¼í‹°ì— ëŒ€í•´ì„œ ìœ íš¨ì„± ê²€ì¦ì‹œ ì—ëŸ¬ê°€ ë°œìƒí–ˆê³ , ê´€ë ¨ ë©”ì‹œì§€ keyëŠ” â€œlengthsizeâ€ ì´ë©° ë©”ì‹œì§€ì— ì „ë‹¬ë  argumentëŠ” 10ì´ë©°,
í•´ë‹¹ ë©”ì‹œì§€ keyê°€ ì¡´ì¬ í•˜ì§€ ì•Šìœ¼ë©´ â€œdescription&rsquo;s length must be larger than 10.â€ë€ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.</li></ul><p>ìŠ¤í”„ë§ì—ì„œëŠ” ìœ íš¨ì„± ê²€ì¦ì„ ìœ„í•œ ValidationUtilsë¼ëŠ” ìœ í‹¸ í´ë˜ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
ë¶€ì„œ ì´ë¦„ í”„ë¡œí¼í‹°(deptname) ê°’ì´ nullë˜ëŠ” white spaceì¸ì§€ ì²´í¬í•˜ëŠ” ë¶€ë¶„ì€ ValidationUtilsì˜ rejectIfEmptyOrWhitespace ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.validator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.validation.Errors</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.validation.Validator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.validation.ValidationUtils</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>com.easycompany.domain.Department</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>DepartmentValidator</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>Validator</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>supports</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Class</span> <span style=color:#000>clazz</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isAssignableFrom</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>clazz</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>validate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Object</span> <span style=color:#000>target</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Errors</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Department</span> <span style=color:#000>department</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>)</span><span style=color:#000>target</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>ValidationUtils</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>rejectIfEmptyOrWhitespace</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;deptname&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;required&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDescription</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDescription</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>length</span><span style=color:#ce5c00;font-weight:700>()&lt;</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>//ë¶€ì„œì„¤ëª… í”„ë¡œí¼í‹°ëŠ” ì…ë ¥ê°’ì˜ ê¸¸ì´ê°€ 10 ì´ìƒì¸ê°€?
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>rejectValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;description&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;lengthsize&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>[]{</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>},</span> <span style=color:#4e9a06>&#34;description&#39;s length must be larger than 10.&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>		
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=ì—ëŸ¬-ë©”ì‹œì§€-ì„¤ì •>ì—ëŸ¬ ë©”ì‹œì§€ ì„¤ì •</h3><p>message í”„ë¡œí¼í‹° íŒŒì¼ì—ì„œ ë©”ì‹œì§€ keyì¸ â€œrequiredâ€, â€œlengthsizeâ€ì— ëŒ€í•œ ë©”ì‹œì§€ ì„¤ì •ì„ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#c4a000>required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>í•„ìˆ˜ ì…ë ¥ê°’ì…ë‹ˆë‹¤.</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>lengthsize</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>{0}ì ì´ìƒ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.</span>
</span></span></code></pre></div><h3 id=controllerì—ì„œ-validation>Controllerì—ì„œ validation</h3><p>Controllerì—ì„œ validationì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œë¥¼ ì ìš©í•´ ë³´ì.
í¼ì„ ì „ì†¡í•˜ëŠ” ìˆœê°„ì— ìœ íš¨ì„± ê²€ì¦ì„ í•˜ê¸° ì›í•œë‹¤ë©´,
com.easycompany.controller.annotation.UpdateDepartmentController ì—ì„œ onSubmit ë©”ì†Œë“œì— validation ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.annotation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.validation.BindingResult</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>com.easycompany.validator.DepartmentValidator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>UpdateDepartmentController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//ì‚¬ìš©ìê°€ ë°ì´í„° ìˆ˜ì •ì„ ëë‚´ê³  ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆ˜ì • ë°ì´í„°ë¡œ ì €ì¥ì„ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤(DB)ë¥¼ í˜¸ì¶œí•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#8f5902;font-style:italic>//ì €ì¥ì´ ì„±ê³µí•˜ë©´ ë¶€ì„œë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ê³  ì—ëŸ¬ê°€ ìˆìœ¼ë©´ ë‹¤ì‹œ ì…ë ¥í¼í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateDepartment.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>onSubmit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;department&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>Department</span> <span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindingResult</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//validation code
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DepartmentValidator</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>validate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//validationì„ ìˆ˜í–‰í•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>if</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasErrors</span><span style=color:#ce5c00;font-weight:700>()){</span> <span style=color:#8f5902;font-style:italic>//validation ì—ëŸ¬ê°€ ìˆìœ¼ë©´,
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>  <span style=color:#8f5902;font-style:italic>//ì´ í˜ì´ì§€ë¡œ ì´ë™.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>updateDepartment</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>department</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;redirect:/departmentList.do?depth=1&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>printStackTrace</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifydepartment&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=jsp>JSP</h3><p>ì†ì‰¬ìš´ ì—ëŸ¬ ë©”ì‹œì§€ í‘œê¸°ë¥¼ ìœ„í•´ Spring í¼íƒœê·¸ <code>&lt;form:errors/></code>ë¥¼ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.
/easycompany/webapp/jsp/annotation/modifydepartment.jsp</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;%@ taglib prefix=&#34;form&#34; uri=&#34;http://www.springframework.org/tags/form&#34; %&gt;
...
&lt;form:form commandName=&#34;department&#34;&gt;
&lt;table&gt;
...
	&lt;tr&gt;
		&lt;th&gt;ë¶€ì„œì´ë¦„&lt;/th&gt;
		&lt;td&gt;&lt;form:input path=&#34;deptname&#34; size=&#34;20&#34;/&gt;&lt;form:errors path=&#34;deptname&#34; /&gt;&lt;/td&gt;
	&lt;/tr&gt;
...
	&lt;tr&gt;
		&lt;th&gt;ì„¤ëª…&lt;/th&gt;
		&lt;td&gt;&lt;form:textarea path=&#34;description&#34; rows=&#34;10&#34; cols=&#34;40&#34;/&gt;&lt;form:errors path=&#34;description&#34; /&gt;&lt;/td&gt;
	&lt;/tr&gt;	
&lt;/table&gt;
&lt;/form:form&gt;
...
</code></pre><h3 id=test>TEST</h3><p>ë¶€ì„œ ì´ë¦„ê°’ì„ ë¹„ìš°ê³ , ë¶€ì„œì„¤ëª… ë¶€ë¶„ì— 10ì ì´í•˜ë¡œ ì…ë ¥í•œ í›„ì— ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, ë‹¤ì‹œ ë¶€ì„œì •ë³´ìˆ˜ì • í˜ì´ì§€ë¡œ ëŒì•„ì™€ì„œ ì•„ë˜ì™€ ê°™ì´ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì¶œë ¥ë  ê²ƒì´ë‹¤.</p><p><img src=../images/web-servlet-validation.png alt=web-servlet-validation></p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li>Spring Framework API Documentation 2.5.6</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e3291d7d5b4efb88c0537abb957414ce>9 - Bean Validation (JSR-303)</h1><div class=lead>JSR-303(Bean Validation) ìŠ¤í™ì€ @Valid ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ ëª¨ë¸ ê°ì²´ í•„ë“œì˜ ìë™ ê²€ì¦ì„ ì§€ì›í•œë‹¤. ì´ë¥¼ í†µí•´ í‘œì¤€í™”ëœ ë°©ì‹ìœ¼ë¡œ ì• ë…¸í…Œì´ì…˜ì„ í™œìš©í•œ í•„ë“œ ê²€ì¦ì´ ê°€ëŠ¥í•˜ë‹¤.</div><h1 id=bean-validation-jsr-303>Bean Validation (JSR-303)</h1><h2 id=ê°œìš”>ê°œìš”</h2><p><a href=web-servlet-validation.md>í™”ë©´ì²˜ë¦¬: validation</a>ì„ í†µí•´ ê²€ì¦ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ë‹¤. ì´ì „ê³¼ëŠ” ë‹¤ë¥´ê²Œ JSR-303(Bean Validation) ìŠ¤í™ì€ ìë™ ê²€ì¦ ë°©ì‹ì„ ì œê³µí•œë‹¤. @javax.validation.Validì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë‚´ë¶€ì ìœ¼ë¡œ(ìë™ìœ¼ë¡œ) ê²€ì¦ì´ ìˆ˜í–‰ëœë‹¤.</p><p>ë˜í•œ, ìµœê·¼ì— í‘œì¤€ ìŠ¤í™ìœ¼ë¡œ ì¸ì¦ë°›ì€ JSR-303 ë¹ˆ ê²€ì¦ë°©ì‹ì„ ì´ìš©í•˜ì—¬ ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ í•„ë“œì—ì„œ ì• ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ ê²€ì¦ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=validë¥¼-ì´ìš©í•œ-ìë™ê²€ì¦>@Validë¥¼ ì´ìš©í•œ ìë™ê²€ì¦</h3><p>ê¸°ì¡´ì˜ ê²€ì¦ ë°©ì‹ì„ ìë™ ê²€ì¦ ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ì˜€ìœ¼ë©°, ë°©ë²•ì€ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì†Œë“œì˜ <code>@ModelAttribute</code> íŒŒë¼ë¯¸í„°ì— <code>@Valid</code> ì• ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•œë‹¤. ê·¸ëŸ¬ë©´ <code>validate()</code> ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ëŒ€ì‹  ë°”ì¸ë”© ê³¼ì •ì—ì„œ ìë™ìœ¼ë¡œ ê²€ì¦ì´ ì§„í–‰ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ExampleController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Autowired</span> <span style=color:#000>ExampleValidator</span> <span style=color:#000>validator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@InitBinder</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>initBinder</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebDataBinder</span> <span style=color:#000>dataBinder</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#000>dataBinder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setValidator</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>validator</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/insertMember.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>insertMember</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;memberVO&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#5c35cc;font-weight:700>@Valid</span> <span style=color:#000>MemberVO</span> <span style=color:#000>memberVO</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindingResult</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>..)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//..
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=jsr-303-ë¹ˆ-ê²€ì¦bean-validation-ê¸°ëŠ¥>JSR-303 ë¹ˆ ê²€ì¦(bean validation) ê¸°ëŠ¥</h3><p>ìœ„ì˜ ë°©ì‹ì€ ê¸°ì¡´ì˜ ê²€ì¦ë°©ì‹ì„ ìë™ ê²€ì¦ìœ¼ë¡œ ë³€ê²½í•œ ë°©ë²•ì´ë©° ë‹¤ìŒì— ì„¤ëª…í•œ ê²€ì¦ë°©ë²•ì€ ì œì•½ì¡°ê±´ì„ ë¹ˆì— ì§ì ‘ ì„¤ì •í•˜ì—¬ ê²€ì¦í•˜ëŠ” ë°©ì‹ì´ë‹¤.</p><p>ë¨¼ì €, í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ì˜ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤. ë©”ì´ë¸ì„ ì‚¬ìš© ì¤‘ì´ë¼ë©´ ë‹¤ìŒ ì˜ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í”„ë¡œì íŠ¸ì— ì¶”ê°€í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>javax.validation<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>validation-api<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.0.0.GA<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.hibernate<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>hibernate-validator<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;version&gt;</span>4.0.0.GA<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>ë‹¤ìŒì€ JSR-303 ì œì•½ì¡°ê±´ ì• ë…¸í…Œì´ì…˜ì´ ì ìš©ëœ ëª¨ë¸ì˜¤ë¸Œì íŠ¸ ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>MemberVO</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@NotNull</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Size</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>min</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>max</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>50</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Pattern</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>regexp</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;.+@.+\\.[a-z]+&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ì´ë©”ì¼ í˜•ì‹ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>email</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>//..
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p><code>@NotNull</code>ì€ ë¹ˆë¬¸ìì—´ì„ ê²€ì¦í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— <code>@Size(min=1)</code>ì„ ì‚¬ìš©í•˜ì—¬ ë¹ˆ ë¬¸ìì—´ì„ í™•ì¸í•´ì•¼ í•œë‹¤.</p><p>ìœ„ì™€ê°™ì€ ì œì•½ì¡°ê±´ ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ ê²€ì¦ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” LocalValidatiorFactoryBeanì„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ ì¤˜ì•¼ í•œë‹¤. LocalValidatiorFactoryBeanì€ JSR-303ì˜ ê²€ì¦ê¸°ëŠ¥ì„ ìŠ¤í”„ë§ì˜ Validatorì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì¼ì¢…ì˜ ì–´ëŒ‘í„°ë‹¤. LocalValidatiorFactoryBeanì„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ Validatoríƒ€ì…ìœ¼ë¡œ DI ë°›ì•„ì„œ @InitBinderì—ì„œ WebDataBinderì— ì„¤ì •í•˜ê±°ë‚˜ ì½”ë“œì—ì„œ ì§ì ‘ Validatorì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;validator&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>ë¹ˆ ê²€ì¦ ê¸°ëŠ¥ì„ validatorë¡œ ì‚¬ìš©í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ExampleController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Resource</span>
</span></span><span style=display:flex><span>	<span style=color:#000>Validator</span> <span style=color:#000>validator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@InitBinder</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>initBinder</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebDataBinder</span> <span style=color:#000>dataBinder</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#000>dataBinder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setValidator</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>validator</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/insertMember.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>insertMember</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;memberVO&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#5c35cc;font-weight:700>@Valid</span> <span style=color:#000>MemberVO</span> <span style=color:#000>memberVO</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindingResult</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>..)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//..
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p><img src=../images/web-servlet-declarative-validation.png alt=web-servlet-declarative-validation></p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href="https://www.egovframe.go.kr/wiki/doku.php?id=egovframework:rte3.10:rex:validation_%EC%98%88%EC%A0%9C">Validator ì˜ˆì œ</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-d376ca86ffb3d14bd557c43cd7ad20c7>10 - View</h1><div class=lead>ControllerëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•œ í›„ View ì´ë¦„ê³¼ ë°ì´í„°ë¥¼ ModelAndViewì— ì €ì¥í•´ DispatcherServletì— ë°˜í™˜í•˜ê³ , DispatcherServletì€ ViewResolverë¥¼ í†µí•´ ì‹¤ì œ View ê°ì²´ë¥¼ ì–»ëŠ”ë‹¤. ì´ ViewëŠ” Model ê°ì²´ì˜ ì •ë³´ë¥¼ ì¶œë ¥í•˜ë©°, ìŠ¤í”„ë§ì€ JSPì—ì„œ í¸ë¦¬í•œ ë°ì´í„° ì¶œë ¥ì„ ìœ„í•´ Spring form tag libraryë¥¼ ì œê³µí•œë‹¤.</div><h1 id=view>View</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>Controllerê°€ ìš”ì²­ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•˜ê³ , View ì´ë¦„ê³¼ ë°ì´í„°(Model)ë¥¼ ModelAndViewì— ì €ì¥í•´ DispatcherServletì— ë°˜í™˜(return)í•˜ë©´,
DispatcherServletì€ View ì´ë¦„ì„ ê°€ì§€ê³  ViewResolverì—ê²Œì„œ ì‹¤ì œ View ê°ì²´ë¥¼ ì–»ê³ , ì´ ViewëŠ” Controllerê°€ ì €ì¥í•œ Model ê°ì²´ì˜ ì •ë³´ë¥¼ ì¶œë ¥í•œë‹¤.
ì—¬ê¸°ì„œëŠ” Viewì™€ ViewResolver, ê·¸ë¦¬ê³  JSPì—ì„œ í¸ë¦¬í•œ ë°ì´í„° ì¶œë ¥ì„ ìœ„í•´ ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” Spring form tag libraryì— ëŒ€í•´ì„œ ì„¤ëª…í•œë‹¤.</p><ul><li><a href=#view>View</a><ul><li><a href=#%EA%B0%9C%EC%9A%94>ê°œìš”</a></li><li><a href=#%EC%84%A4%EB%AA%85>ì„¤ëª…</a><ul><li><a href=#viewresolver>ViewResolver</a><ul><li><a href=#internalresourceviewresolverurlbasedviewresolver>InternalResourceViewResolver/UrlBasedViewResolver</a></li></ul></li><li><a href=#view-1>View</a></li><li><a href=#spring-tag-library>Spring Tag Library</a><ul><li><a href=#meassage-tagspringmessage>meassage tag(<code>&lt;spring:message></code>)</a></li><li><a href=#form-tagformformforminput>form tag(<code>&lt;form:form>,&lt;form:input>,...</code>)</a></li></ul></li><li><a href=#%EC%A0%84%EC%9E%90%EC%A0%95%EB%B6%80%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC-tag-library>ì „ìì •ë¶€í”„ë ˆì„ì›Œí¬ Tag Library</a></li></ul></li><li><a href=#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C>ì°¸ê³ ìë£Œ</a></li></ul></li></ul><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=viewresolver>ViewResolver</h3><p>ControllerëŠ” ì½”ë“œë‚´ì—ì„œ ì‹¤ì œ View ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  View ì´ë¦„ë§Œì„ ê²°ì •í•  ìˆ˜ ìˆëŠ”ë°, ì´ë¡œì¨ Controllerì™€ Viewì˜ ë¶„ë¦¬(decoupling)ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.hierarchy</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EmployeeListController</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>AbstractCommandController</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>handle</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>command</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>BindException</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>		<span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Employee</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>employeelist</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>employeeService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getAllEmployees</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>commandMap</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>ModelAndView</span> <span style=color:#000>modelview</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employeelist&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>employeelist</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//ì§ì ‘ View ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ ,
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#8f5902;font-style:italic>//View view = new InternalResourceView(&#34;/jsp/employeelist.jsp&#34;); 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#8f5902;font-style:italic>//modelview.setView(view);
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#8f5902;font-style:italic>//View ì´ë¦„ë§Œì„ ì €ì¥.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setViewName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employeelist&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>modelview</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ì´ë•Œ, DispatcherServletì— ì‹¤ì œ View ê°ì²´ë¥¼ êµ¬í•´ì£¼ëŠ”ê±´ Controllerê°€ ì•„ë‹ˆë¼ ViewResolverê°€ ë‹´ë‹¹í•œë‹¤.
ViewResolverëŠ” Controllerê°€ ë°˜í™˜í•œ ModelAndView ê°ì²´ì— ë‹´ê¸´ View ì´ë¦„ì„ ê°€ì§€ê³  ì‹¤ì œ View ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.
Springì—ì„œ ì œê³µí•˜ëŠ” ViewResolver êµ¬í˜„ í´ë˜ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>ViewResolver</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>XmlViewResolver</td><td>Viewì´ë¦„ê³¼ View í´ë˜ìŠ¤ê°„ì˜ ë§¤í•‘ì •ë³´ê°€ ë‹´ê¸´ XMLë¡œ ë¶€í„° Viewì´ë¦„ì— í•´ë‹¹í•˜ëŠ” Viewë¥¼ êµ¬í•œë‹¤.<br>ê¸°ë³¸ì„¤ì • íŒŒì¼ì€ /WEB-INF/views.xmlì´ë‹¤.</td></tr><tr><td>ResourceBundleViewResolver</td><td>Viewì´ë¦„ê³¼ View í´ë˜ìŠ¤ê°„ì˜ ë§¤í•‘ì •ë³´ê°€ ë‹´ê¸´ ë¦¬ì†ŒìŠ¤ ë²ˆë“¤(í”„ë¡œí¼í‹°íŒŒì¼)ë¡œ ë¶€í„° View ì´ë¦„ì— í•´ë‹¹í•˜ëŠ” Viewë¥¼ êµ¬í•œë‹¤.<br>ê¸°ë³¸ì„¤ì • íŒŒì¼ì€ views.propertiesì´ë‹¤.</td></tr><tr><td>InternalResourceViewResolver/UrlBasedViewResolver</td><td>íŠ¹ì • ë””ë ‰í† ë¦¬ ê²½ë¡œì˜ JSPíŒŒì¼ë“¤ì„ í˜¸ì¶œí•  ë•Œ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í• ìˆ˜ ìˆë‹¤.<br>ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” View í´ë˜ìŠ¤ëŠ” InternalResourceViewì´ë©°, View ì´ë¦„ì´ ê³§ JSP íŒŒì¼ì´ë¦„ì´ ëœë‹¤.</td></tr><tr><td>VelocityViewResolver /FreeMarkerViewResolver</td><td>Velocity/FreeMarker ì—°ë™ì‹œì— ì‚¬ìš©í•œë‹¤.</td></tr></tbody></table><h4 id=internalresourceviewresolverurlbasedviewresolver>InternalResourceViewResolver/UrlBasedViewResolver</h4><p>ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ê°€ ëë‚œ í›„ â€/jsp/main/abc.jspâ€ ê²½ë¡œì˜ JSP íŒŒì¼ë¡œ forwardingí•˜ëŠ” Controllerê°€ ìˆë‹¤ê³  í•˜ë©´, InternalResourceViewResolver/UrlBasedViewResolverë¥¼ ì‚¬ìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ Controllerë¥¼ ì‘ì„±í•˜ê³ , ë¹ˆ ì •ì˜ íŒŒì¼ì— ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.InternalResourceViewResolver&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>ë˜ëŠ”</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.UrlBasedViewResolver &#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;...&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>hello</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>...</span> <span style=color:#8f5902;font-style:italic>//ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;/jsp/main/abc.jsp&#34;</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>//ë·°ì´ë¦„ì´ ê³§ JSP íŒŒì¼ì˜ ê²½ë¡œ.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#ce5c00;font-weight:700>}</span>	
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>InternalResourceViewResolver/UrlBasedViewResolverì˜ í”„ë¡œí¼í‹° prefix, suffixë¥¼ ì‚¬ìš©í•˜ë©´ ì¢€ë” ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í• ìˆ˜ ìˆëŠ”ë°,
JSPê°€ íŠ¹ì • ë””ë ‰í† ë¦¬ ê²½ë¡œ ì•„ë˜ì— ìˆê³ , ì˜ˆë¥¼ ë“¤ì–´ /jsp/main ë””ë ‰í† ë¦¬ ì•„ë˜, í™•ì¥ìëŠ” .jsp ì´ë¼ë©´,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.InternalResourceViewResolver&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:prefix=</span><span style=color:#4e9a06>&#34;/jsp/main/&#34;</span> <span style=color:#c4a000>p:suffix=</span><span style=color:#4e9a06>&#34;.jsp&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>ë˜ëŠ”</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.UrlBasedViewResolver&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:prefix=</span><span style=color:#4e9a06>&#34;/jsp/main/&#34;</span> <span style=color:#c4a000>p:suffix=</span><span style=color:#4e9a06>&#34;.jsp&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;...&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>hello</span><span style=color:#ce5c00;font-weight:700>(){</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;abc&#34;</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>//prefixì™€ suffixë¥¼ ì œì™¸í•œ ë¶€ë¶„ë§Œ í‘œê¸°.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#ce5c00;font-weight:700>}</span>	
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ê°„ë‹¨íˆ ë·°ì´ë¦„ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</p><h3 id=view-1>View</h3><p>Springì´ ì œê³µí•˜ëŠ” View í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ, UI Tool ë“±ê³¼ì˜ ì—°ë™ë“±ìœ¼ë¡œ ì¸í•´ View í´ë˜ìŠ¤ë¥¼ ì§ì ‘ ì‘ì„±í•´ì•¼ í•˜ëŠ” ê²½ìš°ë„ ë°œìƒí•œë‹¤.
ì¸í„°í˜ì´ìŠ¤ Viewë¥¼ ì§ì ‘ êµ¬í˜„í•´ì„œ View í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ìˆ˜ë„ ìˆì§€ë§Œ, AbstractViewë¥¼ í™•ì¥í•˜ì—¬ êµ¬í˜„í•´ë³´ì.
renderMergedOutputModel ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ë©´ ë˜ëŠ”ë°, ì•„ë˜ì™€ ê°™ì€ ë©”ì†Œë“œ ì‹œê·¸ë‹ˆì³ë¥¼ ê°€ì§€ê³  ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>protected</span> <span style=color:#204a87;font-weight:700>abstract</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>renderMergedOutputModel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Map</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                                <span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                                <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span>
</span></span></code></pre></div><p>AjaxTagsë€ Ajax ê´€ë ¨ ì˜¤í”ˆì†ŒìŠ¤ ì‚¬ìš©ì„ ìœ„í•´ Model ê°ì²´ì˜ ë°ì´í„°ë¥¼ &rsquo;text/xml&rsquo; í˜•ì‹ìœ¼ë¡œ ë Œë”ë§í•˜ëŠ” View í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë´¤ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.view</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.io.PrintWriter</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.Map</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>javax.servlet.http.HttpServletRequest</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>javax.servlet.http.HttpServletResponse</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.servlet.view.AbstractView</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>AjaxXmlView</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>AbstractView</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>renderMergedOutputModel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Map</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setContentType</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;text/xml&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setHeader</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Cache-Control&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;no-cache&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCharacterEncoding</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;UTF-8&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>PrintWriter</span> <span style=color:#000>writer</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getWriter</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>writer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>write</span><span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;ajaxXml&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>		<span style=color:#000>writer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>close</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=spring-tag-library>Spring Tag Library</h3><h4 id=meassage-tagspringmessage>meassage tag(<code>&lt;spring:message></code>)</h4><p>ìŠ¤í”„ë§ì€ ë©”ì‹œì§€ ë¦¬ì†ŒìŠ¤ íŒŒì¼ë¡œ ë¶€í„° ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì™€ ê°„í¸í•˜ê²Œ ì¶œë ¥í• ìˆ˜ ìˆë„ë¡, <code>&lt;spring:message></code> íƒœê·¸ë¥¼ ì œê³µí•œë‹¤.
JSP í˜ì´ì§€ì˜ íƒ€ì´í‹€ì„ <code>&lt;spring:message></code>ë¥¼ ì´ìš©í•´ì„œ ì¶œë ¥í•˜ëŠ” ì˜ˆì œë¥¼ ë§Œë“¤ì–´ ë³´ì.
ë¹ˆ ì •ì˜ íŒŒì¼ì— ë¦¬ì†ŒìŠ¤ ë²ˆë“¤ ê´€ë ¨ëœ ì„¤ì •ì´ ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- Message Source--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;messageSource&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.context.support.ResourceBundleMessageSource&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#c4a000>p:basename=</span><span style=color:#4e9a06>&#34;messages&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>ë¨¼ì € ë©”ì‹œì§€ ê´€ë ¨ ë¦¬ì†ŒìŠ¤ íŒŒì¼ì— ì½”ë“œê°’ì„ ì„¤ì •í•´ì¤€ë‹¤. PropertiedEditor ê°™ì€ ìœ í‹¸ì˜ ë„ì›€ì„ ë°›ìœ¼ë©´ í¸ë¦¬í•˜ê²Œ í•œê¸€ ì…ë ¥-í¸ì§‘ì´ ê°€ëŠ¥í•˜ë‹¤.</p><p>/easycompany/webapp/WEB-INF/classes/messages_ko.properties</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#a40000>...</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># -- spring:message --</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>easaycompany.loginform.title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ë¡œê·¸ì¸í˜ì´ì§€</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>easaycompany.employeelist.title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ì‚¬ì› ì •ë³´ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>easaycompany.updateemployee.title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ì‚¬ì› ì •ë³´ ìˆ˜ì • í˜ì´ì§€</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>easaycompany.insertemployee.title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ì‚¬ì› ì •ë³´ ì…ë ¥ í˜ì´ì§€</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>easaycompany.departmentlist.title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ë¶€ì„œ ì •ë³´ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>easaycompany.updatedepartment.title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ë¶€ì„œ ì •ë³´ ìˆ˜ì • í˜ì´ì§€</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>easaycompany.insertdepartment.title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ë¶€ì„œ ì •ë³´ ì…ë ¥ í˜ì´ì§€</span>
</span></span></code></pre></div><p>JSP í˜ì´ì§€ì— ì»¤ìŠ¤í…€ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ ì–¸ì„ í•´ì¤˜ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  <code>&lt;spring:message></code> íƒœê·¸ì˜ code ê°’ì—ëŠ” ë©”ì‹œì§€ í‚¤ê°’ì„ ì£¼ë©´ ëœë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>...
&lt;%@ taglib prefix=&#34;spring&#34; uri=&#34;http://www.springframework.org/tags&#34; %&gt;
&lt;html xmlns=&#34;http://www.w3.org/1999/xhtml&#34;&gt;
&lt;head&gt;
&lt;meta http-equiv=&#34;Content-Type&#34; content=&#34;text/html; charset=utf-8&#34; /&gt;
&lt;title&gt;&lt;spring:message code=&#34;easaycompany.departmentlist.title&#34;/&gt;&lt;/title&gt;
...
</code></pre><p>í•´ë‹¹ í™”ë©´ì˜ íƒ€ì´í‹€ì´ â€œë¶€ì„œ ì •ë³´ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€â€ë¡œ í‘œê¸° ë  ê²ƒì´ë‹¤.</p><h4 id=form-tagformformforminput>form tag(<code>&lt;form:form>,&lt;form:input>,...</code>)</h4><p>í¼ ê´€ë ¨ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ë•ŒëŠ” ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” í¼ íƒœê·¸ì™€ ê°™ì´ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ë‹¤.
ìŠ¤í”„ë§ í¼ íƒœê·¸ëŠ” Model ë°ì´í„°ì˜ ì»¤ë§¨ë“œ ê°ì²´(command object)ë‚˜ ì°¸ì¡° ë°ì´í„°(reference data)ë“¤ì„ í™”ë©´ìƒì—ì„œ ì‰½ê²Œ ì¶œë ¥í•˜ë„ë¡ ë„ì™€ ì¤€ë‹¤.
ì¼ë‹¨, ìŠ¤í”„ë§ í¼ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ í˜ì´ì§€ì— ì»¤ìŠ¤í…€ íƒœê·¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„ ì–¸í•´ì•¼ í•œë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;%@ taglib prefix=&#34;form&#34; uri=&#34;http://www.springframework.org/tags/form&#34; %&gt;
</code></pre><p>ìŠ¤í”„ë§ í¼ íƒœê·¸ì—ëŠ” ì•„ë˜ì™€ ê°™ì€ íƒœê·¸ë“¤ì´ ìˆë‹¤.</p><p><em><strong><a href=form:form>form:form</a></strong></em></p><p><code>&lt;form:form></code>ëŠ” ì†ì„± commandNameì— ì •ì˜ëœ model attributeë¥¼ PageContextì— ì €ì¥í•´ì„œ, <code>&lt;form:input></code>ì´ë‚˜ <code>&lt;form:hidden></code>ê°™ì€ tagë“¤ì´ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.
ê´€ë ¨ ì†ì„±ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li>commandName<ul><li>ì°¸ì¡°í•˜ë ¤ëŠ” model attribute ì´ë¦„</li></ul></li><li>action<ul><li>í¼ ì „ì†¡í•  URL</li></ul></li><li>method<ul><li>í¼ ì „ì†¡ì‹œì— HTTP ë©”ì†Œë“œ(GET, POST)</li></ul></li><li>enctype<ul><li>í¼ ì „ì†¡ì‹œì— ë°ì´í„° ì¸ì½”ë”© íƒ€ì…</li></ul></li></ul><p><code>&lt;form:form></code> íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ê³  ì¶œë ¥ëœ í˜ì´ì§€ì—ì„œ ì†ŒìŠ¤ ë³´ê¸°ë¡œ HTML ì½”ë“œë¥¼ ì—´ì–´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ HTML FORM íƒœê·¸ê°€ ì¶œë ¥ëœê±¸ í™•ì¸í•  ìˆ˜ ìˆì„ê²ƒì´ë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;form:form commandName=&#34;department&#34; action=&#34;http://myUrl...&#34; method=&#34;post&#34;&gt; -&gt; &lt;form id=&#34;department&#34; action=&#34;http://myUrl...&#34; method=&#34;post&#34;&gt;
 
&lt;form:form commandName=&#34;department&#34;&gt; -&gt; &lt;form id=&#34;department&#34; action=&#34;í˜„ì¬í˜ì´ì§€ URL&#34; method=&#34;post&#34;&gt;
</code></pre><p><em><strong><a href=form:input>form:input</a></strong></em></p><p>HTML textíƒ€ì…ì˜ input íƒœê·¸ì— commandNameì— ì§€ì •ëœ ê°ì²´ í”„ë¡œí¼í‹°ë¥¼ ë°”ì¸ë”©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.
pathì— í”„ë¡œí¼í‹° ì´ë¦„ì„ ì ìœ¼ë©´, textíƒ€ì…ì˜ input íƒœê·¸ì˜ id, name ê°’ì´ í”„ë¡œí¼í‹° ì´ë¦„ì´ ë˜ê³ , valueëŠ” í•´ë‹¹ í”„ë¡œí¼í‹°ì˜ ê°’ì´ ëœë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;form:form commandName=&#34;department&#34;&gt;
	&lt;tr&gt;
		&lt;th&gt;ë¶€ì„œì´ë¦„&lt;/th&gt;
		&lt;td&gt;&lt;form:input path=&#34;deptname&#34; size=&#34;20&#34;/&gt;&lt;/td&gt;
	&lt;/tr&gt;
&lt;/form:form&gt;
</code></pre><p>ì•„ë˜ì™€ ê°™ì´ HTMLë¡œ ì¶œë ¥ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;department&#34;</span> <span style=color:#c4a000>action</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/easycompany/updateDepartment.do?deptid=1100&#34;</span> <span style=color:#c4a000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;post&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>ë¶€ì„œì´ë¦„<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;deptname&#34;</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;deptname&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;íšŒì‹ë©”ë‰´í˜ì‹ íŒ€&#34;</span> <span style=color:#c4a000>size</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;20&#34;</span><span style=color:#000;font-weight:700>/&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p><em><strong><a href=form:password>form:password</a></strong></em></p><p>HTML passwordíƒ€ì…ì˜ input íƒœê·¸ì— commandNameì— ì§€ì •ëœ ê°ì²´ í”„ë¡œí¼í‹°ë¥¼ ë°”ì¸ë”©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.
ë°”ì¸ë”©ê°’ì„ í‘œê¸°í•˜ê¸° ìœ„í•´ì„œëŠ” showPassword ì†ì„±ì„ showPassword=â€œtrueâ€ë¡œ ì§€ì •í•´ ì£¼ì–´ì•¼ í•œë‹¤.</p><p><em><strong><a href=form:hidden>form:hidden</a></strong></em></p><p>HTML hiddeníƒ€ì…ì˜ input íƒœê·¸ì— commandNameì— ì§€ì •ëœ ê°ì²´ í”„ë¡œí¼í‹°ë¥¼ ë°”ì¸ë”©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.</p><p><em><strong><a href=form:select>form:select</a>, <a href=form:options>form:options</a>, <a href=form:option>form:option</a></strong></em></p><p>HTML select, option íƒœê·¸ì— commandNameì— ì§€ì •ëœ ê°ì²´ í”„ë¡œí¼í‹°ë¥¼ ë°”ì¸ë”©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.
ì•„ë˜ì™€ ê°™ì´ <code>&lt;form:select></code>ì˜ path ì†ì„±ì— commandName ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ì§€ì •í•˜ê³ ,
<code>&lt;form:options></code>ì˜ items ì†ì„±ì— List, Mapë“±ì˜ Collection ê°ì²´ë¥¼ ê°’ìœ¼ë¡œ ì£¼ë©´,</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;form:form commandName=&#34;department&#34;&gt;
	&lt;tr&gt;
		&lt;th&gt;ìƒìœ„ë¶€ì„œ&lt;/th&gt;
		&lt;td&gt;
			&lt;form:select path=&#34;superdeptid&#34;&gt;
				&lt;option value=&#34;&#34;&gt;ìƒìœ„ë¶€ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”.&lt;/option&gt;
				&lt;form:options items=&#34;${deptInfoOneDepthCategory}&#34; /&gt;
			&lt;/form:select&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
&lt;/form:form&gt;
</code></pre><p>ì•„ë˜ì™€ ê°™ì´ HTMLë¡œ ì¶œë ¥ëœë‹¤. <code>&lt;form:select></code>ì˜ path ì†ì„±ê°’ê³¼ ì¼ì¹˜í•˜ëŠ” option ê°’ì´ ìˆìœ¼ë©´ <code>selected=â€œselectedâ€</code> ëœë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;form id=&#34;department&#34; action=&#34;/easycompany/updateDepartment.do?deptid=1100&#34; method=&#34;post&#34;&gt;
	&lt;tr&gt;
		&lt;th&gt;ìƒìœ„ë¶€ì„œ&lt;/th&gt;
		&lt;td&gt;
			&lt;select id=&#34;superdeptid&#34; name=&#34;superdeptid&#34;&gt;
				&lt;option value=&#34;&#34;&gt;ìƒìœ„ë¶€ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”.&lt;/option&gt;
				&lt;option value=&#34;5000&#34;&gt;ê¸ˆìœµì‚¬ì—…ë¶€&lt;/option&gt;
                                &lt;option value=&#34;3000&#34;&gt;ITì—°êµ¬ì†Œ&lt;/option&gt;
                                &lt;option value=&#34;4000&#34;&gt;ê³µê³µì‚¬ì—…ë¶€&lt;/option&gt;
                                &lt;option value=&#34;1000&#34; selected=&#34;selected&#34;&gt;ê²½ì˜ê¸°íšì‹¤&lt;/option&gt;
                                &lt;option value=&#34;2000&#34;&gt;ê²½ì˜ì§€ì›ì‹¤&lt;/option&gt;
			&lt;/select&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
&lt;/form&gt;
</code></pre><p><em><strong><a href=form:checkboxes>form:checkboxes</a></strong></em></p><p><em><strong><a href=form:checkbox>form:checkbox</a></strong></em></p><p><em><strong><a href=form:errors>form:errors</a></strong></em></p><h3 id=ì „ìì •ë¶€í”„ë ˆì„ì›Œí¬-tag-library>ì „ìì •ë¶€í”„ë ˆì„ì›Œí¬ Tag Library</h3><p><strong><code>&lt;ui:pagination/></code></strong></p><p>í˜ì´ì§• ì²˜ë¦¬ì˜ í¸ì˜ë¥¼ ìœ„í•´ <code>&lt;ui:pagination/></code> íƒœê·¸ë¥¼ ì œê³µí•œë‹¤.
<code>&lt;ui:pagination/></code>ì˜ ì£¼ìš” ì†ì„±ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>ì´ë¦„</th><th>ì„¤ëª…</th><th>í•„ìˆ˜ì—¬ë¶€</th></tr></thead><tbody><tr><td>paginationInfo</td><td>í˜ì´ì§•ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•œ ë°ì´í„°. ë°ì´í„° íƒ€ì…ì€ egovframework.rte.ptl.mvc.tags.ui.pagination.PaginationInfoì´ë‹¤.</td><td>yes</td></tr><tr><td>type</td><td>í˜ì´ì§•ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ì„ ë‹´ë‹¹í•  í´ë˜ìŠ¤ì˜ ì•„ì´ë””. ì´ ì•„ì´ë””ëŠ” ë¹ˆì„¤ì • íŒŒì¼ì— ì„ ì–¸ëœ í”„ë¡œí¼í‹° rendererTypeì˜ keyê°’ì´ë‹¤.</td><td>yes</td></tr><tr><td>jsFunction</td><td>í˜ì´ì§€ ë²ˆí˜¸ì— ê±¸ë¦¬ê²Œ ë  ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ ì´ë¦„. í˜ì´ì§€ ë²ˆí˜¸ê°€ ê¸°ë³¸ì ì¸ argumentë¡œ ì „ë‹¬ëœë‹¤.</td><td>yes</td></tr></tbody></table><p>ui íƒœê·¸ì— ëŒ€í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ ì–¸ì„ í•´ì£¼ê³  í˜ì´ì§• ë¦¬ìŠ¤íŠ¸ê°€ ìœ„ì¹˜í•  ê³³ì— ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
paginationInfo ì†ì„±ì—ëŠ” Controllerì—ì„œ Model ê°ì²´ì— ì €ì¥í•œ PaginationInfoì˜ attribute nameì„ ì ì–´ ì£¼ë©´ ë˜ê³ ,
jsFunction ì†ì„±ì€ í˜ì´ì§• ë¦¬ìŠ¤íŠ¸ì˜ ê° í˜ì´ì§€ ë²ˆí˜¸ì— ê±¸ë¦´ ë§í¬ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ëª…ì„ ì ì–´ ì£¼ë©´ ëœë‹¤.
type ì†ì„±ì€ ë¹ˆ ì„¤ì •ì‹œì— rendererType í”„ë¡œí¼í‹°ì˜ entry keyê°’ì„ ì ì–´ì¤€ë‹¤. ë Œë”ë§ íƒ€ì…ì„ íƒœê·¸ì—ì„œ ê²°ì •í•˜ëŠ” ê²ƒì´ë‹¤.</p><p><strong>1. ê´€ë ¨ í´ë˜ìŠ¤ ë¹ˆ ì„¤ì •í•œë‹¤.</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- For Pagination Tag --&gt;</span>	 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;imageRenderer&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.easycompany.tag.ImagePaginationRenderer&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;textRenderer&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.rte.ptl.mvc.tags.ui.pagination.DefaultPaginationRenderer&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;paginationManager&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.rte.ptl.mvc.tags.ui.pagination.DefaultPaginationManager&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;rendererType&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;map&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;entry</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;image&#34;</span> <span style=color:#c4a000>value-ref=</span><span style=color:#4e9a06>&#34;imageRenderer&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;entry</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#c4a000>value-ref=</span><span style=color:#4e9a06>&#34;textRenderer&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/map&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div><p><strong>2. JSPì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„ ì–¸í•œ í›„ ì‚¬ìš©í•œë‹¤.</strong></p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;%@ taglib prefix=&#34;ui&#34; uri=&#34;http://egovframework.gov/ctl/ui&#34;%&gt;
...
&lt;script type=&#34;text/javascript&#34;&gt;
	function linkPage(pageNo){
		location.href = &#34;/easycompany/employeeList.do?pageNo=&#34;+pageNo;
	}	
&lt;/script&gt;
&lt;body&gt;
...
		&lt;ui:pagination paginationInfo = &#34;${paginationInfo}&#34;
			type=&#34;image&#34;
			jsFunction=&#34;linkPage&#34;/&gt;
...
&lt;/body&gt;
</code></pre><p><code>&lt;ui:pagination/></code>ì— ëŒ€í•œ ì¢€ë” ìƒì„¸í•œ ì„¤ëª…ê³¼ ì‚¬ìš©ë²•, í™•ì¥ ë°©ë²•ë“±ì€ <a href="https://www.egovframe.go.kr/wiki/doku.php?id=egovframework:rte:ptl:view:paginationtag">ì´ê³³</a>ì„ ì°¸ê³ </p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li>The Spring Framework - Reference Documentation 2.5.6</li><li>Spring Framework API Documentation 2.5.6</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-769189172b147f11b368571eb0e70527>11 - Map ê°ì²´ë¥¼ í†µí•œ ì…ë ¥ê°’ ì²˜ë¦¬ ë°©ë²•</h1><div class=lead>ì „ìì •ë¶€í”„ë ˆì„ì›Œí¬ 3.0 ì´ì „ì—ëŠ” CommandMapArgumentResolverë¥¼ í†µí•´ Map ê°ì²´ë¥¼ ì‚¬ìš©í–ˆìœ¼ë‚˜, 3.0ë¶€í„°ëŠ” @CommandMapê³¼ AnnotationCommandMapArgumentResolverë¡œ ì´ë¥¼ ì²˜ë¦¬í•œë‹¤. ì´ í´ë˜ìŠ¤ëŠ” HTTP ìš”ì²­ì˜ íŒŒë¼ë¯¸í„° ì´ë¦„ê³¼ ê°’ì„ Mapì— ë‹´ì•„ Controllerì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•œë‹¤.</div><h1 id=annotationcommandmapargumentresolver>AnnotationCommandmapArgumentResolver</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>Controllerì—ì„œ í™”ë©´(JSP) ì…ë ¥ê°’ì„ ë°›ê¸° ìœ„í•´ì„œ ì¼ë°˜ì ìœ¼ë¡œ Command(Form Class) ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, Map ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ”ê±¸ ì„ í˜¸í•  ìˆ˜ ìˆë‹¤.
ì „ìì •ë¶€í”„ë ˆì„ì›Œí¬ ë²„ì „ 3.0ì´ì „ì—ì„œëŠ” CommandMapArgumentResolverë¥¼ í†µí•´ Mapê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë‹¤. ê·¸ëŸ¬ë‚˜ 3.0ë¶€í„°ëŠ” @CommandMapê³¼ AnnotationCommandmapArgumentResolverë¥¼ í†µí•´ Mapê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
org.springframework.web.method.support.HandlerMethodArgumentResolverì˜ êµ¬í˜„í´ë˜ìŠ¤ì¸ AnnotationCommandMapArgumentResolverì€ HTTP request ê°ì²´ì— ìˆëŠ” íŒŒë¼ë¯¸í„°ì´ë¦„ê³¼ ê°’ì„ Map ê°ì²´ì— ë‹´ì•„ Controllerì—ì„œ ì‚¬ìš©ë„ë¡ ì œê³µí•œë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=handlermethodargumentresolver>HandlerMethodArgumentResolver</h3><p>Sping MVCì˜ <code>@Controller</code>ì˜ ë©”ì†Œë“œì˜ argumentë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìœ í˜•(ì´ì— ê´€í•œ ì •ë³´ëŠ” ì´ê³³ì„ ì°¸ì¡°í•˜ë¼.)ì€ ê¸°ì¡´ì˜ ê³„ì¸µí˜• Controllerë³´ë‹¤ ë‹¤ì–‘í•´ ì¡Œì§€ë§Œ,
í•„ìš”ì— ë”°ë¼ ê¸°ë³¸ ìœ í˜•ì™¸ì˜ custom argumentë¥¼ ì‚¬ìš©í•´ì•¼ í• ë•Œê°€ ìˆì„ ê²ƒì´ë‹¤.
Sping MVCëŠ” Controllerì˜ argument ìœ í˜•ì„ customizing í•  ìˆ˜ ìˆëŠ” HandlerMethodArgumentResolverë¼ëŠ” interfaceë¥¼ ì œê³µí•œë‹¤.
ê¸°ì¡´ Spring web 3.1ì´ì „ ë²„ì „ì—ì„œëŠ” WebArgumentResolverë¥¼ êµ¬í˜„í•˜ì—¬ AnnotationMethodHandlerAdapterì— ë“±ë¡í•˜ì—¬ ArgumentResolverë¥¼ ì ìš©í•˜ì˜€ìœ¼ë‚˜,
3.1ì´í›„ë¶€í„°ëŠ” HandlerMethodArgumentResolverë¥¼ êµ¬í˜„í•˜ì—¬ RequestMappingHandlerAdapterì— ë“±ë¡í•˜ì—¬ ArgumentResolverë¥¼ ì ìš©í•´ì•¼ í•œë‹¤.</p><p>ì•„ë˜ì™€ ê°™ì´ Controllerì˜ ë©”ì†Œë“œì—ì„œ MySpecialArgë¼ëŠ” custom argumentë¥¼ argumentë¡œ ì‚¬ìš©í•˜ë ¤ í•œë‹¤ë©´,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>hello</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MySpecialArg</span> <span style=color:#000>mySpecialArg</span><span style=color:#ce5c00;font-weight:700>,...)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;...&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ì¸í„°í˜ì´ìŠ¤ HandlerMethodArgumentResolverë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤. êµ¬í˜„í•´ì•¼ í•  ë©”ì†Œë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>supportsParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MethodParameter</span> <span style=color:#000>parameter</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#000>Object</span> <span style=color:#000>resolveArgument</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MethodParameter</span> <span style=color:#000>parameter</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#000>ModelAndViewContainer</span> <span style=color:#000>mavContainer</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>NativeWebRequest</span> <span style=color:#000>webRequest</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#000>WebDataBinderFactory</span> <span style=color:#000>binderFactory</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>MySpecialArgumentResolver</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>HandlerMethodArgumentResolver</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>supportsParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MethodParameter</span> <span style=color:#000>parameter</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MySpecialArg</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isAssignableFrom</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>parameter</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameterType</span><span style=color:#ce5c00;font-weight:700>()))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Object</span> <span style=color:#000>resolveArgument</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MethodParameter</span> <span style=color:#000>parameter</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>ModelAndViewContainer</span> <span style=color:#000>mavContainer</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>NativeWebRequest</span> <span style=color:#000>webRequest</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>WebDataBinderFactory</span> <span style=color:#000>binderFactory</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>MySpecialArg</span><span style=color:#ce5c00;font-weight:700>();</span>		
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë§Œë“¤ì–´ì§„ ArgumentResolverí´ë˜ìŠ¤ëŠ” RequestMappingHandlerAdapterì˜ customArgumentResolvers í”„ë¡œí¼í‹°ì— ë“±ë¡í•˜ë„ë¡ í•œë‹¤. listìœ í˜• í”„ë¡œí¼í‹°ì´ë¯€ë¡œ ì—¬ëŸ¬ê°œì˜ ArgumentResolverí´ë˜ìŠ¤ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;customArgumentResolvers&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;... MySpecialArgumentResolver&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div><h3 id=annotationcommandmapargumentresolver-1>AnnotationCommandMapArgumentResolver</h3><p>HTTP request ê°ì²´ì— ìˆëŠ” íŒŒë¼ë¯¸í„°ì´ë¦„ê³¼ ê°’ì„ íŠ¹ì • í¼ ë¹ˆì— ë‹´ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ ì¼ë°˜ì ì´ì§€ë§Œ, Map ê°ì²´ì— ë‹´ì•„ì„œ ì‚¬ìš©í•˜ëŠ”ê±¸ ì„ í˜¸í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.
Controllerì—ì„œ Mapê°ì²´ë¥¼ ì“°ê¸° ìœ„í•´ ì „ìì •ë¶€ í”„ë ˆì„ì›Œí¬ 3.0ë¶€í„°ëŠ” @CommandMapê³¼ AnnotationCommandMapArgumentResolverë¥¼ ì“°ë„ë¡ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>helloPost</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@CommandMap</span> <span style=color:#000>Map</span> <span style=color:#000>commandMap</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ModelMap</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>Map commandMapì— íŒŒë¼ë¯¸í„°ì˜ ì´ë¦„ê³¼ ê°’ì´ ë“¤ì–´ ìˆê²Œ í•˜ë ¤ë©´ ìœ„ì—ì„œ ì–¸ê¸‰í•œ AnnotationCommandMapArgumentResolverë¥¼ ì´ìš©í•´ì•¼ í•œë‹¤.
HandlerMethodArgumentResolverì˜ êµ¬í˜„ í´ë˜ìŠ¤ì¸ AnnotationCommandMapArgumentResolverëŠ”
Controller ë©”ì†Œë“œì˜ argumentì¤‘ì— @CommandMapì´ ë¶™ì€ Map ê°ì²´ê°€ ìˆë‹¤ë©´, HTTP request ê°ì²´ì— ìˆëŠ” íŒŒë¼ë¯¸í„°ì´ë¦„ê³¼ ê°’ì„ Mapê°ì²´ì— ë‹´ëŠ”ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>egovframework.rte.ptl.mvc.bind</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>AnnotationCommandMapArgumentResolver</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>HandlerMethodArgumentResolver</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>supportsParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MethodParameter</span> <span style=color:#000>parameter</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isAssignableFrom</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>parameter</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameterType</span><span style=color:#ce5c00;font-weight:700>())</span> 
</span></span><span style=display:flex><span>				<span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>parameter</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasParameterAnnotation</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>CommandMap</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Object</span> <span style=color:#000>resolveArgument</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MethodParameter</span> <span style=color:#000>parameter</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>ModelAndViewContainer</span> <span style=color:#000>mavContainer</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>NativeWebRequest</span> <span style=color:#000>webRequest</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>WebDataBinderFactory</span> <span style=color:#000>binderFactory</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>commandMap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HashMap</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>&gt;();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>webRequest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getNativeRequest</span><span style=color:#ce5c00;font-weight:700>();</span>			
</span></span><span style=display:flex><span>		<span style=color:#000>Enumeration</span><span style=color:#ce5c00;font-weight:700>&lt;?&gt;</span> <span style=color:#000>enumeration</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameterNames</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>while</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>enumeration</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasMoreElements</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>String</span> <span style=color:#000>key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>enumeration</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>nextElement</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>values</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameterValues</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>values</span><span style=color:#ce5c00;font-weight:700>!=</span><span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>				<span style=color:#000>commandMap</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>values</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>length</span> <span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#000>values</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000>values</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>commandMap</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>AnnotationCommandMapArgumentResolverë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ EgovRequestMappingHandlerAdapterì— ë“±ë¡í•´ì•¼ í•œë‹¤. ë³´í†µì˜ ê²½ìš°ëŠ” RequestMappingHandlerAdapterë¥¼ ë“±ë¡í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ë˜ì§€ë§Œ, Controllerì— Mapê°ì²´ë¥¼ ì“°ê¸° ìœ„í•´ AnnotationCommandMapArgumentResolverë¥¼ ë“±ë¡í•˜ë ¤ë©´ egov3.0ë¶€í„° ì œê³µí•˜ëŠ” EgovRequestMappingHandlerAdapterë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
ë§Œì•½ RequestMappingHAndlerAdapterë¥¼ ì´ìš©í•˜ê±°ë‚˜ <code>&lt;mvc:annotation-driven></code>ì„ ì‚¬ìš©í•  ê²½ìš°ì—ëŠ” AnnotationCommandMapArgumentResolverë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.rte.ptl.mvc.bind.annotation.EgovRequestMappingHandlerAdapter&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;customArgumentResolvers&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.rte.ptl.mvc.bind.AnnotationCommandMapArgumentResolver&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ Formì— ë°ì´í„°ë¥¼ ì•„ë˜ì™€ ê°™ì´ ë“±ë¡í•˜ê³  í¼ì„ ì œì¶œí–ˆì„ë•Œ,</p><p><img src=../images/web-servlet-AnnotationCommandMapArgumentResolver.png alt=web-servlet-AnnotationCommandMapArgumentResolver></p><p><code>@CommandMap</code> Map ê°ì²´ì˜ ë°ì´í„°ëŠ” key, value í˜•íƒœë¡œ ì•„ë˜ì™€ ê°™ì´ ë“¤ì–´ ìˆë‹¤. ê°™ì€ íŒŒë¼ë¯¸í„° ì´ë¦„ìœ¼ë¡œ ì—¬ëŸ¬ê°’ì´ ë“¤ì–´ ìˆëŠ” ê°’ì€ ë°°ì—´ë¡œ ë“¤ì–´ ìˆë‹¤.</p><pre tabindex=0><code>key:text1   value:{aaa,bbb}
key:text2   value:ccc
key:text3   value:ddd
key:cb   value:{on,on}
key:rb2   value:on
key:rb1   value:on
</code></pre><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/new-in-3.1.html#new-in-3.1-handler-method-controller-processing>new handler method controller processing</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-8b462a89cad5cb2cce2bcc7099517989>12 - ìŠ¤í”„ë§ WebFluxì™€ ê¸°ì¡´ ìŠ¤í”„ë§ ì›¹ í”„ë ˆì„ì›Œí¬ ë¹„êµ</h1><div class=lead>ìŠ¤í”„ë§ WebFluxëŠ” 5.0 ë²„ì „ë¶€í„° ì¶”ê°€ëœ ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íƒ ì›¹ í”„ë ˆì„ì›Œí¬ë¡œ, ì„œë¸”ë¦¿ APIì™€ëŠ” ë‹¬ë¦¬ ì™„ì „í•œ ë…¼ë¸”ë¡œí‚¹ ë™ì‘ê³¼ Reactive Streams back pressureë¥¼ ì§€ì›í•œë‹¤. ê¸°ì¡´ì˜ ìŠ¤í”„ë§ ì›¹ MVCì™€ í•¨ê»˜ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, Netty, Undertow ë“± ë‹¤ì–‘í•œ ì„œë²„ì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤.</div><h1 id=web-reactive>Web Reactive</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬, ìŠ¤í”„ë§ ì›¹ MVCë¥¼ í¬í•¨í•œ ê¸°ì¡´ ì›¹ í”„ë ˆì„ì›Œí¬ëŠ” ì„œë¸”ë¦¿ APIì™€ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆë¥¼ ìœ„í•´ ê°œë°œë˜ì—ˆë‹¤. ìŠ¤í”„ë§ WebFluxëŠ” 5.0 ë²„ì „ë¶€í„° ì¶”ê°€ëœ ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íƒ ì›¹ í”„ë ˆì„ì›Œí¬ë¡œì„œ, ì„œë¸”ë¦¿ APIì™€ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆë¥¼ ê°œë°œí•˜ê¸° ìœ„í•œ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì´ë‹¤.
ìŠ¤í”„ë§ ì›¹ MVCë¥¼ í¬í•¨í•œ ê¸°ì¡´ì˜ ì›¹ í”„ë ˆì„ì›Œí¬ì™€ ë‹¬ë¦¬ ì™„ì „í•œ ë…¼ë¸”ë¡œí‚¹ìœ¼ë¡œ ë™ì‘í•˜ë©° Reactive Streams back pressureë¥¼ ì§€ì›í•˜ê³  Netty, Undertow, ì„œë¸”ë¦¿ 3.1+ ì»¨í…Œì´ë„ˆ ì„œë²„ì—ì„œ ì‹¤í–‰ëœë‹¤. ì›¹ í”„ë ˆì„ì›Œí¬ ëª¨ë‘ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, ì›í•˜ëŠ” ëª¨ë“ˆì„ ì„ íƒí•˜ì—¬ ê°œë°œí•  ìˆ˜ ìˆë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=overview>Overview</h3><p>ìŠ¤í”„ë§ WebFluxê°€ íƒ„ìƒí•œ ì´ìœ  ì¤‘ í•˜ë‚˜ëŠ” ì ì€ ì“°ë ˆë“œë¡œ ë™ì‹œ ì²˜ë¦¬ë¥¼ ì œì–´í•˜ê³  ì ì€ í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ë¡œ í™•ì¥í•˜ê¸° ìœ„í•´ ë…¼ë¸”ë¡œí‚¹ ì›¹ ìŠ¤íƒì´ í•„ìš”í–ˆê¸° ë•Œë¬¸ì´ë‹¤. ì´ì „ì—ë„ ì„œë¸”ë¦¿ 3.1ì€ ë…¼ë¸”ë¡œí‚¹ I/Oë¥¼ ìœ„í•œ APIë¥¼ ì œê³µí–ˆì§€ë§Œ ì„œë¸”ë¦¿ìœ¼ë¡œ ë…¼ë¸”ë¡œí‚¹ì„ êµ¬í˜„í•˜ë ¤ë©´ ë‹¤ë¥¸ ë™ê¸° ì²˜ë¦¬ë‚˜(Filter, Servlet) ë¸”ë¡œí‚¹ ë°©ì‹(getParameter, getPart)ì„ ì“°ëŠ” APIë¥¼ ì‚¬ìš©í•˜ê¸° ì–´ë ¤ìš°ë¯€ë¡œ ì–´ë–¤ ë…¼ë¸”ë¡œí‚¹ê³¼ë„ ì˜ ë™ì‘í•˜ëŠ” ìƒˆë¡œìš´ ê³µí†µ APIë¥¼ ë§Œë“¤ê²Œ ëë‹¤. ë˜í•œ ì´ë¯¸ ë¹„ë™ê¸° ë…¼ë¸”ë¡œí‚¹ í™˜ê²½ì—ì„œ ìë¦¬ë¥¼ ì¡ì€ ì„œë²„(e.g. Netty) ë•Œë¬¸ì—ë¼ë„ ìƒˆ APIê°€ í•„ìš”í–ˆë‹¤.</p><p>ë˜ ë‹¤ë¥¸ ì´ìœ ëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ìë°” 8ì—ì„œ ì¶”ê°€ëœ ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œ ìë°”ì—ì„œë„ í•¨ìˆ˜í˜• APIë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë˜ì–´ continuation-style APIë¡œ ë¹„ë™ê¸° ë¡œì§ì„ ì„ ì–¸ì ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</p><h3 id=ë¦¬ì•¡í‹°ë¸Œreactive-ì •ì˜>ë¦¬ì•¡í‹°ë¸Œ(Reactive) ì •ì˜</h3><p>ë¦¬ì•¡í‹°ë¸Œë¼ëŠ” ìš©ì–´ëŠ” ë³€í™”ì— ë°˜ì‘í•˜ëŠ” ê²ƒì„ ì¤‘ì‹¬ì— ë‘ê³  ë§Œë“  í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ì˜ë¯¸í•œë‹¤. ë…¼ë¸”ë¡œí‚¹ì€ ì‘ì—…ì„ ê¸°ë‹¤ë¦¬ê¸°ë³´ë‹¨ ì™„ë£Œë˜ê±°ë‚˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ë©´ ë°˜ì‘í•˜ë¯€ë¡œ ë…¼ë¸”ë¡œí‚¹ë„ ë¦¬ì•¡í‹°ë¸Œì´ë‹¤. ìŠ¤í”„ë§ì€ ë¦¬ì•¡í‹°ë¸Œì™€ ê´€ë ¨í•œ ì¤‘ìš”í•œ ë©”ì»¤ë‹ˆì¦˜ì´ í•˜ë‚˜ ë” ìˆëŠ”ë°, ë…¼ë¸”ë¡œí‚¹ back pressureì´ë‹¤. ë™ê¸°ì‹ ëª…ë ¹í˜• ì½”ë“œì—ì„œ ë¸”ë¡œí‚¹ í˜¸ì¶œì€ í˜¸ì¶œìê°€ ëŒ€ê¸°í•˜ë„ë¡ í•˜ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ í˜•íƒœì˜ back pressure ì—­í• ì„ í•œë‹¤. ë…¼ë¸”ë¡œí‚¹ ì½”ë“œì—ì„œëŠ” í”„ë¡œë“€ì„œ ì†ë„ê°€ ì»¨ìŠˆë¨¸ ì†ë„ë¡¤ ì••ë„í•˜ì§€ ì•Šë„ë¡ ì´ë²¤íŠ¸ ì†ë„ë¥¼ ì œì–´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.</p><p>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì€ ë¹„ë™ê¸° êµ¬ì„± ìš”ì†Œ ê°„ì˜ ìƒí˜¸ ì‘ìš©ì„ ì •ì˜í•˜ëŠ” ê°„ë‹¨í•œ ì‚¬ì–‘(Java 9ì—ì„œë„ ì±„íƒë¨)ìœ¼ë¡œ, back pressureê°€ ìˆëŠ” ë¹„ë™ê¸° êµ¬ì„± ìš”ì†Œ ê°„ì˜ ìƒí˜¸ ì‘ìš©ì„ ì •ì˜í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë°ì´í„° ì €ì¥ì†Œ(Publisher ì—­í• )ê°€ ë°ì´í„°ë¥¼ ìƒì„±í•˜ë©´ HTTP ì„œë²„(Subscriber ì—­í• )ê°€ ì´ ë°ì´í„°ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì˜ ì£¼ìš” ëª©ì ì€ Subscriberê°€ Publisherì˜ ë°ì´í„° ìƒì„± ì†ë„ë¥¼ ì œì–´í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.</p><pre tabindex=0><code>ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ : Publisher ì†ë„ë¥¼ ëŠ¦ì¶œ ìˆ˜ ì—†ìœ¼ë©´ ì–´ë–»ê²Œ í• ê¹Œ?
ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì˜ ëª©ì ì€ ë©”ì»¤ë‹ˆì¦˜ê³¼ ê²½ê³„ë¥¼ í™•ë¦½í•˜ëŠ” ê²ƒì´ë‹¤. Publisherê°€ ì†ë„ë¥¼ ëŠ¦ì¶œ ìˆ˜ ì—†ë‹¤ë©´ ë°ì´í„°ë¥¼ ë²„í¼ì— ë‹´ì„ì§€(Buffer), ë°ì´í„°ë¥¼ ì‚­ì œí• ì§€(Drop), ì‹¤íŒ¨(Fail)ë¡œ ì²˜ë¦¬í• ì§€ë¥¼ ê²°ì •í•´ì•¼ í•œë‹¤.
</code></pre><h3 id=ë¦¬ì•¡í‹°ë¸Œ-api>ë¦¬ì•¡í‹°ë¸Œ API</h3><p>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì€ ìƒí˜¸ ìš´ìš©ì„±ì„ ìœ„í•´ ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤. í•˜ì§€ë§Œ ì´ê±´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì¸í”„ë¼ êµ¬ì¡°ì— ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì—ëŠ” ìœ ìš©í•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ APIì—ì„œ ë‹¤ë£¨ê¸°ì—” ë„ˆë¬´ ì €ìˆ˜ì¤€ì´ë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì»¬ë ‰ì…˜ ë¿ë§Œ ì•„ë‹ˆë¼ ë¹„ë™ê¸° ë¡œì§ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ ë” ë†’ì€ ìˆ˜ì¤€ì˜ ë” í’ë¶€í•˜ê³  ê¸°ëŠ¥ì ì¸ APIê°€ í•„ìš”í•˜ë‹¤. ì´ëŠ” Java 8 Stream APIì™€ ìœ ì‚¬í•˜ë©° ì´ê²ƒì´ ë°”ë¡œ ë¦¬ì•¡í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•˜ëŠ” ì—­í• ì´ë‹¤.</p><p>ReactorëŠ” ìŠ¤í”„ë§ WebFluxê°€ë¥¼ ìœ„í•´ ì„ íƒëœ ë¦¬ì•¡í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” 0â€¦1(Mono) ë° 0â€¦N(Flux)ì˜ ë°ì´í„° ì‹œí€€ìŠ¤ì—ì„œ ì‘ì—…í•  ìˆ˜ ìˆëŠ” Mono ë° Flux API ìœ í˜•ì„ ì œê³µí•˜ë©°, ReactiveXì˜ ì—°ì‚°ì ì–´íœ˜ì™€ ì¼ì¹˜í•˜ëŠ” í’ë¶€í•œ ì—°ì‚°ì ì§‘í•©ì„ í†µí•´ ì‘ë™í•œë‹¤. ReactorëŠ” ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë¯€ë¡œ ëª¨ë“  ì—°ì‚°ìëŠ” ë…¼ë¸”ë¡œí‚¹ back pressureë¥¼ ì§€ì›í•œë‹¤. ReactorëŠ” ì„œë²„ ì¸¡ Javaì— ì¤‘ì ì„ ë‘ê³  ìŠ¤í”„ë§ê³¼ ê¸´ë°€íˆ í˜‘ë ¥í•˜ì—¬ ê°œë°œë˜ì—ˆë‹¤.</p><p>WebFluxëŠ” í•µì‹¬ ì¢…ì†ì„±ìœ¼ë¡œ Reactorë¥¼ í•„ìš”ë¡œ í•˜ì§€ë§Œ, ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ë¥¼ í†µí•´ ë‹¤ë¥¸ ë¦¬ì•¡í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ìƒí˜¸ ìš´ìš©í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ WebFlux APIëŠ” ì¼ë°˜ Publisherë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ ë‚´ë¶€ì ìœ¼ë¡œ Reactor ìœ í˜•ì— ë§ê²Œ ì¡°ì •í•˜ê³  ì´ë¥¼ ì‚¬ìš©í•œ í›„ Flux ë˜ëŠ” Monoë¥¼ ì¶œë ¥ìœ¼ë¡œ ë°˜í™˜í•œë‹¤. ë”°ë¼ì„œ ëª¨ë“  Publisherë¥¼ ì…ë ¥ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆê³  ì¶œë ¥ì— ì—°ì‚°ì„ ì ìš©í•  ìˆ˜ ìˆì§€ë§Œ ë‹¤ë¥¸ ë¦¬ì•¡í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë ¤ë©´ ì¶œë ¥ì„ ì¡°ì •í•´ì•¼ í•œë‹¤. ê°€ëŠ¥í•œ ê²½ìš°(ì˜ˆ: ì£¼ì„ì´ ë‹¬ë¦° ì»¨íŠ¸ë¡¤ëŸ¬) WebFluxëŠ” RxJavaë‚˜ ë‹¤ë¥¸ ë¦¬ì•¡í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë§ê²Œ ë°”ê¿”ì¤€ë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë¦¬ì•¡í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¸ì¡°í•˜ë¼.</p><h3 id=programming-models>Programming Models</h3><p>ìŠ¤í”„ë§ ì›¹ ëª¨ë“ˆì— ìˆëŠ” WebFluxëŠ” ì—¬ëŸ¬ ì„œë²„ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•œ HTTP ì¶”ìƒí™”ì™€ ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ ì–´ëŒ‘í„°, ì½”ë±, Servlet APTì— ìƒì‘í•˜ëŠ” í•µì‹¬ ì›¹ í•¸ë“¤ëŸ¬ API ë“± ìŠ¤í”„ë§ WebFluxì˜ ê¸°ë°˜ì´ ë˜ëŠ” ë¦¬ì•¡íŠ¸ë¸Œ ê¸°ë°˜ì´ í¬í•¨ë˜ì–´ ìˆë‹¤. ì´ëŸ¬í•œ ê¸°ë¶„ ìœ„ì—ì„œ ìŠ¤í”„ë§ WebFluxëŠ” ë‘ ê°€ì§€ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤.</p><ul><li>Annotated Controllers : ìŠ¤í”„ë§ MVCì™€ ì¼ì¹˜í•˜ë©° ìŠ¤í”„ë§ ì›¹ ëª¨ë“ˆì˜ ë™ì¼í•œ ì£¼ì„ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤. ìŠ¤í”„ë§ MVCì™€ WebFlux ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ëª¨ë‘ ë¦¬ì•¡í‹°ë¸Œ(Reactor ë° RxJava) ë°˜í™˜ ìœ í˜•ì„ ì§€ì›í•˜ë¯€ë¡œ êµ¬ë¶„í•˜ê¸°ê°€ ì‰½ì§€ ì•Šë‹¤. í•œ ê°€ì§€ ì£¼ëª©í•  ë§Œí•œ ì°¨ì´ì ì€ WebFluxê°€ ë¦¬ì•¡í‹°ë¸Œ @RequestBody ì¸ìˆ˜ë„ ì§€ì›í•œë‹¤ëŠ” ê²ƒì´ë‹¤.</li><li>Functional Endpoints : ê²½ëŸ‰í™”ëœ ëŒë‹¤ ê¸°ë°˜ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ëª¨ë¸ë¡œ ìš”ì²­ì„ ë¼ìš°íŒ…í•´ì£¼ëŠ” ì‘ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ ìœ í‹¸ë¦¬í‹° ëª¨ìŒì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. Annotated Controllsersì™€ ë‹¤ë¥¸ ì ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì²˜ìŒë¶€í„° ëê¹Œì§€ ìš”ì²­ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ê³  ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ì˜ë„ë¥¼ ì„ ì–¸í•œ í›„ ë‹¤ì‹œ í˜¸ì¶œëœë‹¤ëŠ” ì ì´ë‹¤.</li></ul><h3 id=applicability>Applicability</h3><p>ìŠ¤í”„ë§ MVCì™€ WebFlux ì¤‘ ì–´ë–¤ ê²ƒì„ ì ìš©í•  ê²ƒì´ëƒëŠ” ì´ë¶„ë²•ì  ì‚¬ê³ ëŠ” ì¢‹ì§€ ì•Šë‹¤. ì‚¬ì‹¤, ë‘ ê°€ì§€ ëª¨ë‘ í•¨ê»˜ ì‘ë™í•˜ì—¬ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜µì…˜ì˜ ë²”ìœ„ë¥¼ í™•ì¥í•œë‹¤. ì´ ë‘˜ì€ ì„œë¡œì˜ ì—°ì†ì„±ê³¼ ì¼ê´€ì„±ì„ ìœ„í•´ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, ë‚˜ë€íˆ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ê° ì¸¡ë©´ì˜ í”¼ë“œë°±ì€ ì–‘ìª½ ëª¨ë‘ì—ê²Œ ë„ì›€ì´ ëœë‹¤. ë‹¤ìŒ ë‹¤ì´ì–´ê·¸ë¨ì€ ì´ ë‘ ê°€ì§€ì˜ ê´€ê³„, ê³µí†µì , ê·¸ë¦¬ê³  ê°ê° ê³ ìœ í•˜ê²Œ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ë³´ì—¬ì¤€ë‹¤.</p><p>ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì²´ì ì¸ ì‚¬í•­ì„ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p><p><img src=../images/spring-mvc-and-webflux-venn.png alt=image></p><ul><li>ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ìŠ¤í”„ë§ MVC ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆë‹¤ë©´ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤. ëª…ë ¹í˜• í”„ë¡œê·¸ë˜ë°ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , ì´í•´í•˜ê³ , ë””ë²„ê¹…í•˜ëŠ” ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì´ë‹¤. ì—­ì‚¬ì ìœ¼ë¡œ ëŒ€ë¶€ë¶„ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì°¨ë‹¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒì˜ í­ì´ ë„“ìŠµë‹ˆë‹¤.</li><li>ì´ë¯¸ ë…¼ë¸”ë¡œí‚¹ ì›¹ ìŠ¤íƒì„ ì°¾ê³  ìˆë‹¤ë©´, ìŠ¤í”„ë§ WebFluxëŠ” ì´ ë¶„ì•¼ì˜ ë‹¤ë¥¸ ì œí’ˆê³¼ ë™ì¼í•œ ì‹¤í–‰ ëª¨ë¸ ì´ì ì„ ì œê³µí•˜ë©° ì„œë²„(Netty, Tomcat, Jetty, Undertow ë° Servlet 3.1+ ì»¨í…Œì´ë„ˆ), í”„ë¡œê·¸ë˜ë° ëª¨ë¸(Annotated Controllers and Functional Endpoints), ë°˜ì‘í˜• ë¼ì´ë¸ŒëŸ¬ë¦¬(Reactor, RxJava ë˜ëŠ” ê¸°íƒ€) ì„ íƒë„ ì œê³µí•œë‹¤.</li><li>Java 8 ëŒë‹¤ ë˜ëŠ” Kotlinê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê°€ë³ê³  ê¸°ëŠ¥ì ì¸ ì›¹ í”„ë ˆì„ì›Œí¬ì— ê´€ì‹¬ì´ ìˆë‹¤ë©´ ìŠ¤í”„ë§ WebFlux í•¨ìˆ˜í˜• ì›¹ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë¡œì§ì„ íˆ¬ëª…í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ëœ ë³µì¡í•œ ìš”êµ¬ ì‚¬í•­ì„ ê°€ì§„ ì†Œê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì—ë„ ì¢‹ì€ ì„ íƒì´ ë  ìˆ˜ ìˆë‹¤.</li><li>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì—ì„œëŠ” ìŠ¤í”„ë§ MVC ë˜ëŠ” ìŠ¤í”„ë§ WebFlux ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ìŠ¤í”„ë§ WebFlux Functional Endpointsë¥¼ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í˜¼í•©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë‘ í”„ë ˆì„ì›Œí¬ ëª¨ë‘ì—ì„œ ë™ì¼í•œ ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ì§€ì›í•˜ë¯€ë¡œ ì§€ì‹ì„ ì¬ì‚¬ìš©í•˜ëŠ” ë™ì‹œì— ì‘ì—…ì— ì í•©í•œ ë„êµ¬ë¥¼ ì„ íƒí•˜ê¸° ì‰½ë‹¤.</li><li>ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í‰ê°€í•˜ëŠ” ê°„ë‹¨í•œ ë°©ë²•ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¢…ì†ì„±ì„ í™•ì¸í•˜ëŠ” ê²ƒì´ë‹¤. ë¸”ë¡œí‚¹ ì§€ì†ì„± API(JPA, JDBC) ë˜ëŠ” ë„¤íŠ¸ì›Œí‚¹ APIë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°, ì ì–´ë„ ì¼ë°˜ì ì¸ ì•„í‚¤í…ì²˜ì—ì„œëŠ” ìŠ¤í”„ë§ MVCê°€ ê°€ì¥ ì¢‹ë‹¤. ë³„ë„ì˜ ìŠ¤ë ˆë“œì—ì„œ ë¸”ë¡œí‚¹ í˜¸ì¶œì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì€ ê¸°ìˆ ì ìœ¼ë¡œ Reactorì™€ RxJava ëª¨ë‘ì—ì„œ ê°€ëŠ¥í•˜ì§€ë§Œ ë…¼ë¸”ë¡œí‚¹ ì›¹ ìŠ¤íƒì„ í™œìš©í•˜ê¸° ì–´ë µë‹¤.</li><li>ì›ê²© ì„œë¹„ìŠ¤ì— ëŒ€í•œ í˜¸ì¶œì´ ìˆëŠ” ìŠ¤í”„ë§ MVC ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆëŠ” ê²½ìš° ë¦¬ì•¡í‹°ë¸Œ WebClientë¥¼ ì‚¬ìš©í•˜ë©´ ìŠ¤í”„ë§ MVC ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œì—ì„œ ì§ì ‘ ë¦¬ì•¡í‹°ë¸Œ ìœ í˜•(Reactor, RxJava ë˜ëŠ” ê¸°íƒ€)ì„ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤. í˜¸ì¶œ ë‹¹ ì§€ì—° ì‹œê°„ì´ ê¸¸ê±°ë‚˜ í˜¸ì¶œ ê°„ì˜ ìƒí˜¸ ì˜ì¡´ì„±ì´ í´ìˆ˜ë¡ ì´ ì ì€ ë”ìš± ê·¹ì ìœ¼ë¡œ ë‚˜íƒ€ë‚œë‹¤. ìŠ¤í”„ë§ MVC ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë‹¤ë¥¸ ë¦¬ì•¡í‹°ë¸Œ ì»´í¬ë„ŒíŠ¸ë„ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.</li><li>íŒ€ ê·œëª¨ê°€ í¬ë‹¤ë©´ ë…¼ë¸”ë¡œí‚¹, í•¨ìˆ˜í˜•, ì„ ì–¸ì  í”„ë¡œê·¸ë˜ë°ì€ ëŸ¬ë‹ì»¤ë¸Œê°€ ë†’ë‹¤ëŠ” ì ë„ ê³ ë ¤í•´ì•¼ í•œë‹¤. ì „ë©´ì ì¸ ì „í™˜ì—†ì´ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ì‹¤ìš©ì ì¸ ë°©ë²•ì€ ë¦¬ì•¡í‹°ë¸Œ ì›¹í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ì‘ì€ ê²ƒë¶€í„° ì‹œì‘í•´ì„œ ë³€í™”ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ë©´ ì „í™˜ì´ ë¶ˆí•„ìš”í•  ê²½ìš°ë„ ë§ì„ ê²ƒì´ë‹¤. ì–´ë–¤ ì´ì ì„ ì°¾ì•„ì•¼ í• ì§€ ì˜ ëª¨ë¥´ê² ë‹¤ë©´ ë…¼ë¸”ë¡œí‚¹ I/Oì˜ ì‘ë™ ë°©ì‹(ì˜ˆ: ë‹¨ì¼ ìŠ¤ë ˆë“œ Node.jsì˜ ë™ì‹œ ì²˜ë¦¬)ê³¼ ê·¸ íš¨ê³¼ì— ëŒ€í•´ ì•Œì•„ë³´ëŠ” ê²ƒë¶€í„° ì‹œì‘í•´ë¼.</li></ul><h3 id=servers>Servers</h3><p>ìŠ¤í”„ë§ WebFluxëŠ” Tomcat, Jetty, Servlet 3.1+ ì»¨í…Œì´ë„ˆ ë¿ë§Œ ì•„ë‹ˆë¼ Netty ë° Undertowë„ ì§€ì›ëœë‹¤. ëª¨ë“  ì„œë²„ëŠ” ë‚®ì€ ìˆ˜ì¤€ì˜ ê³µí†µ APIì— ë§ì¶° ì¡°ì •ë˜ë¯€ë¡œ ì„œë²„ ì „ë°˜ì—ì„œ ìƒìœ„ ìˆ˜ì¤€ì˜ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ì§€ì›í•  ìˆ˜ ìˆë‹¤.</p><p>ìŠ¤í”„ë§ WebFluxì—ëŠ” ì„œë²„ ê¸°ë™ì´ë‚˜ ì¤‘ë‹¨ì„ ìœ„í•œ ë‚´ì¥ ê¸°ëŠ¥ì€ ì—†ë‹¤. í•˜ì§€ë§Œ ìŠ¤í”„ë§ ì„¤ì •ê³¼ WebFluxë¥¼ ì¡°ë¦½í•´ êµ¬ì„±í•œ ì½”ë“œë¡œ ì‰½ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.</p><p>ìŠ¤í”„ë§ Bootì—ëŠ” ì´ëŸ¬í•œ ë‹¨ê³„ë¥¼ ìë™í™”í•˜ëŠ” WebFlux ìŠ¤íƒ€í„°ê°€ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ìŠ¤íƒ€í„°ëŠ” Nettyë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, Maven ë˜ëŠ” Gradle ì¢…ì†ì„±ì„ ë³€ê²½í•˜ì—¬ Tomcat, Jetty ë˜ëŠ” Undertowë¡œ ì‰½ê²Œ ì „í™˜í•  ìˆ˜ ìˆë‹¤. ìŠ¤í”„ë§ Bootê°€ Nettyë¥¼ ë””í´íŠ¸ë¡œ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë³´í†µ ë¹„ë™ê¸° ë…¼ë¸”ë¡œí‚¹ì— ë§ì´ ì‚¬ìš©ë˜ê¸°ë„ í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ë¦¬ì†ŒìŠ¤ë¥¼ ê³µìœ í•  ìˆ˜ ìˆì–´ì„œë‹¤.</p><p>Tomcatê³¼ JettyëŠ” ìŠ¤í”„ë§ MVCì™€ WebFluxì— ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë™ì‘ë°©ì‹ì€ ë‹¤ë¥´ë‹¤ëŠ” ì ì— ì£¼ì˜í•´ì•¼ í•œë‹¤. ìŠ¤í”„ë§ MVCëŠ” Servlet ì°¨ë‹¨ I/Oì— ì˜ì¡´í•˜ë©°, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í•„ìš”í•œ ê²½ìš° Servlet APIë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìŠ¤í”„ë§ WebFluxëŠ” Servlet 3.1 ë…¼ë¸”ë¡œí‚¹ I/Oë¡¤ ë™ì‘í•˜ë©° ì„œë¸”ë¦¿ APIëŠ” ì €ìˆ˜ì¤€ ì–´ëŒ‘í„°ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë…¸ì¶œë˜ì–´ ìˆì§€ ì•Šë‹¤.</p><p>ìŠ¤í”„ë§ WebFluxì—ì„œ Undertowë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ì„œë¸”ë¦¿ APIê°€ ì•„ë‹Œ Undertow APIë¥¼ ì‚¬ìš©í•œë‹¤.</p><h3 id=performance>Performance</h3><p>ì„±ëŠ¥ì—ëŠ” ë§ì€ íŠ¹ì§•ê³¼ ì˜ë¯¸ê°€ ìˆë‹¤. ë¦¬ì•¡í‹°ë¸Œ ë° ë…¼ë¸”ë¡œí‚¹ì€ ì¼ë°˜ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë” ë¹ ë¥´ê²Œ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¼ë¶€ ê²½ìš°(ì˜ˆ: ì›¹í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›ê²© í˜¸ì¶œì„ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ëŠ” ê²½ìš°)ì—ëŠ” ê·¸ëŸ´ ìˆ˜ ìˆë‹¤. ì „ë°˜ì ìœ¼ë¡œ ë…¼ë¸”ë¡œí‚¹ ë°©ì‹ìœ¼ë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ë” ë§ì€ ì‘ì—…ì´ í•„ìš”í•˜ë©° í•„ìš”í•œ ì²˜ë¦¬ ì‹œê°„ì´ ì•½ê°„ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤.</p><p>ë¦¬ì•¡í‹°ë¸Œ ë° ë…¼ë¸”ë¡œí‚¹ ë°©ì‹ì˜ ì£¼ìš” ì´ì ì€ ì ì€ ìˆ˜ì˜ ê³ ì •ëœ ìŠ¤ë ˆë“œì™€ ì ì€ ë©”ëª¨ë¦¬ë¡œ í™•ì¥í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤. ë”°ë¼ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë³´ë‹¤ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë°©ì‹ìœ¼ë¡œ í™•ì¥ë˜ë¯€ë¡œ ë¶€í•˜ê°€ ê±¸ë ¸ì„ ë•Œ ë³µì›ë ¥ì´ í–¥ìƒëœë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŸ¬í•œ ì´ì ì„ ëˆ„ë¦¬ë ¤ë©´ ëŠë¦¬ê³  ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ë„¤íŠ¸ì›Œí¬ I/Oê°€ í˜¼í•©ëœ ê²½ìš° ë“± ì§€ì—° ì‹œê°„ì´ ì–´ëŠ ì •ë„ ë°œìƒí•´ì•¼ í•œë‹¤. ë°”ë¡œ ì´ ì§€ì ì—ì„œ ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íƒì˜ ê°•ì ì´ ë“œëŸ¬ë‚˜ê¸° ì‹œì‘í•˜ë©°, ê·¸ ì°¨ì´ëŠ” ê·¹ì ì¼ ìˆ˜ ìˆë‹¤.</p><h3 id=concurrency-model>Concurrency Model</h3><p>ìŠ¤í”„ë§ MVCì™€ ìŠ¤í”„ë§ WebFluxëŠ” ëª¨ë‘ Annotated Controllerë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì€ ë™ì¼í•´ë„ ë™ì‹œì„± ëª¨ë¸ê³¼ ë¸”ë¡œí‚¹/ìŠ¤ë ˆë“œ ê¸°ë³¸ ì „ëµì€ ë‹¤ë¥´ë‹¤.
ìŠ¤í”„ë§ MVC(ê·¸ë¦¬ê³  ì¼ë°˜ì ì¸ ì„œë¸”ë¦¿ ì• í”Œë¦¬ì¼€ì´ì…˜)ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì²˜ë¦¬ì¤‘ì¸ ìŠ¤ë ˆë“œê°€ ì ì‹œ ì¤‘ë‹¨ë  ìˆ˜ ìˆë‹¤(ì˜ˆë¥¼ ë“¤ì–´ ì›ê²© í˜¸ì¶œì˜ ê²½ìš°). ì´ëŸ¬í•œ ì´ìœ ë¡œ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” ìš”ì²­ ì²˜ë¦¬ ì¤‘ì— ì ì¬ì ì¸ ì°¨ë‹¨ì„ í¡ìˆ˜í•˜ê¸° ìœ„í•´ ëŒ€ê·œëª¨ ìŠ¤ë ˆë“œ í’€ì„ ì‚¬ìš©í•œë‹¤.
ìŠ¤í”„ë§ WebFlux(ë° ì¼ë°˜ì ìœ¼ë¡œ ë…¼ë¸”ë¡œí‚¹ ì„œë²„)ì—ì„œëŠ” ì‹¤í–‰ë˜ëŠ” ìŠ¤ë ˆë“œê°€ ì¤‘ë‹¨ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì „ì œê°€ ìˆë‹¤. ë”°ë¼ì„œ ë…¼ë¸”ë¡œí‚¹ ì„œë²„ëŠ” ì‘ì€ ê³ ì • í¬ê¸°ì˜ ìŠ¤ë ˆë“œ í’€(ì´ë²¤íŠ¸ ë£¨í”„ ì›Œì»¤)ì„ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.</p><pre tabindex=0><code>&#34;í™•ì¥&#34;ê³¼ &#34;ì ì€ ìˆ˜ì˜ ìŠ¤ë ˆë“œ&#34;ëŠ” ëª¨ìˆœì ìœ¼ë¡œ ë“¤ë¦´ ìˆ˜ ìˆì§€ë§Œ í˜„ì¬ ìŠ¤ë ˆë“œë¥¼ ì°¨ë‹¨í•˜ì§€ ì•Šê³  ëŒ€ì‹  ì½œë°±ì— ì˜ì¡´í•œë‹¤ëŠ” ê²ƒì€ í¡ìˆ˜í•  ì°¨ë‹¨ í˜¸ì¶œì´ ì—†ê¸° ë•Œë¬¸ì— ì¶”ê°€ ìŠ¤ë ˆë“œê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.
</code></pre><h4 id=invoking-a-blocking-api>Invoking a Blocking API</h4><p>ë¸”ë¡œí‚¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ? Reactorì™€ RxJavaëŠ” ëª¨ë‘ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ ì²˜ë¦¬ë¥¼ ê³„ì†í•  ìˆ˜ ìˆëŠ” PublishOn ì—°ì‚°ìë¥¼ ì œê³µí•œë‹¤. ì¦‰, ì‰½ê²Œ ë¹ ì ¸ë‚˜ê°ˆ ìˆ˜ ìˆëŠ” íƒˆì¶œêµ¬ê°€ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤. ê·¸ëŸ¬ë‚˜ ë¸”ë¡œí‚¹ APIëŠ” ì´ ë™ì‹œì„± ëª¨ë¸ì— ì í•©í•˜ì§€ ì•Šë‹¤ëŠ” ì ì— ìœ ì˜í•´ì•¼ í•œë‹¤.</p><h4 id=mutable-state>Mutable State</h4><p>Reactorì™€ RxJavaì—ì„œëŠ” ì—°ì‚°ìë¥¼ í†µí•´ ë¡œì§ì„ ì„ ì–¸í•œë‹¤. ëŸ°íƒ€ì„ì— ë°ì´í„°ê°€ ë³„ê°œì˜ ë‹¨ê³„ì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ë¦¬ì•¡í‹°ë¸Œ íŒŒì´í”„ë¼ì¸ì´ í˜•ì„±ëœë‹¤. ì´ íŒŒì´í”„ë¼ì¸ì˜ ì£¼ìš” ì´ì ì€ í•´ë‹¹ íŒŒì´í”„ë¼ì¸ ë‚´ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œê°€ ë™ì‹œì— í˜¸ì¶œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë³€ê²½ ê°€ëŠ¥í•œ ìƒíƒœë¥¼ ë³´í˜¸í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤.</p><h4 id=threading-model>Threading Model</h4><p>ìŠ¤í”„ë§ WebFluxë¥¼ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì–´ë–¤ ìŠ¤ë ˆë“œë¥¼ ì–¼ë§ˆë‚˜ ì‹¤í–‰í• ê¹Œ?</p><ul><li>ìµœì†Œí•œì˜ ì„¤ì •ìœ¼ë¡œ ìŠ¤í”„ë§ WebFlux ì„œë²„ë¥¼ ë„ìš°ë©´(ì˜ˆë¥¼ ë“¤ì–´ ë°ì´í„° ì ‘ê·¼ì´ë‚˜ ë‹¤ë¥¸ ì˜ì¡´ì„±ì´ ì—†ëŠ”) ì„œë²„ëŠ” í•œ ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ìš´ì˜í•˜ê³  ì†ŒëŸ‰ì˜ ìŠ¤ë ˆë“œë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤(ë³´í†µì€ CPU ì½”ë” ìˆ˜ë§Œí¼). í•˜ì§€ë§Œ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” ì„œë¸”ë¦¿ ë¸”ë¡œí‚¹ I/Oì™€ ì„œë¸”ë¦¿ 3.1 ë…¼ë¸”ë¡œí‚¹ I/Oë¥¼ ëª¨ë‘ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ë” ë§ì€ ìŠ¤ë ˆë“œ(ì˜ˆë“¤ ë“¤ì–´ Tomcatì˜ ê²½ìš° 10ê°œ)ë¥¼ ì‹¤í–‰í•  ê²ƒì´ë‹¤.</li><li>ë¦¬ì•¡í‹°ë¸Œ WebClientëŠ” ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ì‚¬ìš©í•œë‹¤. ë”°ë¼ì„œ ì ì€ ìŠ¤ë ˆë“œë¥¼ ê³ ì •í•´ ë‘ê³  ì“´ë‹¤(ì˜ˆë¥¼ ë“¤ì–´ Reactor Nettry ì»¤ë„¥í„°ë¥¼ ì“´ë‹¤ë©´ reactor-http-nio-ë¡œ ì‹œì‘í•˜ëŠ” ìŠ¤ë ˆë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.). ë‹¨ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì—ì„œ ëª¨ë‘ Reactor Nettyë¥¼ ì‚¬ìš©í•˜ë©´ ë””í´íŠ¸ë¡œ ì´ë²¤íŠ¸ ë£¨í”„ ë¦¬ì†ŒìŠ¤ë¥¼ ê³µìœ í•œë‹¤.</li><li>Reactorì™€ RXJavaëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ ë¼ëŠ” ì¶”ìƒí™”ëœ ìŠ¤ë ˆë“œ í’€ ì „ëµì„ ì œê³µí•œë‹¤. publishOn ì—°ì‚°ìê°€ ë‚˜ë¨¸ì§€ ì—°ì‚°ì„ ë‹¤ë¥¸ ìŠ¤ë ˆë“œ í’€ë¡œ ì „í™˜í•  ë•Œë„ ì´ ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì‚¬ìš©í•œë‹¤. ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” ì´ë¦„ì„ ë³´ë©´ ë™ì‹œ ì²˜ë¦¬ ì „ëµì„ ì•Œ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì œí•œëœ ìŠ¤ë ˆë“œë¡œ CPU ì—°ì‚°ì´ ë§ì€ ì²˜ë¦¬ë¥¼ í•  ë•ŒëŠ” parallel, ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¡œ I/Oê°€ ë§ì€ ì²˜ë¦¬ë¥¼ í•  ë•ŒëŠ” elasticì´ë‹¤. ì´ëŸ° ìŠ¤ë ˆë“œë¥¼ ë³¸ë‹¤ë©´ ì½”ë“œ ì–´ë”˜ê°€ì—ì„œ ê·¸ ì´ë¦„ì— í•´ë‹¹í•˜ëŠ” ìŠ¤ë ˆë“œ í’€ ìŠ¤ì¼€ì¤„ëŸ¬ ì „ëµì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ëŠ” ëœ»ì´ë‹¤.</li><li>ë°ì´í„°ì— ì ‘ê·¼í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ ë‹¤ë¥¸ ì™¸ë¶€ ì˜ì¡´ì„±ì—ì„œ ìŠ¤ë ˆë“œë¥¼ ë”°ë¡œ ì‹¤í–‰í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.</li></ul><h4 id=configuring>Configuring</h4><p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì—ì„œ ì„œë²„ë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ê±°ë‚˜ ì¤‘ë‹¨í•  ìˆ˜ ì—†ë‹¤. ì„œë²„ì˜ ìŠ¤ë ˆë”© ëª¨ë¸ì„ êµ¬ì„±í•˜ë ¤ë©´ ì„œë²„ë³„ êµ¬ì„± APIë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ìŠ¤í”„ë§ Bootë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ê° ì„œë²„ì— ëŒ€í•œ ìŠ¤í”„ë§ Boot êµ¬ì„± ì˜µì…˜ì„ í™•ì¸í•´ì•¼ í•œë‹¤. WebClientë¥¼ ì§ì ‘ êµ¬ì„±í•  ìˆ˜ë„ ìˆë‹¤. ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê²½ìš° í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ëª…ì„œë¥¼ ì°¸ê³ í•˜ë¼.</p><h2 id=ì°¸ê³ -ìë£Œ>ì°¸ê³  ìë£Œ</h2><ul><li><a href=https://docs.spring.io/spring-framework/docs/5.3.27/reference/html/web-reactive.html#spring-webflux>The Spring Framework - Web Reactive</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-1582f4d95d21529049f014dc9e60cbbf>13 - Reactive Core</h1><div class=lead>ìŠ¤í”„ë§-ì›¹ ëª¨ë“ˆì€ ì„œë²„ ìš”ì²­ ì²˜ë¦¬ë¥¼ ìœ„í•œ HttpHandlerì™€ WebHandler APIë¥¼ ì œê³µí•˜ë©°, í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œëŠ” ë…¼ë¸”ë¡œí‚¹ I/Oì™€ ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ ê¸°ë°˜ì˜ WebClientê°€ ì§€ì›ëœë‹¤. ë˜í•œ, ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ëª¨ë‘ HTTP ìš”ì²­ ë° ì‘ë‹µ ì½˜í…ì¸ ì˜ ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”ë¥¼ ìœ„í•œ ì½”ë± ê¸°ëŠ¥ì„ í¬í•¨í•˜ê³  ìˆë‹¤.</div><h1 id=reactive-core>Reactive Core</h1><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>ìŠ¤í”„ë§-ì›¹ ëª¨ë“ˆì—ëŠ” ë°˜ì‘í˜• ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ë³¸ ì§€ì›ì´ í¬í•¨ë˜ì–´ ìˆë‹¤.</p><ul><li>ì„œë²„ ìš”ì²­ ì²˜ë¦¬ì—ëŠ” ë‘ ê°€ì§€ ìˆ˜ì¤€ì„ ì§€ì›í•œë‹¤.<ul><li>HttpHandler: ë…¼ë¸”ë¡œí‚¹ I/O ë° ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ Back Pressureì„ ì‚¬ìš©í•˜ëŠ” HTTP ìš”ì²­ì„ ì²˜ë¦¬í•˜ë©°, Reactor Netty, Undertow, Tomcat, Jetty ë° ëª¨ë“  Servlet 3.1+ ì»¨í…Œì´ë„ˆìš© ì–´ëŒ‘í„°ì™€ í•¨ê»˜ ì‚¬ìš©í•œë‹¤.</li><li>WebHandler API: ìš”ì²­ ì²˜ë¦¬ë¥¼ ìœ„í•œ ì•½ê°„ ë” ë†’ì€ ìˆ˜ì¤€ì˜ ë²”ìš© ì›¹ APIë¡œ, ì£¼ì„ì´ ë‹¬ë¦° ì»¨íŠ¸ë¡¤ëŸ¬ ë° ê¸°ëŠ¥ì  ì—”ë“œí¬ì¸íŠ¸ì™€ ê°™ì€ êµ¬ì²´ì ì¸ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ë¡œ ì‘ì„±ë˜ì–´ ìˆë‹¤.</li></ul></li><li>í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œëŠ” ë…¼ë¸”ë¡œí‚¹ I/O ë° ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ Back Pressureìœ¼ë¡œ HTTP ìš”ì²­ì„ ìˆ˜í–‰í•˜ëŠ” ê¸°ë³¸ ClientHttpConnector ê³„ì•½ê³¼ í•¨ê»˜ Reactor Netty, ë¦¬ì•¡í‹°ë¸Œ Jetty HttpClient ë° Apache HttpComponentsìš© ì–´ëŒ‘í„°ê°€ ìˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì‚¬ìš©ë˜ëŠ” ìƒìœ„ ìˆ˜ì¤€ì˜ WebClientëŠ” ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ëœë‹¤.</li><li>í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ëª¨ë‘ ì½”ë±ìœ¼ë¡œ HTTP ìš”ì²­ ë° ì‘ë‹µ ì½˜í…ì¸ ì˜ ì§ë ¬í™” ë° ì—­ì§ë ¬í™”ë¥¼ í•œë‹¤.</li></ul><h3 id=httphandler>HttpHandler</h3><p>HttpHandlerëŠ” ìš”ì²­ê³¼ ì‘ë‹µì„ ì²˜ë¦¬í•˜ëŠ” ë©”ì†Œë“œë¥¼ í•˜ë‚˜ë§Œ ê°€ì§€ê³  ìˆë‹¤. ì˜ë„ì ìœ¼ë¡œ ìµœì†Œí•œì˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, ì£¼ëœ ëª©ì ì€ ë‹¤ì–‘í•œ HTTP ì„œë²„ APIì— ëŒ€í•œ ìµœì†Œí•œì˜ ì¶”ìƒí™”ì´ë‹¤.
ì§€ì›í•˜ëŠ” ì„œë²„ì˜ APIëŠ” ì•„ë˜ í‘œì™€ ê°™ë‹¤.</p><table><thead><tr><th>ì„œë²„ ì´ë¦„</th><th>ì‚¬ìš©í•˜ëŠ” Servlet API</th><th>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ ì§€ì›</th></tr></thead><tbody><tr><td>Netty</td><td>Netty API</td><td>Reactor Netty</td></tr><tr><td>Undertow</td><td>Undertow API API</td><td>spring-web: Undertow to ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ ë¸Œë¦¿ì§€</td></tr><tr><td>Tomcat</td><td>ì„œë¸”ë¦¿ 3.1 ë…¼ë¸”ë¡œí‚¹ I/O; ByteBuffersë¡œ byte[]ë¥¼ ì½ê³  ì“°ëŠ” Tomcat API</td><td>spring-web: ì„œë¸”ë¦¿ 3.1 ë…¼ë¸”ë¡œí‚¹ I/O to ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ ë¸Œë¦¿ì§€</td></tr><tr><td>Jetty</td><td>ì„œë¸”ë¦¿ 3.1 ë…¼ë¸”ë¡œí‚¹ I/O; ByteBuffersë¡œ byte[]ë¥¼ ì½ê³  ì“°ëŠ” Jetty API</td><td>spring-web: ì„œë¸”ë¦¿ 3.1 ë…¼ë¸”ë¡œí‚¹ I/O to ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ ë¸Œë¦¿ì§€</td></tr><tr><td>ì„œë¸”ë¦¿ 3.1 ì»¨í…Œì´ë„ˆ</td><td>ì„œë¸”ë¦¿ 3.1 ë…¼ë¸”ë¡œí‚¹ I/O</td><td>spring-web: ì„œë¸”ë¦¿ 3.1 ë…¼ë¸”ë¡œí‚¹ I/O to ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ ë¸Œë¦¿ì§€</td></tr></tbody></table><p>ì„œë²„ DependencyëŠ” ì•„ë˜ í‘œì™€ ê°™ë‹¤(ì§€ì› ë²„ì „ ì°¸ê³ )</p><table><thead><tr><th>ì„œë²„ ì´ë¦„</th><th>Group ID</th><th>Artifact Name</th></tr></thead><tbody><tr><td>Reactor Netty</td><td>io.projectreactor.netty</td><td>reactor-netty</td></tr><tr><td>Undertow</td><td>io.undertow</td><td>undertow-core</td></tr><tr><td>Tomcat</td><td>org.apache.tomcat.embed</td><td>tomcat-embed-core</td></tr><tr><td>Jetty</td><td>org.eclipse.jetty</td><td>jetty-server, jetty-servlet</td></tr></tbody></table><p>ë‹¤ìŒì€ ê° ì„œë²„ì˜ API ì–´ëŒ‘í„°ë¥¼ í™œìš©í•˜ëŠ” HttpHandlerì´ë‹¤.</p><h4 id=ë¦¬ì•¡í„°-netty>ë¦¬ì•¡í„° Netty</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>HttpHandler</span> <span style=color:#000>handler</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000>ReactorHttpHandlerAdapter</span> <span style=color:#000>adapter</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ReactorHttpHandlerAdapter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>HttpServer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>host</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>host</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>port</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>port</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>handle</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>adapter</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>bind</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>block</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=undertow>Undertow</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>HttpHandler</span> <span style=color:#000>handler</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000>UndertowHttpHandlerAdapter</span> <span style=color:#000>adapter</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>UndertowHttpHandlerAdapter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>Undertow</span> <span style=color:#000>server</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Undertow</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>addHttpListener</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>port</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>host</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>setHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>adapter</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>start</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=tomcat>Tomcat</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>HttpHandler</span> <span style=color:#000>handler</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000>Servlet</span> <span style=color:#000>servlet</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>TomcatHttpHandlerAdapter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Tomcat</span> <span style=color:#000>server</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Tomcat</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>File</span> <span style=color:#000>base</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>File</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getProperty</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;java.io.tmpdir&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#000>Context</span> <span style=color:#000>rootContext</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addContext</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>base</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getAbsolutePath</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span><span style=color:#000>Tomcat</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addServlet</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>rootContext</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;main&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>servlet</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>rootContext</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addServletMappingDecoded</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;main&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setHost</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>host</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setPort</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>port</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>start</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=jetty>Jetty</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>HttpHandler</span> <span style=color:#000>handler</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000>Servlet</span> <span style=color:#000>servlet</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JettyHttpHandlerAdapter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Server</span> <span style=color:#000>server</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Server</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>ServletContextHandler</span> <span style=color:#000>contextHandler</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ServletContextHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>contextHandler</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addServlet</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ServletHolder</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>servlet</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#4e9a06>&#34;/&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>contextHandler</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>start</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>ServerConnector</span> <span style=color:#000>connector</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ServerConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>connector</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setHost</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>host</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>connector</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setPort</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>port</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>connector</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>server</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>start</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=ì„œë¸”ë¦¿-31-ì»¨í…Œì´ë„ˆ>ì„œë¸”ë¦¿ 3.1+ ì»¨í…Œì´ë„ˆ</h4><p>ì„œë¸”ë¦¿ 3.1+ ì»¨í…Œì´ë„ˆì— WARë¥¼ ë°°í¬í•˜ë ¤ë©´ WARì— AbstractReactiveWebInitializerë¥¼ í™•ì¥í•˜ì—¬ ì¶”ê°€í•˜ë©´ ëœë‹¤. ì´ í´ë˜ìŠ¤ëŠ” HttpHandler, ServletHttpHandlerAdapterë¥¼ ê°ì‹¸ê³  ìˆìœ¼ë©°, ì´ í•¸ë“¤ëŸ¬ë¥¼ ì„œë¸”ë¦¿ìœ¼ë¡œ ë“±ë¡í•œë‹¤.</p><h3 id=webhandler-api>WebHandler API</h3><p>org.springframework.web.server íŒ¨í‚¤ì§€ë¥¼ ë³´ë©´ HttpHandlerê°€ WebHandlerì™€ ì—¬ëŸ¬ WebExceptionHandler, WebFilterë¡œ ì²´ì¸ì„ í˜•ì„±í•´ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë²”ìš© ì›¹ APIë¥¼ ì œê³µí•œë‹¤.
WebHttpHandlerBuilderì— ì»´í¬ë„ŒíŠ¸ë¥¼ ë“±ë¡í•˜ê±°ë‚˜ ìŠ¤í”„ë§ ApplicationContext ìœ„ì¹˜ë§Œ ì•Œë ¤ì£¼ë©´ ìë™ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ì²´ì¸ì— ì¶”ê°€í•œë‹¤.
HttpHandlerëŠ” ì„œë¡œ ë‹¤ë¥¸ HTTP ì„œë²„ë¥¼ ì“°ê¸° ìœ„í•œ ì¶”ìƒí™”ê°€ ì „ë¶€ì¸ ë°˜ë©´, WebHandler APIëŠ” ì•„ë˜ì™€ ê°™ì´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í”íˆ ì“°ëŠ” ê´‘ë²”ìœ„í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</p><ul><li>User sessionê³¼ Session attributes</li><li>Request attributes.</li><li>Locale, Principal ë¦¬ì¡¸ë¸Œ</li><li>form ë°ì´í„° íŒŒì‹±, ìºì‹± ì¡°íšŒ</li><li>multipart ë°ì´í„° ì¶”ìƒí™”</li><li>ê¸°íƒ€ ë“±ë“±</li></ul><h4 id=form-data>Form Data</h4><p>ServerWebExchangeëŠ” form ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œë¥¼ ì œê³µí•œë‹¤.</p><pre tabindex=0><code>Mono&lt;MultiValueMap&lt;String, String&gt;&gt; getFormData();
</code></pre><p>DefaultServerWebExchangeëŠ” ì„¤ì •ì— ìˆëŠ” HttpMessageReaderë¥¼ ì‚¬ìš©í•´ form ë°ì´í„°ë¥¼ MultiValueMapìœ¼ë¡œ íŒŒì‹±í•œë‹¤. ë””í´íŠ¸ë¡œ ì‚¬ìš©í•˜ëŠ” ë¦¬ë”ëŠ” ServerCodecConfigurer ë¹ˆì— ìˆëŠ” FormHttpMessageReaderì´ë‹¤.</p><h4 id=multipart-data>Multipart Data</h4><p>ServerWebExchangeëŠ” multipart ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œë¥¼ ì œê³µí•œë‹¤.</p><pre tabindex=0><code>Mono&lt;MultiValueMap&lt;String, Part&gt;&gt; getMultipartData();
</code></pre><p>DefaultServerWebExchangeëŠ” ì„¤ì •ì— ìˆëŠ” HttpMessageReader&lt;MultiValueMap&lt;String, PartÂ»ë¥¼ ì‚¬ìš©í•´ multipart/form-data ì»¨í…ì¸ ë¥¼ MultiValueMapìœ¼ë¡œ íŒŒì‹±í•œë‹¤. í˜„ì¬ë¡œì¨ëŠ” Synchronoss NIO Multipartê°€ ìœ ì¼í•˜ê²Œ ì§€ì›í•˜ëŠ” ì„œë¸ŒíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë©°, ë…¼ë¸”ë¡œí‚¹ìœ¼ë¡œ multipart ìš”ì²­ì„ íŒŒì‹±í•˜ëŠ” ìœ ì¼í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤. ServerCodecConfigurer ë¹ˆìœ¼ë¡œ í™œì„±í™”í•  ìˆ˜ ìˆë‹¤.
ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ìœ¼ë¡œ multipart ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ë ¤ë©´ HttpMessageReader<part>ê°€ ë¦¬í„´í•˜ëŠ” Flux<part>ë¥¼ ì‚¬ìš©í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ @RequestPartë¥¼ ì„ ì–¸í•˜ë©´ Mapì²˜ëŸ¼ ì´ë¦„ìœ¼ë¡œ ê° íŒŒíŠ¸ì— ì ‘ê·¼í•˜ê² ë‹¤ëŠ” ëœ»ì´ë¯€ë¡œ multipart ë°ì´í„°ë¥¼ í•œë²ˆì— íŒŒì‹±í•´ì•¼ í•œë‹¤. ë°˜ëŒ€ë¡œ Flux<part> íƒ€ì…ì— @RequestPartë¥¼ ì‚¬ìš©í—ˆë©´ ì»¨í…ì¸ ë¥¼ ë””ì½”ë”©í•  ë•Œ MultiValueMapì— ìˆ˜ì§‘í•˜ì§€ ì•ŠëŠ”ë‹¤.</p><h4 id=forwarded-headers>Forwarded Headers</h4><p>Load Balancersì™€ ê°™ì´ í”„í†¡ì‹œë¥¼ ê²½ìœ í•œ ìš”ì²­ì€ í˜¸ìŠ¤íŠ¸, í¬íŠ¸, URL ìŠ¤í‚´ì´ ë³€ê²½ë  ìˆ˜ ìˆì–´ì„œ í´ë¼ì´ì–¸íŠ¸ ì…ì¥ì—ì„œëŠ” ì›ë˜ì˜ URL ì •ë³´ë¥¼ ì•Œì•„ë‚´ê¸° ì–´ë µë‹¤.
RFC 7239 ì •ì˜ì— ë”°ë¥´ë©´ Forwarded HTTP í—¤ë”ëŠ” í”„ë¡ì‹œê°€ ì›ë˜ ìš”ì²­ì— ëŒ€í•œ ì •ë³´ë¥¼ ì¶”ê°€í•˜ëŠ” í—¤ë”ì´ë‹¤. X-Forwarded-Host, X-Forwarded-Port, X-Forwarded-Proto, X-Forwarded-Ssl, and X-Forwarded-Prefix ê°™ì€ ë¹„í‘œì¤€ í—¤ë”ë„ ì¡´ì¬í•œë‹¤.
ForwardedHeaderTransformerëŠ” forwarded í—¤ë”ë¥¼ ë³´ê³  ìš”ì²­ì˜ í˜¸ìŠ¤íŠ¸, í¬íŠ¸, ìŠ¤í‚´ì„ ë°”ê¿”ì¤€ ë‹¤ìŒ, í—¤ë”ë¥¼ ì œê±°í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤. ForwardedHeaderTransformerë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë¹ˆì„ ì •ì˜í•˜ë©´ ìë™ìœ¼ë¡œ ì²´ì¸ì— ì¶”ê°€ëœë‹¤.
forwarded í—¤ë”ëŠ” ë³´ì•ˆì— ì‹ ê²½ì¨ì•¼ í•  ìš”ì†Œê°€ ìˆëŠ”ë° í”„ë¡ì‹œê°€ í—¤ë”ë¥¼ ì¶”ê°€í•œê±´ì§€, í´ë¼ì´ì–¸íŠ¸ê°€ ì•…ì˜ì ìœ¼ë¡œ ì¶”ê°€í•œ ê²ƒì¸ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.
ë”°ë¼ì„œ ì™¸ë¶€ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” í”„ë¡ì‹œ ìš”ì²­ì„ ì œê±°í•  ë•Œ ForwardedHeaderTransformerë¥¼ removeOnly=trueë¡œ ì„¤ì •í•˜ì—¬ í—¤ë” ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì œê±°í•  ìˆ˜ ìˆë‹¤.</p><pre tabindex=0><code>5.1 ë²„ì „ë¶€í„° ForwardedHeaderFilterëŠ” ì œê±°ëŒ€ìƒ(deprecated)ì´ ë˜ì–´ ForwardedHeaderTransformerë¥¼ ëŒ€ì‹ í•œë‹¤. ë”°ë¼ì„œ exchange(http ìš”ì²­/ì‘ë‹µê³¼ ì„¸ì…˜ ì •ë³´ ë“±ì˜ ì»¨í…Œì´ë„ˆ)ë¥¼ ë§Œë“¤ê¸° ì „ì— forwarded í—¤ë”ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. í•„í„°ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ ì´ í•„í„°ëŠ” ì „ì²´ í•„í„° ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œì™¸ë˜ë©° ê·¸ ëŒ€ì‹  ForwardedHeaderTransformerë¥¼ ì‚¬ìš©í•œë‹¤.
</code></pre><h3 id=filters>Filters</h3><p>WebHandler APIì—ì„œëŠ” WebFilterë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ í•„í„° ì²´ì¸ê³¼ WebHandler ì „í›„ì— ìš”ì²­ì„ ê°€ë¡œì±„ì„œ ì›í•˜ëŠ” ë¡œì§ì„ ë„£ì„ ìˆ˜ ìˆë‹¤. WebFilterë¥¼ ë“±ë¡í•˜ë ¤ë©´ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë§Œë“¤ì–´ ë¹ˆ ìœ„ì— @Orderë¥¼ ì„ ì–¸ì•„ê±°ë‚˜ Orderedë¥¼ êµ¬í˜„í•´ ìˆœì„œë¥¼ ì •í•´ë„ ë˜ê³ , WebFlux Configë¥¼ ì‚¬ìš©í•´ë„ ëœë‹¤.</p><h4 id=cors>CORS</h4><p>CORSëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì— ì–´ë…¸í…Œì´ì…˜ì„ ì„ ì–¸í•˜ëŠ” ê²ƒìœ¼ë¡œ ì˜ ë™ì‘í•œë‹¤. Spring Securityì™€ ì‚¬ìš©í•˜ë©´ CorsFilterë¥¼ ì‚¬ìš©í•´ì„œ Spring Security í•„í„° ì²´ì¸ë³´ë‹¤ ë¨¼ì € ì²˜ë¦¬í•˜ë„ë¡ í•´ì•¼ í•œë‹¤.</p><h3 id=exceptions>Exceptions</h3><p>WebHandler APIì—ì„œëŠ” WebFilter ì²´ì¸ê³¼ WebHandlerì—ì„œ ë°œìƒí•œ ì˜ˆì™¸ë¥¼ WebExceptionHandlerë¡œ ì²˜ë¦¬í•œë‹¤. WebExceptionHandlerë¥¼ ë“±ë¡í•˜ë ¤ë©´ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë¹ˆ ìœ„ì— @Orderë¥¼ ì„ ì–¸í•˜ê±°ë‚˜ Orderedë¥¼ êµ¬í˜„í•´ ìˆœì„œë¥¼ ì •í•´ë„ ë˜ê³ , WebFlux Configë¥¼ ì‚¬ìš©í•´ë„ ëœë‹¤.
ì•„ë˜ í‘œëŠ” ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” WebExceptionHandler êµ¬í˜„ì²´ì´ë‹¤.</p><table><thead><tr><th>Exception Handler</th><th>Description</th></tr></thead><tbody><tr><td>ResponseStatusExceptionHandler</td><td>Http status codeë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” ResponseStatusExceptionì„ ì²˜ë¦¬í•œë‹¤.</td></tr><tr><td>WebFluxResponseStatusExceptionHandler</td><td>ResponseStatusExceptionHandlerë¥¼ í™•ì¥í•˜ëŠ” ê²ƒìœ¼ë¡œ ë‹¤ë¥¸ exception íƒ€ì…ë„ @ResponseStatusë¥¼ ì„ ì–¸í•´ì„œ HTTP status codeë¥¼ ì •í•  ìˆ˜ ìˆë‹¤.</br>ì´ í•¸ë“¤ëŸ¬ëŠ” WebFlux Config ì•ˆì— ì„ ì–¸ë˜ì–´ ìˆë‹¤.</td></tr></tbody></table><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=https://docs.spring.io/spring-framework/docs/5.3.27/reference/html/web-reactive.html#webflux-reactive-spring-web>The Spring Framework - Web Reactive - Reactive Core</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-171474be9b8ab96df2310f8efa41d340>14 - ìŠ¤í”„ë§ WebFluxì˜ DispatcherHandlerì™€ ìš”ì²­ ì²˜ë¦¬ íë¦„</h1><div class=lead>ìŠ¤í”„ë§ WebFluxëŠ” í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©°, DispatcherHandlerê°€ ì¤‘ì•™ WebHandlerë¡œì„œ ìš”ì²­ì„ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ìœ„ì„í•œë‹¤. DispatcherHandlerëŠ” ìŠ¤í”„ë§ ì„¤ì •ì— ë”°ë¼ ë‹¤ì–‘í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì§€ì›í•˜ê³ , ApplicationContextAware ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</div><h1 id=dispatcherhandler>DispatcherHandler</h1><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>ìŠ¤í”„ë§ WebFluxë„ ìŠ¤í”„ë§ MVCì™€ ìœ ì‚¬í•œ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤. ì¤‘ì•™ WebHandlerê°€ ë°›ì€ ìš”ì²­ì„ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ìœ„ì„í•˜ëŠ”ë° DispatcherHandlerê°€ ë°”ë¡œ ì´ ì¤‘ì•™ WebHandlerë‹¤. ì´ ëª¨ë¸ ë•ë¶„ì— ë‹¤ì–‘í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì§€ì›í•  ìˆ˜ ìˆë‹¤.
DispatcherHandlerëŠ” ìŠ¤í”„ë§ ì„¤ì •ì— ë”°ë¼ ê·¸ì— ë§ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ìœ„ì„í•œë‹¤. DispatcherHandlerë„ ìŠ¤í”„ë§ ë¹ˆì´ë©° ApplicationContextAware ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í–ˆê¸° ë•Œë¬¸ì— ì‹¤í–‰ì¤‘ì¸ ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. DispatcherHandler ë¹ˆì„ WebHandler ì´ë¦„ìœ¼ë¡œ ì •ì˜í•˜ë©´ WebHttpHandlerBuilderê°€ ê°ì§€í•˜ê³  WebHandler APIì—ì„œ ì„¤ëª…í–ˆë˜ ì²´ì¸ì— ì¶”ê°€í•œë‹¤.</p><p>WebFlux ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¼ë°˜ì ì¸ ìŠ¤í”„ë§ ì„¤ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>webHandler ì´ë¦„ì˜ DispatcherHandler ë¹ˆ</li><li>WebFilter, WebExceptionHandler ë¹ˆ</li><li>ê·¸ ì™¸ DispatcherHandlerê°€ ì‚¬ìš©í•˜ëŠ” ë¹ˆ</li><li>ê¸°íƒ€ ë“±ë“±</li></ul><p>WebExceptionHandlerê°€ ì²´ì¸ì„ ë§Œë“¤ ë•Œ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>ApplicationContext</span> <span style=color:#000>context</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000>HttpHandler</span> <span style=color:#000>handler</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebHttpHandlerBuilder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>applicationContext</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h3 id=special-bean-types>Special Bean Types</h3><p>DispatcherHandlerëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ê·¸ì— ë§ëŠ” ì‘ë‹µì„ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ëŠ” íŠ¹ë³„í•œ ë¹ˆì´ ìˆë‹¤. <strong>íŠ¹ë³„í•œ</strong> ë¹ˆì´ë€ WebFlux í”„ë ˆì„ì›Œí¬ê°€ ë™ì‘í•˜ëŠ”ë° í•„ìš”í•˜ë©° ìŠ¤í”„ë§ì´ ê´€ë¦¬í•˜ëŠ” Object ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§í•œë‹¤. ì´ ë¹ˆë“¤ì€ ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ë¼ ìˆì§€ë§Œ í”„ë¡œí¼í‹°ë¥¼ ìˆ˜ì •í•´ì„œ í™•ì¥í•˜ê±°ë‚˜ ì»¤ìŠ¤í…€ ë¹ˆìœ¼ë¡œ ëŒ€ì²´í•  ìˆ˜ë„ ìˆë‹¤.</p><p>DispatcherHandlerëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¹ˆì„ ê°ì§€í•œë‹¤. ì €ìˆ˜ì¤€ì—ì„œ ë™ì‘í•˜ëŠ” ë‹¤ë¥¸ ë¹ˆë„ ìë™ìœ¼ë¡œ ì¶”ê°€ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì— ì£¼ì˜í•˜ë¼</p><table><thead><tr><th>Bean type</th><th>Explanation</th></tr></thead><tbody><tr><td>HandlerMapping</td><td>ìš”ì²­ì„ í•¸ë“¤ëŸ¬ì— ë§¤í•‘í•œë‹¤. ë§¤í•‘ ê¸°ì¤€ì€ HandlerMapping êµ¬í˜„ì²´ë§ˆë‹¤ ë‹¤ë¥¸ë‹¤(ì–´ë…¸í…Œì´ì…˜ì„ ì„ ì–¸í•œ ì»¨íŠ¸ë¡¤ëŸ¬, URL íŒ¨í„´ ë§¤ì¹­ ë“±)</br>ì£¼ë¡œ ì“°ëŠ” êµ¬í˜„ì²´ëŠ” @RequestMappingì„ ì„ ì–¸í•œ ë©”ì†Œë“œë¥¼ ì°¾ëŠ” RequestMappingHandlerMapping, í•¨ìˆ˜í˜• ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë¼ì´íŒ…í•˜ëŠ” RouterFunctionMapping, URL íŒ¨ìŠ¤ íŒ¨í„´ìœ¼ë¡œ WebHandlerë¥¼ ì°¾ëŠ” SimpleUrlHandlerMapping ë“±ì´ ìˆë‹¤.</td></tr><tr><td>HandlerAdapter</td><td>í•¸ë“¤ëŸ¬ê°€ ì‹¤ì œë¡œ í˜¸ì¶œë˜ëŠ” ë°©ì‹ì— ê´€ê³„ì—†ì´ ìš”ì²­ì— ë§¤í•‘ëœ í•¸ë“¤ëŸ¬ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ DispatcherHandlerë¥¼ ì§€ì›í•œë‹¤.</br>ì˜ˆë¥¼ ë“¤ì–´ ì–´ë…¸í…Œì´ì…˜ì´ ìˆëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ ì–´ë…¸í…Œì´ì…˜ì„ í•´ê²°í•´ì•¼ í•œë‹¤.</br>HandlerAdapterì˜ ì£¼ìš” ëª©ì ì€ ì´ëŸ¬í•œ ì„¸ë¶€ ì‚¬í•­ìœ¼ë¡œë¶€í„° DispatcherHandlerë¥¼ ë³´í˜¸í•˜ëŠ” ê²ƒì´ë‹¤.</td></tr><tr><td>HandlerResultHandler</td><td>í•¸ë“¤ëŸ¬ í˜¸ì¶œì˜ ê²°ê³¼ë¥¼ ì²˜ë¦¬í•˜ê³  ì‘ë‹µì„ ì¢…ë£Œí•œë‹¤. Result Handlingì„ ì°¸ê³ í•˜ë¼.</td></tr></tbody></table><h3 id=webflux-config>WebFlux Config</h3><p>ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë° í•„ìš”í•œ ì¸í”„ë¼ ë¹ˆ(ì›¹ í•¸ë“¤ëŸ¬ API ë° DispatcherHandler)ì„ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° WebFlux Configë¡œ ì‹œì‘í•˜ëŠ”ê²Œ ì¢‹ë‹¤. ì´ êµ¬ì„±ì€ í•„ìš”í•œ ë¹ˆì„ ì„ ì–¸í•˜ê³  ì´ë¥¼ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆëŠ” ìƒìœ„ ìˆ˜ì¤€ì˜ êµ¬ì„± ì½œë°± APIë¥¼ ì œê³µí•œë‹¤.</p><pre tabindex=0><code>ìŠ¤í”„ë§ ë¶€íŠ¸ë¥¼ ì‚¬ìš©í•´ë„ ì´ WebFlux Configë¡œ ì´ˆê¸°í™”í•˜ë©° ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” ì˜µì…˜ìœ¼ë¡œ ì¢€ ë” í¸ë¦¬í•˜ê²Œ ì„¤ì •ì„ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
</code></pre><h3 id=processing>Processing</h3><p>DispatcherHandlerëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.</p><ul><li>HandlerMappingì—ì„œ ë§¤ì¹­ë˜ëŠ” í•¸ë“¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤. ì²«ë²ˆì§¸ë¡œ ë§¤ì¹­ëœ í•¸ë“¤ëŸ¬ë¥¼ ì‚¬ìš©í•œë‹¤.</li><li>í•¸ë“¤ëŸ¬ë¥¼ ì°¾ìœ¼ë©´ ì ë‹¹í•œ HandlerAdapterë¥¼ ì‚¬ìš©í•´ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•˜ê³  HandlerResultë¥¼ ëŒë ¤ ë°›ëŠ”ë‹¤.</li><li>HandlerResultë¥¼ ì ì ˆí•œ HandlerResultHandlerë¡œ ë„˜ê²¨ ë°”ë¡œ ì‘ë‹µì„ ë§Œë“¤ê±°ë‚˜ ë·°ë¥¼ ëœë”ë§í•˜ê³  ì²˜ë¦¬ë¥¼ ì™„ë£Œí•œë‹¤.</li></ul><h3 id=result-handling>Result Handling</h3><p>í•¸ë“¤ëŸ¬ í˜¸ì¶œì˜ ë°˜í™˜ ê°’ì€ HandlerAdapterë¥¼ í†µí•´ ëª‡ ê°€ì§€ ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸ì™€ í•¨ê»˜ HandlerResultë¡œ ë˜í•‘ë˜ì–´ ì§€ì›ì„ ìš”ì²­í•˜ëŠ” ì²« ë²ˆì§¸ HandlerResultHandlerë¡œ ì „ë‹¬ëœë‹¤. ì•„ë˜ í‘œëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ HandlerResultHandler êµ¬í˜„ì„ ë³´ì—¬ ì£¼ë©°, ëª¨ë‘ WebFlux êµ¬ì„±ì— ì„ ì–¸ë˜ì–´ ìˆë‹¤.:</p><table><thead><tr><th>Result Handler Type</th><th>Return Values</th><th>Default Order</th></tr></thead><tbody><tr><td>ResponseEntityResultHandler</td><td>ResponseEntity, ë³´í†µì€ @Controllerì—ì„œ ì‚¬ìš©</td><td>0</td></tr><tr><td>ServerResponseResultHandler</td><td>ServerResponse, ë³´í†µì€ Functional Endpointsì—ì„œ ì‚¬ìš©</td><td>0</td></tr><tr><td>ResponseBodyResultHandler</td><td>@ResponseBody, @RestControllerì—ì„œ ë¦¬í„´í•œ ê°’ì„ ì²˜ë¦¬</td><td>100</td></tr><tr><td>ViewResolutionResultHandler</td><td>CharSequence, View, Model, Map, Renderingì´ë‚˜ ë‹¤ë¥¸ Objectë¥¼ model attributeë¡œ ì²˜ë¦¬</td><td>Integer.MAX_VALUE</td></tr></tbody></table><h3 id=exceptions>Exceptions</h3><p>HandlerAdapterê°€ ë¦¬í„´í•œ HandlerResultëŠ” í•¸ë“¤ëŸ¬ë§ˆë‹¤ ë‹¤ë¥¸ ì—ëŸ¬ ì²˜ë¦¬ í•¨ìˆ˜ì— ë„˜ê²¨ì§„ë‹¤. ì´ í•¨ìˆ˜ëŠ” ì•„ë˜ì™€ ê°™ì„ ë•Œ í˜¸ì¶œëœë‹¤.</p><ul><li>í•¸ë“¤ëŸ¬ ì‹¤í–‰ì— ì‹¤íŒ¨í•œ ê²½ìš°(ì˜ˆë¥¼ ë“¤ì–´ @Controller)</li><li>HandlerResultHandlerê°€ í•¸ë“¤ëŸ¬ê°€ ë¦¬í„´í•œ ê°’ì„ ì²˜ë¦¬í•˜ëŠ”ë° ì‹¤íŒ¨í•œ ê²½ìš°</li></ul><p>í•¸ë“¤ëŸ¬ê°€ ë¦¬í„´í•œ ë¦¬ì•¡í‹°ë¸Œ íƒ€ì…ì´ ë°ì´í„°ë¥¼ produce í•˜ê¸° ì „ì— ì—ëŸ¬ë¥¼ ì•Œì•„ì°¨ë¦´ ìˆ˜ ìˆìœ¼ë©´ ì´ í•¨ìˆ˜ë¡œ ì‘ë‹µì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.(ì˜ˆë¥¼ ë“¤ì–´ statusë¡œ)
ì´ë¡œ ì¸í•´ @Controller í´ë˜ìŠ¤ì˜ íŠ¹ì • ë©”ì†Œë“œì— @ExceptionHandlerë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤. ìŠ¤í”„ë§ MVCì—ì„  HandlerExceptionResolverê°€ ì´ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.
ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê²ƒì€ MVCê°€ ì•„ë‹ˆì§€ë§Œ WebFlux í•¸ë“¤ëŸ¬ë¥¼ ì„ íƒí•˜ê¸° ì „ ë°œìƒí•œ Exceptionì€ @ControllerAdviceë¡œ ì²˜ë¦¬í•  ìˆ˜ ì—†ë‹¤.</p><h4 id=view-resolution>View Resolution</h4><p>ë·° í•´ìƒë„ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ë·° ê¸°ìˆ ì— ì¢…ì†ë˜ì§€ ì•Šê³  HTML í…œí”Œë¦¿ê³¼ ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ë¸Œë¼ìš°ì €ì— ë Œë”ë§í•  ìˆ˜ ìˆë‹¤.
WebFluxì—ì„œ ë·° í•´ìƒë„ëŠ” ViewResolver ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ Stringì„ View ì¸ìŠ¤í„´ìŠ¤ì— ë§¤í•‘í•˜ëŠ” ì „ìš© HandlerResultHandlerë¥¼ í†µí•´ ì§€ì›ëœë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë·°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ë‹µì„ ë Œë”ë§í•œë‹¤.</p><h5 id=handling>Handling</h5><p>ViewResolutionResultHandlerë¡œ ì „ë‹¬ëœ HandlerResultì—ëŠ” í•¸ë“¤ëŸ¬ì˜ ë°˜í™˜ ê°’ê³¼ ìš”ì²­ ì²˜ë¦¬ ì¤‘ì— ì¶”ê°€ëœ ì†ì„±ì´ í¬í•¨ëœ ëª¨ë¸ì´ í¬í•¨ëœë‹¤. ë°˜í™˜ ê°’ì€ ë‹¤ìŒ ì¤‘ í•˜ë‚˜ë¡œ ì²˜ë¦¬ëœë‹¤.</p><ul><li>ë¬¸ìì—´, ë¬¸ì ì‹œí€€ìŠ¤: êµ¬ì„±ëœ ë·°ë¦¬ì¡¸ë²„ êµ¬í˜„ ëª©ë¡ì„ í†µí•´ ë·°ë¡œ í™•ì¸í•  ë…¼ë¦¬ì  ë·° ì´ë¦„ì´ë‹¤.</li><li>void: ìš”ì²­ íŒ¨ìŠ¤ì— ë§ëŠ” ë””í´íŠ¸ ë·° ì´ë¦„ì—ì„œ ì•ë’¤ ìŠ¬ë˜ì‰¬ë¥¼ ì œê±°í•˜ê³  ë·°ë¡œ ë¦¬ì¡¸ë¸Œí•œë‹¤. ë·° ì´ë¦„ì´ ì œê³µë˜ì§€ ì•Šê±°ë‚˜(ì˜ˆë¥¼ ë“¤ì–´ model attributeë¥¼ ë¦¬í„´í•œ ê²½ìš°) ë¹„ë™ê¸° ê°’ì¼ ë•Œë„(ì˜ˆë¥¼ ë“¤ì–´ Monoê°€ ë¹„ì–´ ìˆì„ ë•Œ) ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•œë‹¤.</li><li>ë Œë”ë§: ë·° í•´ìƒë„ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìœ„í•œ APIì…ë‹ˆë‹¤. ì½”ë“œ ì™„ì„± ê¸°ëŠ¥ì´ ìˆëŠ” IDEì—ì„œ ì˜µì…˜ì„ í™•ì¸í•´ë¼.</li><li>Model, Map: ìš”ì²­ì— ëŒ€í•´ ëª¨ë¸ì— ì¶”ê°€í•  model attributes</li><li>ê¸°íƒ€: ë‹¤ë¥¸ ëª¨ë“  ë°˜í™˜ ê°’(BeanUtils#isSimplePropertyê°€ trueë¥¼ ë¦¬í„´í•˜ëŠ” ê°’ì€ ì œì™¸)ì€ ëª¨ë¸ì— ì¶”ê°€í•  model attributeë¡œ ê°„ì£¼ëœë‹¤. @ModelAttribute ì–´ë…¸í…Œì´ì…˜ì´ ì—†ìœ¼ë©´ conventionsì™€ í´ë˜ìŠ¤ëª…ìœ¼ë¡œ ì†ì„± ì´ë¦„ì„ ê²°ì •í•œë‹¤.</li></ul><p>ëª¨ë¸ì—ëŠ” ë¹„ë™ê¸° ë¦¬ì•¡í‹°ë¸Œ íƒ€ì…ë„ ìˆì„ ìˆ˜ ìˆë‹¤(ì˜ˆë¥¼ ë“¤ì–´ ë¦¬ì•¡í„°ë‚˜ RxJavaê°€ ë¦¬í„´í•œ ê°’). ì´ëŸ° model attributeëŠ” AbstractViewê°€ ëœë”ë§í•˜ê¸° ì „ì— ì‹¤ì œê°’ìœ¼ë¡œ ë°”ê¿”ì¤€ë‹¤.
single-value ë¦¬ì•¡í‹°ë¸Œ íƒ€ì…ì€ ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´ ê°’ í•˜ë‚˜ë¡œ ë¦¬ì¡¸ë¸Œë˜ê³  multi-value ë¦¬ì•¡í‹°ë¸Œ íƒ€ì…(ì—ë¥¼ ë“¤ì–´ Flux<t>)ì€ List<t>ë¡œ ìˆ˜ì§‘ëœë‹¤.</p><p>ë·° ë¦¬ì¡¸ë¸ŒëŠ” ìŠ¤í”„ë§ ì„¤ì •ì— ViewResolutionResultHandlerë§Œ ì¶”ê°€í•˜ë©´ëœë‹¤. WebFlux ConfigëŠ” ë·° ë¦¬ì¡¸ë¸Œë¥¼ ìœ„í•œ ì„¤ì • APIë¥¼ ì œê³µí•œë‹¤.</p><h5 id=redirecting>Redirecting</h5><p>ë¦¬ì•¡í‹°ë¸ŒëŠ” ë·° ì´ë¦„ì— redirect: í”„ë¦¬í”½ìŠ¤ë¥¼ ë¶™ì´ê¸°ë§Œ í•˜ë©´ ëœë‹¤. UrlBasedViewResolver(íˆìœ„ í´ë˜ìŠ¤ë„ í¬í•¨)ê°€ ì´ë¥¼ ë¦¬ë‹¤ì´ë ‰íŠ¸ ìš”ì²­ìœ¼ë¡œ íŒë‹¨í•œë‹¤.
í”„ë¦¬í”½ìŠ¤ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ë·° ì´ë¦„ì€ ë¦¬ë‹¤ì´ë ‰íŠ¸ URLë¡œ ì‚¬ìš©í•œë‹¤. ë™ì‘ ìì²´ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ê°€ RedirectViewë‚˜ Rendering.redirectTo(â€œabcâ€).build()ë¥¼ ë¦¬í„´í–ˆì„ ë•Œì™€ ë™ì¼í•˜ì§€ë§Œ, ì´ ë°©ë²•ì€ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì§ì ‘ ë·° ì´ë¦„ì„ ë³´ê³  ì²˜ë¦¬í•œë‹¤.
redirect:/some/resource ê°™ì€ ê°’ì€ í˜„ì¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì´ë™í•  í˜ì´ì§€ë¥¼ ì°¾ê³  redirect:https://example.com/arbitrary/path ê°™ì´ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ URLë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•œë‹¤.</p><h5 id=content-negotiation>Content Negotiation</h5><p>content negotiationì€ ViewResolutionResultHandlerê°€ ë‹´ë‹¹í•œë‹¤. ìš”ì²­ ë¯¸ë””ì–´ íƒ€ì…ê³¼ Viewê°€ ì§€ì›í•˜ëŠ” ë¯¸ë””ì–´ íƒ€ì…ì„ ë¹„êµí•´ì„œ ì²«ë²ˆì§¸ë¡œ ì°¾ì€ Viewë¥¼ ì‚¬ìš©í•œë‹¤.
ìŠ¤í”„ë§ WebFluxëŠ” HttpMessageWriterë¡œ Json, XML ê°™ì€ ë¯¸ë””ì–´ íƒ€ì…ì„ ë§Œë“œëŠ” HttpMessageWriterViewë¥¼ ì§€ì›í•œë‹¤. ë³´í†µì€ WebFlux ì„¤ì •ì„ í†µí•´ HttpMessageWriterViewë¥¼ ë””í´íŠ¸ ë·°ë¡œ ì‚¬ìš©í•œë‹¤. ë””í´íŠ¸ ë·°ëŠ” ìš”ì²­ ë¯¸ë””ì–´ íƒ€ì…ê³¼ ì¼ì¹˜í•˜ê¸°ë§Œ í•˜ë©´ í•­ìƒ ì‚¬ìš©ë˜ëŠ” ë·°ë‹¤.</p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=https://docs.spring.io/spring-framework/docs/5.3.27/reference/html/web-reactive.html#webflux-dispatcher-handler>The Spring Framework - Web Reactive - DispatcherHandler</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-05e9c669eccc17bab65bea194cc4c753>15 - ìŠ¤í”„ë§ WebFluxì—ì„œ ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ ì»¨íŠ¸ë¡¤ëŸ¬ í™œìš© ë°©ë²•</h1><div class=lead>ìŠ¤í”„ë§ WebFluxëŠ” @Controller, @RestController ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ìš”ì²­ì„ ë§¤í•‘í•˜ê³  ì…ë ¥ ì²˜ë¦¬ ë° ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì§€ì›í•œë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë©”ì†Œë“œ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ë©°, ìƒì†ì´ë‚˜ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ì—†ì´ë„ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤.</div><h1 id=annotated-controllers>Annotated Controllers</h1><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>ìŠ¤í”„ë§ WebFluxëŠ” ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ í”„ë¡œê·¸ë¨ë° ëª¨ë¸ì„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— @Controller, @RestController ì»´í¬ë„ŒíŠ¸ë¡œ ìš”ì²­ì„ ë§¤í•‘í•˜ê³ , ì…ë ¥ì„ ë°›ê³ , ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í• ìˆ˜ ìˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë©”ì†Œë“œë¥¼ ì—¬ëŸ¬ê°€ì§€ë¡œ í™œìš©í•  ìˆ˜ ìˆì–´ì„œ í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê±°ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RestController</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HelloController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@GetMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/hello&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>handle</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;Hello WebFlux&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ìœ„ ì½”ë“œì—ì„œëŠ” response bodyì— ì“¸ Stringì„ ë¦¬í„´í•œë‹¤.</p><h3 id=controller>@Controller</h3><p>ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” í‘œì¤€ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ì •ì˜í•œë‹¤. @Controller ì–´ë…¸í…Œì´ì…˜ì„ ë‹¬ë©´ ìŠ¤í”„ë§ì´ í´ë˜ìŠ¤íŒ¨ìŠ¤ ë‚´ì˜ ë‹¤ë¥¸ @Component í´ë˜ìŠ¤ì²˜ëŸ¼ ìë™ìœ¼ë¡œ ìŠ¤ìº”í•˜ê³  ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì„ ì„ ì–¸í•˜ë©´ ê·¸ í´ë˜ìŠ¤ê°€ Web ì»´í¬ë„ŒíŠ¸ë¼ëŠ” ëœ»ì´ê¸°ë„ í•˜ë‹¤.
@Controller ë¹ˆì„ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ìœ„í•œ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@ComponentScan</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;org.example.web&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebConfig</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>@RestControllerëŠ” ìì²´ì— @Controller, @ResponseBodyë¥¼ ì„ ì–¸í•˜ê³  ìˆì–´, ì»¨íŠ¸ë¡¤ëŸ¬ ë‚´ì˜ ëª¨ë“  ë©”ì†Œë“œì— @ResponseBodyë¥¼ ìƒì†í•œë‹¤. ë”°ë¼ì„œ ë¦¬í„´ê°’ìœ¼ë¡œ Viewë¥¼ ë§Œë“¤ì§€ ì•Šê³  response bodyì— ë°”ë¡œ ì“¸ ìˆ˜ ìˆë‹¤.</p><h3 id=request-mapping>Request Mapping</h3><p>ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì†Œë“œ ìš”ì²­ì„ ë§¤í•‘í•  ë•ŒëŠ” @RequestMappingì„ ì‚¬ìš©í•œë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì— ìˆëŠ” ì†ì„±ìœ¼ë¡œ URL, HTTP ë©”ì†Œë“œ, ìš”ì²­ íŒŒë¼ë¯¸í„°, í—¤ë”, ë¯¸ë””ì–´ íƒ€ì…ì„ ë§¤ì¹­í•  ìˆ˜ ìˆë‹¤. ë©”ì†Œë“œì— ì„ ì–¸í•˜ê±°ë‚˜ ëª¨ë“  ë©”ì†Œë“œì—ì„œ ê³µìœ í•˜ê³  ì‹¶ì„ ë•Œ í´ë˜ìŠ¤ ë ˆë²¨ì— ì„ ì–¸í•œë‹¤.
@GetMapping, @PostMapping, @PutMapping, @DeleteMapping, @PatchMappingì€ HTTP ë©”ì†Œë“œë¥¼ ë°”ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì€ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì†Œë“œì—ì„œ ê±°ì˜ ëŒ€ë¶€ë¶„ì´ HTTP ë©”ì†Œë“œ í•˜ë‚˜ë§Œ ë‹´ë‹¹í•˜ëŠ” ì¼ì¢…ì˜ ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì´ë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì„ ì„ ì–¸í•˜ë”ë¼ë„ ë‹¤ë¥¸ ë§¤í•‘ ì¡°ê±´ì„ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ í´ë˜ìŠ¤ ë ˆë²¨ì˜ @RequestMappingì„ ì„ ì–¸í•´ì•¼ í•œë‹¤.</p><h3 id=handler-methods>Handler Methods</h3><p>@RequestMapping í•¸ë“¤ëŸ¬ëŠ” ë‹¤ì–‘í•œ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì†Œë“œ ì¸ìì™€ ë¦¬í„´ê°’ì„ ì§€ì›í•˜ë¯€ë¡œ ì›í•˜ëŠ” ê²ƒì„ ì„ íƒí•˜ë©´ ëœë‹¤.
ë¸”ë¡œí‚¹ I/Oë¡œ ë°›ëŠ” ì¸ì(ì˜ˆë¥¼ ë“¤ì–´ response bodyë¥¼ ì½ëŠ” ê²½ìš°)ëŠ” ë¦¬ì•¡í‹°ë¸Œ ìœ í˜•(Reactor, RxJava ë˜ëŠ” ê¸°íƒ€)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ëŸ° íƒ€ì…ì€ Description ì»¬ëŸ¼ì— ëª…ì‹œë˜ì–´ ìˆë‹¤. ë¸”ë¡œí‚¹ ì—†ëŠ” ì¸ìëŠ” ë¦¬ì•¡í‹°ë¸Œ íƒ€ì…ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
ì¼ë¶€ ì–´ë…¸í…Œì´ì…˜ì€(ì˜ˆë¥¼ ë“¤ì–´ @RequestParam, @RequestHeader ë“±) required attributeë¡œ í•„ìˆ˜ ì—¬ë¶€ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©° JDK 8ì˜ java.util.Optionalì„ ì‚¬ìš©í•´ë„ ëœë‹¤. íš¨ê³¼ëŠ” required=falseì™€ ë™ì¼í•˜ë‹¤.</p><h3 id=model>Model</h3><p>@ModelAttribute ì–´ë…¸í…Œì´ì…˜ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><ul><li>@RequestMapping ë©”ì†Œë“œ ì¸ìì— ì„ ì–¸í•´ì„œ ëª¨ë¸ì„ ìƒì„±, ì ‘ê·¼í•˜ê³  WebDataBinderë¡œ ê°ì²´ì— ë°”ì¸ë”©í•œë‹¤.</li><li>@Controllerë‚˜ @ControllerAdvice í´ë˜ìŠ¤ ë©”ì†Œë“œì— ì„ ì–¸í•´ì„œ ë‹¤ë¥¸ @RequestMapping ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ê¸° ì „ ëª¨ë¸ì„ ì´ˆê¸°í™”í•œë‹¤.</li><li>@RequestMapping ë©”ì†Œë“œì—ì„œ ë¦¬í„´í•˜ëŠ” ê°’ì„ molde attributeë¡œ ë§Œë“ ë‹¤.</li></ul><p>ì—¬ê¸°ì„œëŠ” @ModelAttribute ë©”ì†Œë“œì— ëŒ€í•´ ì„¤ëª…í•œë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” @ModelAttribute ë©”ì†Œë“œë¥¼ ì–¼ë§ˆë“ ì§€ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ëª¨ë“  ë©”ì†Œë“œëŠ” ë™ì¼í•œ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ @RequestMapping ë©”ì†Œë“œ ì•ì— í˜¸ì¶œëœë‹¤. @ModelAttribute ë©”ì†Œë“œëŠ” @ControllerAdviceë¥¼ í†µí•´ ì»¨íŠ¸ë¡¤ëŸ¬ ê°„ì— ê³µìœ í•  ìˆ˜ë„ ìˆë‹¤.</p><p>@ModelAttribute ë©”ì†Œë“œëŠ” ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤. ì§€ì›í•˜ëŠ” ì¸ìëŠ” ëŒ€ë¶€ë¶„ @RequestMapping ë©”ì†Œë“œì™€ ë™ì¼í•˜ë‹¤.(@ModelAttribute ìì²´ì™€ request bodyì™€ ê´€ë ¨ëœ ê²ƒì€ ì œì™¸)
ë‹¤ìŒì€ @ModelAttribute ë©”ì†Œë“œ ì‚¬ìš© ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@ModelAttribute</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>populateModel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span> <span style=color:#000>String</span> <span style=color:#000>number</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>accountRepository</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>findAccount</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>number</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// add more ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=databinder>DataBinder</h3><p>WebDataBinderëŠ” @Controllerë‚˜ @ControllerAdvice í´ë˜ìŠ¤ì—ì„œ @InitBinder ë©”ì†Œë“œë¡œ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë‹¤.
@InitBinder ë©”ì†Œë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><p>@InitBinder ë©”ì†Œë“œë¡¤ ì»¨íŠ¸ë¡¤ëŸ¬ë³„ java.beans.PropertyEditorë‚˜ ìŠ¤í”„ë§ Converter, Formatterë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.
FormattingConversionServiceì—ì„œ ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” Converter, FormatterëŠ” ì›¹í”ŒëŸ­ìŠ¤ ì„¤ì •ìœ¼ë¡œ ë“±ë¡í•œë‹¤.
@InitBinder ë©”ì†Œë“œê°€ ì§€ì›í•˜ëŠ” ì¸ìëŠ” @ModelAttribute(ì»¤ë§¨ë“œ ê°ì²´)ë§Œ ì œì™¸í•˜ê³  ëŒ€ë¶€ë¶„ @RequestMapping ë©”ì†Œë“œì™€ ë™ì¼í•˜ë‹¤.
ë³´í†µì€ WebDataBinderë¥¼ ì¸ìë¡œ ë°›ì•„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë“±ë¡í•˜ê³  voidë¥¼ ë¦¬í„´í•œë‹¤. ë‹¤ìŒì€ @InitBinder ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>FormController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@InitBinder</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>initBinder</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebDataBinder</span> <span style=color:#000>binder</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>SimpleDateFormat</span> <span style=color:#000>dateFormat</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>SimpleDateFormat</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;yyyy-MM-dd&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>dateFormat</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setLenient</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>binder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>registerCustomEditor</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Date</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomDateEditor</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>dateFormat</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=managing-exceptions>Managing Exceptions</h3><p>@Controllerì™€ @ControllerAdvice í´ë˜ìŠ¤ ë©”ì†Œë“œì— @ExceptionHandlerë¥¼ ì„ ì–¸í•˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œì˜ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒì€ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>SimpleController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@ExceptionHandler</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ResponseEntity</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>handle</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>IOException</span> <span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=controller-advice>Controller Advice</h3><p>@ExceptionHandler, @InitBinder, @ModelAttribute ë©”ì†Œë“œëŠ” @Controller í´ë˜ìŠ¤(í˜¹ì€ ìƒì†í•œ í´ë˜ìŠ¤)ì— ì ìš©ëœë‹¤.
ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì— ì ìš©í•˜ê³  ì‹¶ë‹¤ë©´ @ControllerAdviceë‚˜ @RestControllerAdviceë¥¼ ì„ ì–¸í•œ í´ë˜ìŠ¤ ì•ˆì— ë§Œë“¤ì–´ì•¼ í•œë‹¤.</p><p>@ControllerAdviceëŠ” @Component ì–´ë…¸í…Œì´ì…˜ì´ ì„ ì–¸ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì— ë“±ë¡í•  ìˆ˜ ìˆë‹¤.
@RestControllerAdviceëŠ” @ControllerAdviceì™€ @ResponseBodyê°€ ë‘˜ ë‹¤ ì„ ì–¸ë˜ì–´ ìˆì–´ @ExceptionHandler ë©”ì†Œë“œì—ì„œ ë¦¬í„´í•œ ê°’ì€ ë©”ì‹œì§€ ë³€í™˜ì„ í†µí•´ viewë¥¼ ë§Œë“¤ê±°ë‚˜ í…œí”Œë¦¿ì„ ëœë”ë§í•˜ëŠ” ëŒ€ì‹  response bodyë¡œ ë Œë”ë§í•œë‹¤.</p><p>ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê¸°ë™í•˜ë©´ í”„ë ˆì„ì›Œí¬ ë‚´ë¶€ì—ì„œ @ControllerAdviceë¥¼ ì„ ì–¸í•œ ìŠ¤í”„ë§ ë¹ˆì„ ì°¾ì•„ @RequestMappingê³¼ @ExceptionHandler ë©”ì†Œë“œë¥¼ ì ìš©í•œë‹¤.
ì „ì—­ì— ì„¤ì •í•œ @ExceptionHandler ë©”ì†Œë“œëŠ” @Controller ë©”ì†Œë“œ ë‹¤ìŒì— ì ìš©í•œë‹¤. ë°˜ëŒ€ë¡œ ì „ì—­ @ModelAttribute, @InitBinder ë©”ì†Œë“œëŠ” @Controller ë©”ì†Œë“œ ì „ì— ì ìš©í•œë‹¤.</p><p>ê¸°ë³¸ì ìœ¼ë¡œ @ControllerAdvice ë©”ì†Œë“œëŠ” ëª¨ë“  ìš”ì²­ì— ì ìš©ë˜ì§€ë§Œ ë‹¤ìŒ ì˜ˆì œì²˜ëŸ¼ ì–´ë…¸í…Œì´ì…˜ attributeë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Target all Controllers annotated with @RestController
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#5c35cc;font-weight:700>@ControllerAdvice</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>annotations</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RestController</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ExampleAdvice1</span> <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Target all Controllers within specific packages
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#5c35cc;font-weight:700>@ControllerAdvice</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;org.example.controllers&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ExampleAdvice2</span> <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Target all Controllers assignable to specific classes
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#5c35cc;font-weight:700>@ControllerAdvice</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>assignableTypes</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#000>ControllerInterface</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>AbstractController</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ExampleAdvice3</span> <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span></code></pre></div><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=https://docs.spring.io/spring-framework/docs/5.3.27/reference/html/web-reactive.html#webflux-controller>The Spring Framework - Web Reactive - Annotated Controllers</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-88748e6fc2135df036998e22b14cbb02>16 - ìŠ¤í”„ë§ WebFlux í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ëª¨ë¸(WebFlux.fn)</h1><div class=lead>ìŠ¤í”„ë§ WebFluxì˜ í•¨ìˆ˜í˜• ëª¨ë¸ì¸ WebFlux.fnì€ ìš”ì²­ì„ í•¨ìˆ˜ë¡œ ë¼ìš°íŒ…í•˜ê³  ì²˜ë¦¬í•˜ë©°, HandlerFunctionì´ HTTP ìš”ì²­ì„ ì²˜ë¦¬í•´ ë¹„ë™ê¸° ì‘ë‹µì„ ë°˜í™˜í•œë‹¤. RouterFunctionì€ ìš”ì²­ì„ í•´ë‹¹ HandlerFunctionì— ë§¤í•‘í•˜ë©°, ì´ëŠ” ì–´ë…¸í…Œì´ì…˜ ëª¨ë¸ì˜ @RequestMappingê³¼ ê°™ì€ ì—­í• ì„ ìˆ˜í–‰í•˜ì§€ë§Œ ë°ì´í„°ì™€ í–‰ë™ì„ í•¨ê»˜ ì œê³µí•˜ëŠ” ì ì´ ë‹¤ë¥´ë‹¤.</div><h1 id=functional-endpoints>Functional Endpoints</h1><p>ìŠ¤í”„ë§ WebFluxëŠ” ê²½ëŸ‰í™” ëœ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ì§€ì›í•œë‹¤. WebFlux.fnì´ë¼ê³  í•˜ëŠ” ì´ ëª¨ë¸ì€ í•¨ìˆ˜ë¡œ ìš”ì²­ì„ ë¼ìš°íŒ…í•˜ê³  í•¸ë“¤ë§í•˜ê¸° ë•Œë¬¸ì— ë¶ˆë³€ì„±(immutability)ì„ ë³´ì¥í•œë‹¤.
í•¨ìˆ˜í˜• ëª¨ë¸ê³¼ ì–´ë…¸í…Œì´ì…˜ ëª¨ë¸ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ë©´ ë˜ëŠ”ë° ë‘˜ ë‹¤ ë¦¬ì•¡í‹°ë¸Œ ì½”ì–´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>WebFlux.fnì—ì„  HandlerFunctionì´ HTTP ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤. HandlerFunctionì€ ServerRequestë¥¼ ë°›ì•„ ë¹„ë™ê¸° ServerResponse(ì˜ˆë¥¼ ë“¤ì–´ Mono<serverresponse>)ë¥¼ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ë‹¤. ìš”ì²­, ì‘ë‹µ ê°ì²´ ëª¨ë‘ ë¶ˆë³€í•˜ê¸° ë•Œë¬¸ì— JDK 8 ë°©ì‹ìœ¼ë¡œ HTTP ìš”ì²­, ì‘ë‹µì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. HandlerFunction ì—­í• ì€ ì–´ë…¸í…Œì´ì…˜ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ë¡œ ì¹˜ë©´ @RequestMapping ë©”ì†Œë“œì™€ ë™ì¼í•˜ë‹¤.</p><p>ìš”ì²­ì€ RouterFunctionì´ í•¸ë“¤ëŸ¬ í‘ì…˜ì— ë¼ìš°íŒ…í•œë‹¤. RouterFunctionì€ ServerRequestë¥¼ ë°›ì•„ ë¹„ë™ê¸° HandlerFunction(ì˜ˆë¥¼ ë“¤ì–´ Mono<handlerfunction>)ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ë‹¤. ë§¤ì¹­ë˜ëŠ” ë¼ì´í„° í‘ì…˜ì´ ìˆìœ¼ë©´ í•¸ë“¤ëŸ¬ í‘ì…˜ì„ ë¦¬í„´í•˜ê³  ê·¸ ì™¸ëŠ” ë¹„ì–´ ìˆëŠ” Monoë¥¼ ë¦¬í„´í•œë‹¤. RouterFunctionì´ í•˜ëŠ” ì¼ì€ @RequestMapping ì–´ë…¸í…Œì´ì…˜ê³¼ ë™ì¼í•˜ì§€ë§Œ ë¼ìš°í„° í‘ì…˜ì€ í…Œì´í„°ë¿ ì•„ë‹ˆë¼ í–‰ë™ê¹Œì§€ ì œê³µí•œë‹¤ëŠ” ì ì´ ë‹¤ë¥´ë‹¤.</p><p>ë¼ì´í„°ë¥¼ ë§Œë“¤ ë•ŒëŠ” ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ RouterFunctions.route()ê°€ ì œê³µí•˜ëŠ” ë¹Œë”ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.http.MediaType.APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.web.reactive.function.server.RequestPredicates.*</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.web.reactive.function.server.RouterFunctions.route</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>PersonRepository</span> <span style=color:#000>repository</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000>PersonHandler</span> <span style=color:#000>handler</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>PersonHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>repository</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>RouterFunction</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>route</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>route</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>getPerson</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>listPeople</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>createPerson</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>PersonHandler</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>listPeople</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ServerRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>createPerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ServerRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>getPerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ServerRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>RouterFunctionì„ ì‹¤í–‰í•˜ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜ëŠ” HttpHandlerë¡œ ë³€í™˜í•´ ë‚´ì¥ëœ ì„œë²„ ì–´ëŒ‘í„°ì— ë“±ë¡í•˜ëŠ” ê²ƒì´ë‹¤.</p><ul><li>RouterFunctions.toHttpHandler(RouterFunction)</li><li>RouterFunctions.toHttpHandler(RouterFunction, HandlerStrategies)</li></ul><h3 id=handlerfunction>HandlerFunction</h3><p>ServerRequestì™€ ServerResponseëŠ” JDK 8 ë°©ì‹ìœ¼ë¡œ HTTP ìš”ì²­ê³¼ ì‘ë‹µì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë¶ˆë³€(immutable) ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ëª¨ë“  ìš”ì²­, ì‘ë‹µ body ëª¨ë‘ ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ back pressureë¡œ ì²˜ë¦¬í•œë‹¤. request bodyëŠ” ë¦¬ì•¡í„° Fluxë‚˜ Monoë¡œ í‘œí˜„í•œë‹¤.
response bodyëŠ” Fluxì™€ Monoë¥¼ í¬í•¨í•œ ì–´ë–¤ ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ Publisherë“  ìƒê´€ì—†ë‹¤.</p><h4 id=serverrequest>ServerRequest</h4><p>ServerRequestë¡œ HTTP ë©”ì†Œë“œ, URI, í—¤ë”, ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°, bodyë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œë¥¼ ì œê³µí•œë‹¤.
ë‹¤ìŒì€ request bodyë¥¼ Mono<string>ìœ¼ë¡œ ì¶”ì¶œí•˜ëŠ” ì˜ˆì œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>string</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>ë‹¤ìŒ ì˜ˆì œëŠ” bodyë¥¼ Flux<person>ìœ¼ë¡œ ì¶”ì¶œí•œë‹¤. Person ê°ì²´ëŠ” JSONì´ë‚˜ XML ê°™ì€ ì§ë ¬í™”ëœ ë°ì´í„°ë¡œ ë””ì½”ë”©í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Flux</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>people</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToFlux</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>ìœ„ ì˜ˆì œì—ì„œ ì‚¬ìš©í•œ ë©”ì†Œë“œëŠ” í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ BodyExtractorë¥¼ ë°›ëŠ” ServerRequest.body(BodyExtractor) ë©”ì†Œë“œì˜ ì¶•ì•½ ë²„ì „ì´ë‹¤. BodyExtractors ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ì— ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•´ë„ ëœë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì•ì˜ ì˜ˆì œëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•  ìˆ˜ë„ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>string</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>BodyExtractors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#000>Flux</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>people</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>BodyExtractors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toFlux</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span></code></pre></div><p>ì•„ë˜ ì˜ˆì œëŠ” form ë°ì´í„°ì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤€ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>MultiValueMap</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;&gt;</span> <span style=color:#000>map</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>formData</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>ë‹¤ìŒì€ multipart ë°ì´í„°ë¥¼ mapìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>MultiValueMap</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Part</span><span style=color:#ce5c00;font-weight:700>&gt;&gt;</span> <span style=color:#000>map</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>multipartData</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>ë‹¤ìŒì€ multipart ë°ì´í„°ë¥¼ ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ìœ¼ë¡œ í•œë²ˆì— í•˜ë‚˜ì”© ê°€ì ¸ì˜¨ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Flux</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Part</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>parts</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>BodyExtractors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toParts</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span></code></pre></div><h4 id=serverresponse>ServerResponse</h4><p>HTTP ì‘ë‹µì€ ServerResponseë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©° ì´ ì¸í„°í˜ì´ì…˜ì€ ë¶ˆë³€ì´ê¸° ë•Œë¬¸ì— build ë©”ì†Œë“œë¡œ ìƒì„±í•œë‹¤. ë¹Œë”ë¡œ í—¤ë”ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ìƒíƒœì½”ë“œ, bodyë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒì€ JSON ì»¨í…ì¸ ë¡œ 200(OK) ì‘ë‹µì„ ë§Œë“œëŠ” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>person</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ok</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>contentType</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>ë‹¤ìŒ ì˜ˆì œëŠ” boby ì—†ì´ Location í—¤ë”ë§Œ 201(CREATED) ì‘ë‹µì„ ë§Œë“ ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>URI</span> <span style=color:#000>location</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>created</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>location</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>hint íŒŒë¼ë¯¸í„°ë¥¼ ë„˜ê¸°ë©´ ì‚¬ìš©í•˜ëŠ” ì½”ë±ì— ë”°ë¼ body ì§ë ¬í™”/ì—­ì§ë ¬í™” ë°©ì‹ì„ ì»¤ìŠ¤í…€ í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ Jackson JSON Viewë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ok</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>hint</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Jackson2CodecSupport</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>JSON_VIEW_HINT</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>MyJacksonView</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(...);</span>
</span></span></code></pre></div><h4 id=handler-classes>Handler Classes</h4><p>í•¸ë“¤ëŸ¬ í‰ì…˜ì€ ë‹¤ìŒì²˜ëŸ¼ ëŒë‹¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>HandlerFunction</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>helloWorld</span> <span style=color:#ce5c00;font-weight:700>=</span>
</span></span><span style=display:flex><span><span style=color:#000>request</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ok</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>bodyValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Hello World&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>í¸ë¦¬í•œ ë°©ì‹ì´ê¸´ í•˜ì§€ë§Œ í‘ì…˜ì„ ì—¬ëŸ¬ ê°œ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ì¸ë¼ì¸ ëŒë‹¤ë¡œ ë§Œë“¤ê¸°ëŠ” ë¶€ë‹´ìŠ¤ëŸ½ë‹¤. ì´ëŸ´ ë•ŒëŠ” í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤ë¡œ ê´€ë ¨ í•¸ë“¤ëŸ¬ í‘ì…˜ì„ ë¬¶ì„ ìˆ˜ ìˆë‹¤.
í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤ëŠ” ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ @Controllerì™€ ë¹„ìŠ·í•˜ë‹¤. ë‹¤ìŒ ì˜ˆì œëŠ” ë¦¬ì•¡í‹°ë¸Œ Person ë ˆí¼ì§€í† ë¦¬ì™€ ê´€ë ¨ëœ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.http.MediaType.APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.web.reactive.function.server.ServerResponse.ok</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>PersonHandler</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>PersonRepository</span> <span style=color:#000>repository</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>PersonHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>PersonRepository</span> <span style=color:#000>repository</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>repository</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>repository</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>listPeople</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ServerRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Flux</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>people</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>repository</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>allPeople</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>ok</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>contentType</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>people</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>createPerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ServerRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>person</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>ok</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>repository</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>savePerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>getPerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ServerRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>personId</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Integer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>valueOf</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>pathVariable</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>repository</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getPerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>personId</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>flatMap</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>ok</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>contentType</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>bodyValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>switchIfEmpty</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>notFound</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=validation>Validation</h4><p>í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì€ ìŠ¤í”„ë§ validation facilitiesë¥¼ ì‚¬ìš©í•´ì„œ request bodyë¥¼ ê²€ì¦í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒ ì˜ˆì œëŠ” Personì— ëŒ€í•œ ì»¤ìŠ¤í…€ ìŠ¤í”„ë§ Validator êµ¬í˜„ì²´ë¥¼ ë³´ì—¬ì£¼ê³  ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>PersonHandler</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Validator</span> <span style=color:#000>validator</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>PersonValidator</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>createPerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ServerRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>person</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>doOnNext</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>validate</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>ok</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>repository</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>savePerson</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>validate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span> <span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Errors</span> <span style=color:#000>errors</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>BeanPropertyBindingResult</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>validator</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>validate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasErrors</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>throw</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ServerWebInputException</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toString</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=routerfunction>RouterFunction</h3><p>ë¼ìš°í„° í‘ì…˜ì€ ìš”ì²­ì„ ê·¸ì— ë§ëŠ” HandlerFunctionìœ¼ë¡œ ë¼ìš°íŒ…í•œë‹¤. ë¼ìš°íŒ… í‘ì…˜ì„ ì§ì ‘ ë§Œë“¤ê¸°ë³´ë‹¨, ë³´í†µ RouterFunctions ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.
RouterFunctions.route()ê°€ ë¦¬í„´í•˜ëŠ” ë¹Œë”ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ RouterFunctions.route(RequestPredicate, HandlerFunction)ìœ¼ë¡œ ì§ì ‘ ë¼ìš°í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
route() ë¹Œë”ë¥¼ ì‚¬ìš©í•˜ë©´ static ë©”ì†Œë“œë¥¼ ì§ì ‘ ì„í¬íŠ¸í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ GET ìš”ì²­ì„ ë§¤í•‘í•  ìˆ˜ ìˆëŠ” GET(String, HandlerFunction) ë©”ì†Œë“œì™€ POST ìš”ì²­ì„ ë§¤í•‘í•˜ëŠ” POST(String, HandlerFunction) ë©”ì†Œë“œê°€ ìˆë‹¤.
ë¹Œë”ëŠ” HTTP ë©”ì†Œë“œ ì™¸ì— ë‹¤ë¥¸ ì¡°ê±´ìœ¼ë¡œ ìš”ì²­ì„ ë§¤í•‘í•  ìˆ˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë„ ì œê³µí•œë‹¤. ê° HTTP ë©”ì†Œë“œëŠ” RequestPredicate íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì€ ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¡œë”©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì¡°ê±´ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.</p><h4 id=predicates>Predicates</h4><p>RequestPredicateë¥¼ ì§ì ‘ ë§Œë“¤ì–´ë„ ë˜ì§€ë§Œ ìš”ì²­ path, HTTP ë©”ì†Œë“œ, ì»¨í…ì¸  íƒ€ì… ë“± ìì£¼ ì‚¬ìš©í•˜ëŠ” êµ¬í˜„ì²´ëŠ” RequestPredicates ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ì— ì¤€ë¹„ë˜ì–´ ìˆë‹¤. ë‹¤ìŒì€ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë¡œ Accept í—¤ë” ì¡°ê±´ì„ ì¶”ê°€í•˜ëŠ” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>RouterFunction</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>route</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RouterFunctions</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>route</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/hello-world&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>TEXT_PLAIN</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span><span style=color:#000>request</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ok</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>bodyValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Hello World&#34;</span><span style=color:#ce5c00;font-weight:700>)).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>ì—¬ëŸ¬ ì¡°ê±´ì„ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><ul><li>RequestPredicate.and(RequestPredicate) - ë‘˜ ë‹¤ ë§Œì¡±í•´ì•¼ í•œë‹¤.</li><li>RequestPredicate.or(RequestPredicate) - ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ë§Œì¡±í•˜ë©´ ëœë‹¤.
RequestPredicatesê°€ ì œê³µí•˜ëŠ” êµ¬í˜„ì²´ë„ ì´ ì¡°í•©ìœ¼ë¡œ ë§Œë“  ê²ƒì´ ë§ë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ RequestPredicates.GET(String)ì€ RequestPredicates.method(HttpMethod)ì™€ RequestPredicates.path(String) ì¡°í•©ì´ë‹¤. ìœ„ì— ìˆëŠ” ì˜ˆì œë„ ë¹Œë” ë‚´ë¶€ì—ì„œ RequestPredicates.GETê³¼ acceptë¥¼ ì¡°í•©í•œ ê²ƒì´ë‹¤.</li></ul><h4 id=routes>Routes</h4><p>ë¼ìš°í„° í‰ì…˜ì€ ì •í•´ì§„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•œë‹¤. ì²«ë²ˆì§¸ ì¡°ê±´ê³¼ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ë‘ë²ˆì§¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ì‹ì´ë‹¤.
ë”°ë¼ì„œ êµ¬ì²´ì ì¸ ì¡°ê±´ì„ ì•ì— ì„ ì–¸í•´ì•¼ í•œë‹¤. ì–´ë…¸í…Œì´ì…˜ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì—ì„  ìë™ìœ¼ë¡œ ê°€ì¥ êµ¬ì²´ì ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ì§€ë§Œ í•¨ìˆ˜í˜• ëª¨ë¸ì—ì„œëŠ” ê·¸ë ‡ì§€ ì•Šë‹¤ëŠ” ì ì„ ìœ ì˜í•´ì•¼ í•œë‹¤.
build()ë¥¼ í˜¸ì¶œí•˜ë©´ ë¹Œë”ì— ì •ì˜í•œ ëª¨ë“  ë¼ìš°í„° í‘ì…˜ì„ RouterFunction í•œ ê°œë¡œ í•©ì¹œë‹¤. ë‹¤ìŒ ë°©ë²•ìœ¼ë¡œë„ ì—¬ëŸ¬ ë¼ìš°í„° í‘ì…˜ì„ ì¡°í•©í•  ìˆ˜ ìˆë‹¤.</p><ul><li>RouterFunctions.route() ë¹Œë”ì˜ add(RouterFunction)</li><li>RouterFunction.and(RouterFunction)</li><li>RouterFunction.andRoute(RequestPredicate, HandlerFunction) - RouterFunctions.route()ë¥¼ RouterFunction.and()ë¡œ ê°ì‹¸ê³  ìˆëŠ” ì¶•ì•½ ë²„ì „
ë‹¤ìŒ ì˜ˆì œëŠ” ë¼ìš°í„° í‘ì…˜ 4ê°œë¥¼ ì‚¬ìš©í•œë‹¤.</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.http.MediaType.APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.web.reactive.function.server.RequestPredicates.*</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>PersonRepository</span> <span style=color:#000>repository</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000>PersonHandler</span> <span style=color:#000>handler</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>PersonHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>repository</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>RouterFunction</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>otherRoute</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>RouterFunction</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>route</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>route</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>getPerson</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>listPeople</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>createPerson</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>otherRoute</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=nested-routes>Nested Routes</h4><p>pathê°€ ê°™ìœ¼ë©´ ëŒ€ë¶€ë¶„ ê°™ì€ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ë¼ìš°í„° í‰ì…˜ì„ ê·¸ë£¹í•‘í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì•ì˜ ì˜ˆì œëŠ” ë¼ìš°í„° í‘ì…˜ ì„¸ ê°œê°€ /personì„ path ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í–ˆë‹¤.
ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í–ˆë‹¤ë©´ í´ë˜ìŠ¤ ë ˆë²¨ì´ @RequestMappingì„ ì„ ì–¸í•´ ì¤‘ë³µ ì½”ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤. WebFlux.fnì—ì„  path ë©”ì†Œë“œë¡œ path ì¡°ê±´ì„ ê³µìœ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìœ„ ì½”ë“œëŠ” ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ ë¼ìš°í„° í‘ì…˜ì„ í•œë²ˆ ê°ì‹¸ ê°œì„ í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>RouterFunction</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>route</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>route</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>builder</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>builder</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>getPerson</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>listPeople</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>createPerson</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>pathê°€ ê°€ì¥ í”í•˜ê¸° í•˜ì§€ë§Œ ë¹Œë”ì˜ nest ë©”ì†Œë“œëŠ” ë‹¤ë¥¸ ì¡°ê±´ë„ ê°ìŒ€ ìˆ˜ ìˆë‹¤. ìœ„ ì½”ë“œëŠ” ì—¬ì „íˆ Accpet í—¤ë”ê°€ ì¤‘ë³µì´ë‹¤ nest ë©”ì†Œë“œë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ í•œì¸µ ë” ê°œì„ í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>RouterFunction</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>route</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>route</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>b1</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>b1</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>nest</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>b2</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>b2</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>getPerson</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>listPeople</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>createPerson</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=running-a-server>Running a Server</h4><p>HTTP ì„œë²„ì—ì„  ì–´ë–»ê²Œ ë¼ìš°í„° í‘ì…˜ì„ ì‹¤í–‰í• ê¹Œ? ê°„ë‹¨í•˜ê²ŒëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë¼ìš°í„° í‘ì…˜ì„ HttpHandlerë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.</p><ul><li>RouterFunctions.toHttpHandler(RouterFunction)</li><li>RouterFunctions.toHttpHandler(RouterFunction, HandlerStrategies)
ë¦¬í„´ ë°›ì€ HttpHandlerë¥¼ ì„œë²„ ê°€ì´ë“œì— ë”°ë¼ ì„œë²„ ì–´ëŒ‘í„°ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</li></ul><p>ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œë„ ì‚¬ìš©í•˜ëŠ” ì¢€ ë” ì¼ë°˜ì ì¸ ì˜µì…˜ì€ WebFlux Configë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ì •ì˜í•˜ê³  DispatcherHandlerì™€ í•¨ê»˜ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë‹¤.
í”„ë ˆì„ì›Œí¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¡œ í•¨ìˆ˜í˜• ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì§€ì›í•˜ëŠ”ë° ì›¹í”ŒëŸ­ìŠ¤ ì„¤ì •ì„ ì‚¬ìš©í•˜ë©´ ì´ë¥¼ ëª¨ë‘ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ì •ì˜í•œë‹¤.</p><ul><li>RouterFunctionMapping: ìŠ¤í”„ë§ ì„¤ì •ì—ì„œ RouterFunctionì„ ì°¾ì•„ RouterFunction.andOtherë¡œ ì—°ê²°í•˜ê³  ìµœì¢… êµ¬ì„±í•œ RouterFunctionìœ¼ë¡œ ìš”ì²­ì„ ë¼ìš°íŒ…í•œë‹¤.</li><li>HandlerFunctionAdapter: ìš”ì²­ì— ë§¤í•‘ëœ HandlerFunctionì„ DispatcherHandlerê°€ ì‹¤í–‰í•˜ê²Œ ë„ì™€ì£¼ëŠ” ê°„ë‹¨í•œ ì–´ëŒ‘í„°</li><li>ServerResponseResultHandler: ServerResponseì˜ writeTo ë©”ì†Œë“œë¡œ HandlerFunction ê²°ê³¼ë¥¼ ì²˜ë¦¬í•œë‹¤.
ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ í•¨ìˆ˜í˜• ì—”ë“œí¬ì¸íŠ¸ë¥¼ DispatcherHandlerì˜ ìš”ì²­ ì²˜ë¦¬ íŒ¨í„´ì— ë§ì¶°ì£¼ê¸° ë•Œë¬¸ì— ì–´ë…¸í…Œì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬ì™€ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ ì›¹í”ŒëŸ­ìŠ¤ ìŠ¤íƒ€í„°ë„ ì´ ë°©ë²•ìœ¼ë¡œ í•¨ìˆ˜í˜• ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì§€ì›í•œë‹¤.</li></ul><h4 id=filtering-handler-functions>Filtering Handler Functions</h4><p>í•¸ë“¤ëŸ¬ í‘ì…˜ì— í•„í„°ë¥¼ ì ìš©í•  ë• ë¼ìš°í„° ë¹Œë”ì˜ before, after, filter ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.
ì´ ê¸°ëŠ¥ì„ ì–´ë…¸í…Œì´ì…˜ ëª¨ë¸ë¡œ êµ¬í˜„í•˜ë©´ @ControllerAdviceë‚˜ ServletFilterë¥¼ ì‚¬ìš©í–ˆì„ ê²ƒì´ë‹¤. í•„í„°ëŠ” ë¹Œë”ì˜ ëª¨ë“  ë¼ìš°í„° í‘ì…˜ì— ì ìš©ëœë‹¤.
ì´ ë§ì€ í•„í„°ë¥¼ ê°ì‹¸ì ¸ ìˆëŠ” ë¼ìš°í„°ì—ì„œ ì •ì˜í•˜ë©´ ìƒìœ„ ë ˆë²¨ì—ëŠ” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ëœ»ì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>RouterFunction</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>route</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>route</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>b1</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>b1</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>nest</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>b2</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>b2</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>getPerson</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>listPeople</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>before</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>ServerRequest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>from</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;X-RequestHeader&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Value&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>()))</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>createPerson</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>after</span><span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>logResponse</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>ë¼ìš°í„° ë¹Œë”ì˜ í•„í„° ë©”ì„œë“œëŠ” ì„œë²„ ìš”ì²­ê³¼ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ ë°›ì•„ ì„œë²„ ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì¸ í•¸ë“¤ëŸ¬ í•„í„° í•¨ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤. í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ëŠ” ì²´ì¸ì˜ ë‹¤ìŒ ìš”ì†Œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë¼ìš°íŒ…ë˜ëŠ” í•¸ë“¤ëŸ¬ì´ì§€ë§Œ ì—¬ëŸ¬ ê°œì˜ í•„í„°ê°€ ì ìš©ë˜ëŠ” ê²½ìš° ë‹¤ë¥¸ í•„í„°ê°€ ë  ìˆ˜ë„ ìˆë‹¤.
ì´ì œ pathë¥¼ ë³´ê³  ìš”ì²­ì„ í—ˆê°€í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” SecurityManagerê°€ ìˆë‹¤ê³  ê°€ì •í•˜ê³  ê°„ë‹¨í•œ ë³´ì•ˆ í•„í„°ë¥¼ ë¼ìš°í„°ì— ì ìš©í•´ ë³´ì.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>SecurityManager</span> <span style=color:#000>securityManager</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>RouterFunction</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>route</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>route</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>b1</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>b1</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>nest</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>),</span> <span style=color:#000>b2</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>b2</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>getPerson</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>listPeople</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>createPerson</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>filter</span><span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>next</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>securityManager</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>allowAccessTo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>()))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>next</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>handle</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>ServerResponse</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>status</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>UNAUTHORIZED</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>ìœ„ ì˜ˆì œë¥¼ ë³´ë©´ next.handle(ServerRequest) í˜¸ì¶œì€ ì„ íƒì´ë¼ëŠ” ì ì„ ì•Œ ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„  ì ‘ê·¼ì„ í—ˆê°€í•  ë•Œë§Œ ì‹¤í–‰í–ˆë‹¤.
ë¹Œë”ì˜ filter ë©”ì†Œë“œ ëŒ€ì‹  RouterFunction.filter(HandlerFilterFunction)ë¡œ í•„í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤.</p><pre tabindex=0><code>í•¨ìˆ˜í˜• ì—”ë“œí¬ì¸íŠ¸ì—ì„œ CORSëŠ” CorsWebFilterë¡œ ì§€ì›í•œë‹¤.
</code></pre><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=https://docs.spring.io/spring-framework/docs/5.3.27/reference/html/web-reactive.html#webflux-fn>The Spring Framework - Web Reactive - Functional Endpoints</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-2ebe607b413b815db2b35319495701e5>17 - ìŠ¤í”„ë§ WebFluxì˜ WebClientì™€ ë…¼ë¸”ë¡œí‚¹ ì²˜ë¦¬</h1><div class=lead>ìŠ¤í”„ë§ WebFluxëŠ” ë¦¬ì•¡í‹°ë¸Œ, ë…¼ë¸”ë¡œí‚¹ HTTP ìš”ì²­ì„ ìœ„í•œ WebClientë¥¼ ì œê³µí•˜ë©°, ì´ë¥¼ í†µí•´ ì„ ì–¸ì ì¸ í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•˜ë‹¤. WebClientì™€ ì„œë²„ëŠ” ë™ì¼í•œ ë…¼ë¸”ë¡œí‚¹ ì½”ë±ì„ ì‚¬ìš©í•´ ìš”ì²­ê³¼ ì‘ë‹µì„ ì¸ì½”ë”© ë° ë””ì½”ë”©í•œë‹¤.</div><h1 id=webclient>WebClient</h1><p>ìŠ¤í”„ë§ WebFluxëŠ” ë¦¬ì•¡í‹°ë¸Œ, ë…¼ë¸”ë¡œí‚¹ HTTP ìš”ì²­ì„ ìœ„í•œ WebClientë¥¼ ì œê³µí•œë‹¤. ì›¹ í´ë¼ì´ì–¸íŠ¸ëŠ” ë¦¬ì•¡í‹°ë¸Œ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜í˜• APIì´ê¸° ë•Œë¬¸ì— ì„ ì–¸ì ì¸(declarative) í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•˜ë‹¤. ì›¹í”ŒëŸ­ìŠ¤ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ëŠ” ë™ì¼í•œ ë…¼ë¸”ë¡œí‚¹ ì½”ë±ìœ¼ë¡œ ìš”ì²­, ì‘ë‹µì„ ì¸ì½”ë”©, ë””ì½”ë”©í•œë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>WebClientëŠ” ìš”ì²­ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ HTTP í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì²˜ë¦¬ë¥¼ ìœ„ì„í•˜ë©° ì•„ë˜ì™€ ê°™ì€ ê¸°ëŠ¥ì„ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•œë‹¤.</p><ul><li>Reactor Netty</li><li>Jetty Reactive HttpClient</li><li>Apache HttpComponents</li><li>Others can be plugged via ClientHttpConnector.</li></ul><h3 id=configuration>Configuration</h3><p>WebClientëŠ” ê°€ì¥ ê°„ë‹¨í•˜ê²ŒëŠ” ìŠ¤íƒœí‹± íŒ©í† ë¦¬ ë©”ì†Œë“œë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p><ul><li>WebClient.create()</li><li>WebClient.create(String baseUrl)</li></ul><p>ìœ„ ë©”ì†Œë“œëŠ” ë””í´íŠ¸ ì„¸íŒ…ìœ¼ë¡œ Reactor Netty HttpClientë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— io.projectreactor.netty:reactor-nettyê°€ ìˆì–´ì•¼ í•œë‹¤.</p><p>ë‹¤ë¥¸ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë ¤ë©´ WebClient.builder()ë¥¼ ì‚¬ìš©í•œë‹¤.</p><ul><li>uriBuilderFactory: base URLì„ ì»¤ìŠ¤í…€í•œ UriBuilderFactory</li><li>defaultHeader: ëª¨ë“  ìš”ì²­ì— ì‚¬ìš©í•  í—¤ë”</li><li>defaultCookie: ëª¨ë“  ìš”ì²­ì— ì‚¬ìš©í•  ì¿ í‚¤</li><li>defaultRequest: ëª¨ë“  ìš”ì²­ì„ ì»¤ìŠ¤í…€í•  Consumer</li><li>filter: ëª¨ë“  ìš”ì²­ì— ì‚¬ìš©í•  í´ë¼ì´ì–¸íŠ¸ í•„í„°</li><li>exchangeStrategies: HTTP ë©”ì‹œì§€ reader/writer ì»¤ìŠ¤í…€</li><li>clientConnector: HTTP í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •</li></ul><p>ë‹¤ìŒ ì˜ˆì œëŠ” HTTP ì½”ë±ì„ ì„¤ì •í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>codecs</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>configurer</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>...</span> <span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>WebClientëŠ” í•œ ë²ˆ ë¹Œë“œí•˜ê³  ë‚˜ë©´ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤. ë‹¨ ë‹¤ìŒ ì˜ˆì œì™€ ê°™ì´ ì›ë³¸ ì¸ìŠ¤í„´ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ë‘ê³  ë³µì‚¬í•´ì™€ì„œ ì„¤ì •ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client1</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>filter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>filterA</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>filter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>filterB</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client2</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client1</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>mutate</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>filter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>filterC</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>filter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>filterD</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// client1 has filterA, filterB
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// client2 has filterA, filterB, filterC, filterD
</span></span></span></code></pre></div><h3 id=maxinmemorysize>MaxInMemorySize</h3><p>ìŠ¤í”„ë§ WebFluxëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”ëª¨ë¦¬ ì´ìŠˆë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì½”ë±ì˜ ë©”ëª¨ë¦¬ ë²„í¼ ì‚¬ì´ì¦ˆë¥¼ ì œí•œí•œë‹¤. ë””í´íŠ¸ëŠ” 256KBë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ë° ë²„í¼ê°€ ë¶€ì¡±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë³´ì¸ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>org</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>springframework</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>core</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>io</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>buffer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>DataBufferLimitException</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>Exceeded</span> <span style=color:#000>limit</span> <span style=color:#000>on</span> <span style=color:#000>max</span> <span style=color:#000>bytes</span> <span style=color:#000>to</span> <span style=color:#000>buffer</span>
</span></span></code></pre></div><p>ë‹¤ìŒ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ë””í´íŠ¸ ì½”ë±ì˜ ìµœëŒ€ ë²„í¼ ì‚¬ì´ì¦ˆë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>webClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>codecs</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>configurer</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>configurer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>defaultCodecs</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>maxInMemorySize</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#0000cf;font-weight:700>1024</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#0000cf;font-weight:700>1024</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h3 id=reactor-netty>Reactor Netty</h3><p>HttpClientëŠ” Reactor Netty ì„¤ì •ì„ ì»¤ìŠ¤í…€í•  ìˆ˜ ìˆëŠ” ê°„ë‹¨í•œ ì„¤ì • í”„ë¦¬ì…‹ì„ ê°€ì§€ê³  ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>HttpClient</span> <span style=color:#000>httpClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HttpClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>secure</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>sslSpec</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>...);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>webClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>clientConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ReactorClientHttpConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>httpClient</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=resources>Resources</h4><p>ê¸°ë³¸ì ìœ¼ë¡œ HttpClientëŠ” reactor.netty.http.HttpResourcesì— ë¬¶ì—¬ ìˆëŠ” Reactor Nettyì˜ ê¸€ë¡œë²Œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤. ì´ëŠ” ì´ë²¤íŠ¸ ë£¨í”„ ì“°ë ˆë“œì™€ ì»¤ë„¥ì…˜ í’€ë„ í¬í•¨í•œë‹¤.</br>ì´ë²¤íŠ¸ ë£¨í”„ë¡œ ë™ì‹œì„±ì„ ì œì–´í•˜ë ¤ë©´ ê³µìœ  ë¦¬ì†ŒìŠ¤ë¥¼ ê³ ì •í•´ ë†“ê³  ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ê¸° ë•Œë¬¸ì´ë‹¤. ì´ ëª¨ë“œì—ì„œëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ê³µìœ  ìì›ì„ active ìƒíƒœë¡œ ìœ ì§€í•œë‹¤.</br>ì„œë²„ê°€ í”„ë¡œì„¸ìŠ¤ì™€ í•¨ê»˜ ì¤‘ë‹¨ëœë‹¤ë©´ ëª…ì‹œì ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ì¢…ë£Œì‹œí‚¬ í•„ìš”ëŠ” ì—†ë‹¤. í•˜ì§€ë§Œ í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì„œë²„ë¥¼ ì‹œì‘í•˜ê±°ë‚˜ ì¤‘ë‹¨í•  ìˆ˜ ìˆë‹¤ë©´(ì˜ˆë¥¼ ë“¤ì–´ WARë¡œ ë°°í¬í•œ ìŠ¤í”„ë§ MVC ì• í”Œë¦¬ì¼€ì´ì…˜) ë‹¤ìŒ ì˜ˆì œì²˜ëŸ¼ ìŠ¤í”„ë§ì´ ê´€ë¦¬í•˜ëŠ” ReactorResourceFactory ë¹ˆì„ globalResources=trueë¡¤ ì„ ì–¸í•´ì•¼ ìŠ¤í”„ë§ ApplicationContextë¥¼ ë‹«ì„ ë•Œ Reactor Netty ê¸€ëŸ¬ë²Œ ë¦¬ì†ŒìŠ¤ë„ ì¢…ë£Œí•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ReactorResourceFactory</span> <span style=color:#000>reactorResourceFactory</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ReactorResourceFactory</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ì›í•œë‹¤ë©´ ê¸€ë¡œë²Œ Reactor Netty ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ ë§Œë“¤ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œ ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ ì§ì ‘ ëª¨ë“  Reactor Netty í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ê°€ ê³µìœ  ìì›ì„ ì‚¬ìš©í•˜ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ReactorResourceFactory</span> <span style=color:#000>resourceFactory</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ReactorResourceFactory</span> <span style=color:#000>factory</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ReactorResourceFactory</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#000>factory</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setUseGlobalResources</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>factory</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>WebClient</span> <span style=color:#000>webClient</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>Function</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>HttpClient</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpClient</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>mapper</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// Further customizations...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>};</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#000>ClientHttpConnector</span> <span style=color:#000>connector</span> <span style=color:#ce5c00;font-weight:700>=</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ReactorClientHttpConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>resourceFactory</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#000>mapper</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>clientConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>connector</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=timeouts>Timeouts</h4><p>ë‹¤ìŒì€ ì»¤ë„¥ì…˜ íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•˜ëŠ” ì½”ë“œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>io.netty.channel.ChannelOption</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>HttpClient</span> <span style=color:#000>httpClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HttpClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ChannelOption</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>CONNECT_TIMEOUT_MILLIS</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>10000</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>webClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>clientConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ReactorClientHttpConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>httpClient</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>ë‹¤ìŒì€ read/write íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•˜ëŠ” ì½”ë“œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>io.netty.handler.timeout.ReadTimeoutHandler</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>io.netty.handler.timeout.WriteTimeoutHandler</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>HttpClient</span> <span style=color:#000>httpClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HttpClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>doOnConnected</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>conn</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>conn</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addHandlerLast</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ReadTimeoutHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addHandlerLast</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WriteTimeoutHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>)));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Create WebClient...
</span></span></span></code></pre></div><p>ë‹¤ìŒì€ ëª¨ë“  ìš”ì²­ì— ëŒ€í•œ íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•˜ëŠ” ì½”ë“œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>HttpClient</span> <span style=color:#000>httpClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HttpClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>responseTimeout</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Duration</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ofSeconds</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Create WebClient...
</span></span></span></code></pre></div><p>ë‹¤ìŒì€ íŠ¹ì • ìš”ì²­ì— íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•˜ëŠ” ì½”ë“œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://example.org/path&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>httpRequest</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>httpRequest</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>HttpClientRequest</span> <span style=color:#000>reactorRequest</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>httpRequest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getNativeRequest</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>reactorRequest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>responseTimeout</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Duration</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ofSeconds</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><h3 id=jetty>Jetty</h3><p>ë‹¤ìŒì€ Jetty HttpClient ì„¤ì •ì„ ì»¤ìŠ¤í…€í•˜ëŠ” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>HttpClient</span> <span style=color:#000>httpClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HttpClient</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>httpClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCookieStore</span><span style=color:#ce5c00;font-weight:700>(...);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>webClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>clientConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JettyClientHttpConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>httpClient</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>HttpClientëŠ” ì „ìš© ë¦¬ì†ŒìŠ¤(Executor. ByteBufferPool, Scheduler)ë¥¼ ìƒì„±í•´ì„œ ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ê±°ë‚˜ stop()ì„ í˜¸ì¶œí•  ë•Œê¹Œì§€ ìœ ì§€í•œë‹¤.</p><p>ë‹¤ìŒ ì˜ˆì œì²˜ëŸ¼ ìŠ¤í”„ë§ì´ ê´€ë¦¬í•˜ëŠ” JettyResourceFactory ë¹ˆì„ ì •ì˜í•˜ë©´ ì—¬ëŸ¬ Jetty í´ë¼ì´ì–¸íŠ¸(í˜¹ì€ ì„œë²„) ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ê³µìœ í•  ìˆ˜ ìˆê³  ìŠ¤í”„ë§ ApplicationContextë¥¼ ë‹«ì„ ë•Œ ë¦¬ì†ŒìŠ¤ë„ ì¢…ë£Œì‹œí‚¬ ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>JettyResourceFactory</span> <span style=color:#000>resourceFactory</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JettyResourceFactory</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>WebClient</span> <span style=color:#000>webClient</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>HttpClient</span> <span style=color:#000>httpClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HttpClient</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// Further customizations...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#000>ClientHttpConnector</span> <span style=color:#000>connector</span> <span style=color:#ce5c00;font-weight:700>=</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JettyClientHttpConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>httpClient</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>resourceFactory</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>clientConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>connector</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=httpcomponents>HttpComponents</h3><p>ë‹¤ìŒì€ Apache HttpComponents HttpClient ì„¤ì •ì„ ì»¤ìŠ¤í…€í•˜ëŠ” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>HttpAsyncClientBuilder</span> <span style=color:#000>clientBuilder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HttpAsyncClients</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>custom</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>clientBuilder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setDefaultRequestConfig</span><span style=color:#ce5c00;font-weight:700>(...);</span>
</span></span><span style=display:flex><span><span style=color:#000>CloseableHttpAsyncClient</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>clientBuilder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>ClientHttpConnector</span> <span style=color:#000>connector</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HttpComponentsClientHttpConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>webClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>clientConnector</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>connector</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><h2 id=retrieve>retrieve()</h2><p>retrieve()ëŠ” response bodyë¥¼ ë°›ì•„ ë””ì½”ë”©í•˜ëŠ” ê°„ë‹¨í•œ ë©”ì†Œë“œì´ë‹¤. ì‚¬ìš©ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://example.org&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>ResponseEntity</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/persons/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toEntity</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>í˜¹ì€ bodyë§Œ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://example.org&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/persons/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>ë‹¤ìŒ ì˜ˆì œì²˜ëŸ¼ ì‘ë‹µì„ ê°ì²´ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œë„ ë””ì½”ë”©í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Flux</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Quote</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/quotes&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>TEXT_EVENT_STREAM</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToFlux</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Quote</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>4xx ë˜ëŠ” 5xx ì‘ë‹µì½”ë“œë¥¼ ë°›ìœ¼ë©´ ë””í´íŠ¸ëŠ” WebClientResponseException ë˜ëŠ” ê° HTTP ìƒíƒœì— í•´ë‹¹í•˜ëŠ” WebClientResponseException.BadRequest, WebClientResponseException.NotFound ë“±ì˜ í•˜ìœ„ exceptionì„ ë˜ì§„ë‹¤. ë‹¤ìŒ ì˜ˆì œì²˜ëŸ¼ onStatus ë©”ì†Œë“œë¡œ ìƒíƒœë³„ exceptionì„ ì»¤ìŠ¤í…€í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/persons/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onStatus</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpStatus</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>is4xxClientError</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>...)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onStatus</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpStatus</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>is5xxServerError</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>...)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><h2 id=exchange>Exchange</h2><p>exchangeToMono() ë° exchangeToFlux() ë©”ì„œë“œ(ë˜ëŠ” Kotlinì˜ awaitExchange {} ë° exchangeToFlow {})ëŠ” ì‘ë‹µ ìƒíƒœì— ë”°ë¼ ì‘ë‹µì„ ë‹¤ë¥´ê²Œ ë””ì½”ë”©í•˜ëŠ” ë“± ë” ë§ì€ ì œì–´ê°€ í•„ìš”í•œ ê³³ì— ìœ ìš©í•˜ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>entityMono</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/persons/1&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>accept</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>exchangeToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>statusCode</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>equals</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpStatus</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>OK</span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// Turn to error
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>createException</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>flatMap</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>error</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>});</span>
</span></span></code></pre></div><p>ìœ„ì˜ ë°©ë²•ì„ ì‚¬ìš©í•  ë•ŒëŠ” ë°˜í™˜ëœ Mono ë˜ëŠ” Fluxê°€ ì™„ë£Œëœ í›„ ì‘ë‹µ ë³¸ë¬¸ì„ í™•ì¸í•˜ê³  ì†Œë¹„ë˜ì§€ ì•Šì€ ê²½ìš° ë©”ëª¨ë¦¬ ë° ì—°ê²° ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ í•´ì œí•œë‹¤. ë”°ë¼ì„œ ì‘ë‹µì€ ë” ì´ìƒ ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ì—ì„œ ë””ì½”ë”©í•  ìˆ˜ ì—†ë‹¤. í•„ìš”í•œ ê²½ìš° ì‘ë‹µì„ ë””ì½”ë”©í•˜ëŠ” ë°©ë²•ì„ ì„ ì–¸í•˜ëŠ” ê²ƒì€ ì œê³µëœ í•¨ìˆ˜ì— ë‹¬ë ¤ ìˆë‹¤.</p><h2 id=request-body>Request Body</h2><p>request bodyëŠ” Mono, ì½”í‹€ë¦° ì½”ë£¨í‹´ Deferred ë“± ReactiveAdapterRegistryì— ë“±ë¡ëœ ëª¨ë“  ë¹„ë™ê¸° íƒ€ì…ìœ¼ë¡œ ì¸ì½”ë”©í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>personMono</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span> <span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>post</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/persons/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>contentType</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>personMono</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>ë‹¤ìŒ ì˜ˆì œì²˜ëŸ¼ ê°ì²´ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œë„ ì¸ì½”ë”©í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Flux</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>personFlux</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span> <span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>post</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/persons/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>contentType</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>APPLICATION_STREAM_JSON</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>personFlux</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>ë¹„ë™ê¸° íƒ€ì…ì´ ì•„ë‹Œ ì‹¤ì œ ê°’ì„ ê°€ì§€ê³  ìˆë‹¤ë©´ bodyValueë¥¼ ì‚¬ìš©í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Person</span> <span style=color:#000>person</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span> <span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>post</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/persons/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>contentType</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MediaType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>APPLICATION_JSON</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><h3 id=form-data>Form Data</h3><p>form ë°ì´í„°ë¥¼ ë³´ë‚´ë ¤ë©´ MultiValueMap&lt;String, String>ì„ bodyë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì´ ë•ŒëŠ” FormHttpMessageWriterê°€ ìë™ìœ¼ë¡œ content-typeì„ application/x-www-form-urlencodedë¡œ ì„¤ì •í•œë‹¤. ë‹¤ìŒì€ MultiValueMap&lt;String, String>ì„ ì‚¬ìš©í•˜ëŠ” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>MultiValueMap</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>formData</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span> <span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>post</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/path&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>formData</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>BodyInsertersë¥¼ ì‚¬ìš©í•˜ë©´ ì¸ë¼ì¸ìœ¼ë¡œ form ë°ì´í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.web.reactive.function.BodyInserters.*</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>post</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/path&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>fromFormData</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;k1&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;v1&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>with</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;k2&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;v2&#34;</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><h3 id=multipart-data>Multipart Data</h3><p>multipart ë°ì´í„°ë¥¼ ë³´ë‚¼ ë•ŒëŠ” MultiValueMap&lt;String, ?>ì„ ì‚¬ìš©í•´ì„œ ê° valueì— part ì»¨í…ì¸ ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Object ì¸ìŠ¤í„´ìŠ¤ë‚˜ partì˜ ì»¨í…ì¸ ì™€ í—¤ë”ë¥¼ ë‚˜íƒ€ë‚´ëŠ” HttpEntityë¥¼ ë‹´ì•„ì•¼ í•œë‹¤. MultipartBodyBuilderë¥¼ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>MultipartBodyBuilder</span> <span style=color:#000>builder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>MultipartBodyBuilder</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>builder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>part</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;fieldPart&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;fieldValue&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>builder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>part</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;filePart1&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>FileSystemResource</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;...logo.png&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#000>builder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>part</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;jsonPart&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Jason&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span><span style=color:#000>builder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>part</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;myPart&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>part</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// Part from a server request
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#000>MultiValueMap</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpEntity</span><span style=color:#ce5c00;font-weight:700>&lt;?&gt;&gt;</span> <span style=color:#000>parts</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>builder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>ì¼ë°˜ì ìœ¼ë¡œëŠ” partë³„ë¡œ content-typeì„ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ëœë‹¤. Content Typeì€ ì§ë ¬í™”í• ë•Œ ì“°ëŠ” HttpMessageWriterë‚˜ Resourceì˜ ê²½ìš° íŒŒì¼ í™•ì¥ìì— ë”°ë¼ ìë™ìœ¼ë¡œ ê²°ì •í•œë‹¤. í•„ìš”í•˜ë‹¤ë©´ ë¹Œë” part ë©”ì†Œë“œ ì¤‘ MediaTypeì„ ë°›ëŠ” ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
MultiValueMapì„ ë§Œë“¤ì—ˆë‹¤ë©´ ê°€ì¥ ê°„ë‹¨í•˜ê²ŒëŠ” ë‹¤ìŒ ì˜ˆì œì²˜ëŸ¼ body ë©”ì†Œë“œë¡œ WebClientì— ë„˜ê¸¸ ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>MultipartBodyBuilder</span> <span style=color:#000>builder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>post</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/path&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>builder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>())</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><p>MultiValueMapì— ì „í˜•ì ì¸ form ë°ì´í„°(application/x-www-form-urlencoded) ë“± Stringì´ ì•„ë‹Œ ê°“ì´ í•˜ë‚˜ë¼ë„ ë“¤ì–´ìˆìœ¼ë©´ content-typeì„ multipart/form-dataë¡œ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.
MultipartBodyBuilderë¥¼ ì‚¬ìš©í•˜ë©´ í•­ìƒ HttpEntityë¡œ ê°ì‹¸ì£¼ë©´ ëœë‹¤. MultipartBodyBuilder ëŒ€ì‹  BodyInsertersë¥¼ ì‚¬ìš©í•˜ë©´ ì¸ë¼ì¸ìœ¼ë¡œ multipart ì»¨í…ì¸ ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.web.reactive.function.BodyInserters.*</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>post</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/path&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>body</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>fromMultipartData</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;fieldPart&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;value&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>with</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;filePart&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>resource</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><h3 id=filter>Filter</h3><p>ë‹¤ìŒ ì˜ˆì œì™€ ê°™ì´ WebClient.Builderë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ í•„í„°(ExchangeFilterFunction)ë¥¼ ë“±ë¡í•˜ì—¬ ìš”ì²­ì„ ê°€ë¡œì±„ê³  ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>filter</span><span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>next</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000>ClientRequest</span> <span style=color:#000>filtered</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ClientRequest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>from</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>header</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;bar&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>next</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>exchange</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>filtered</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>í•„í„°ëŠ” ì¸ì¦ê³¼ ê°™ì€ êµì°¨ ë¬¸ì œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒ ì˜ˆì œì—ì„œëŠ” ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ í†µí•œ ê¸°ë³¸ ì¸ì¦ì— í•„í„°ë¥¼ ì‚¬ìš©í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.web.reactive.function.client.ExchangeFilterFunctions.basicAuthentication</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>filter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>basicAuthentication</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;user&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>í•„í„°ëŠ” ê¸°ì¡´ ì›¹í´ë¼ì´ì–¸íŠ¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³€ê²½í•˜ì—¬ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì›ë˜ ì›¹í´ë¼ì´ì–¸íŠ¸ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ìƒˆ ì›¹í´ë¼ì´ì–¸íŠ¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import static</span> <span style=color:#000>org.springframework.web.reactive.function.client.ExchangeFilterFunctions.basicAuthentication</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>webClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>mutate</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>filters</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>filterList</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>filterList</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>basicAuthentication</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;user&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>WebClientëŠ” ì¼ë ¨ì˜ í•„í„° ì²´ì¸ì„ ë‘˜ëŸ¬ì‹¸ê³  ìˆëŠ” ì–‡ì€ ì™¸í”¼ì— ExchangeFunctionì´ ë’¤ë”°ë¥¸ë‹¤. ìš”ì²­ì„ í•˜ê³  ìƒìœ„ ìˆ˜ì¤€ ê°ì²´ì™€ ì¸ì½”ë”©í•˜ê¸° ìœ„í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì œê³µí•˜ë©° ì‘ë‹µ ì½˜í…ì¸ ê°€ í•­ìƒ ì†Œë¹„ë˜ë„ë¡ í•˜ëŠ” ë° ë„ì›€ì´ ëœë‹¤.</br>í•„í„°ê°€ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œë“  ì‘ë‹µì„ ì²˜ë¦¬í•  ë•ŒëŠ” í•­ìƒ ì½˜í…ì¸ ë¥¼ ì†Œë¹„í•˜ê±°ë‚˜ ì›¹í´ë¼ì´ì–¸íŠ¸ë¡œ ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „íŒŒí•˜ì—¬ ë™ì¼í•œ ì½˜í…ì¸ ë¥¼ ë³´ì¥í•  ìˆ˜ ìˆë„ë¡ ê°ë³„í•œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤.</br>ë‹¤ìŒ ì˜ˆì œëŠ” ë¯¸ìŠ¹ì¸ ìƒíƒœ ì½”ë“œë¥¼ ì²˜ë¦¬í•˜ì§€ë§Œ ì˜ˆìƒ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ëª¨ë“  ì‘ë‹µ ì½˜í…ì¸ ê°€ ê³µê°œë˜ë„ë¡ í•˜ëŠ” í•„í„°ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ExchangeFilterFunction</span> <span style=color:#000>renewTokenFilter</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>next</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>next</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>exchange</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>flatMap</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>statusCode</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>HttpStatus</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>UNAUTHORIZED</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>releaseBody</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>then</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>renewToken</span><span style=color:#ce5c00;font-weight:700>())</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>flatMap</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>token</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>ClientRequest</span> <span style=color:#000>newRequest</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ClientRequest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>from</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>next</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>exchange</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>newRequest</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>});</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>just</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>});</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=attributes>Attributes</h3><p>ìš”ì²­ì— ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì´ ê¸°ëŠ¥ì€ í•„í„° ì²´ì¸ì„ í†µí•´ ì •ë³´ë¥¼ ì „ë‹¬í•˜ê³  íŠ¹ì • ìš”ì²­ì— ëŒ€í•œ í•„í„°ì˜ ë™ì‘ì— ì˜í–¥ì„ ì£¼ê³ ì í•  ë•Œ í¸ë¦¬í•˜ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>filter</span><span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>next</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Optional</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>usr</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>attribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;myAttribute&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://example.org/&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>attribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;myAttribute&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;...&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Void</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ëª¨ë“  ìš”ì²­ì— ì†ì„±ì„ ì‚½ì…í•  ìˆ˜ ìˆëŠ” WebClient.Builder ìˆ˜ì¤€ì—ì„œ ì „ì—­ì ìœ¼ë¡œ defaultRequest ì½œë°±ì„ êµ¬ì„±í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ì˜ˆë¥¼ ë“¤ì–´ Spring MVC ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ThreadLocal ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìš”ì²­ ì†ì„±ì„ ì±„ìš°ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.</p><h3 id=context>Context</h3><p>ì†ì„±ì€ í•„í„° ì²´ì¸ì— ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” í¸ë¦¬í•œ ë°©ë²•ì„ ì œê³µí•˜ì§€ë§Œ í˜„ì¬ ìš”ì²­ì—ë§Œ ì˜í–¥ì„ ì¤€ë‹¤. ì¤‘ì²©ëœ ì¶”ê°€ ìš”ì²­ì— ì „íŒŒë˜ëŠ” ì •ë³´ë¥¼ ì „ë‹¬í•˜ë ¤ë©´(ì˜ˆë¥¼ ë“¤ì–´ flatMapì„ í†µí•´), ë˜ëŠ” ì´í›„ì— ì‹¤í–‰ë˜ëŠ” ìš”ì²­ì— ì „íŒŒë˜ëŠ” ì •ë³´ë¥¼ ì „ë‹¬í•˜ë ¤ë©´(ì˜ˆë¥¼ ë“¤ì–´ concatMapì„ í†µí•´) Reactor Contextë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p><p>ë‹¤ìŒ ì˜ˆì œëŠ” ë¦¬ì•¡í„° ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¦¬ì•¡í‹°ë¸Œ ì²´ì¸ì˜ ëì— ì±„ì›Œ ëª¨ë“  ì‘ì—…ì— ì ìš©í•˜ëŠ” ê²ƒì„ ë³´ì—¬ì¤€ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>WebClient</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>WebClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>filter</span><span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>next</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>deferContextual</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>contextView</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>String</span> <span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>contextView</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>}))</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://example.org/&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>flatMap</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>body</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// perform nested request (context propagates automatically)...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>contextWrite</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>context</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>context</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;foo&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>...));</span>
</span></span></code></pre></div><h3 id=synchronous-use>Synchronous Use</h3><p>WebClientëŠ” ë§ˆì§€ë§‰ì— ê²°ê³¼ë¥¼ ë¸”ë¡œí‚¹í•˜ë©´ ë™ê¸°(synchronous)ë¡œ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¨ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Person</span> <span style=color:#000>person</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>block</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>persons</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/persons&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bodyToFlux</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>collectList</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>block</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>í•˜ì§€ë§Œ APIë¥¼ ì—¬ëŸ¬ë²ˆ í˜¸ì¶œí•˜ë©´ ê° ì‘ë‹µì„ ë”°ë¡œ ë¸”ë¡œí‚¹í•˜ê¸°ë³´ë‹¤ëŠ” ì „ì²´ ê²°ê³¼ë¥¼ í•©ì³ì„œ ê¸°ë‹¤ë¦¬ëŠ”ê²Œ ë” íš¨ìœ¨ì ì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>personMono</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person/{id}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>personId</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>bodyToMono</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Person</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Hobby</span><span style=color:#ce5c00;font-weight:700>&gt;&gt;</span> <span style=color:#000>hobbiesMono</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>uri</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/person/{id}/hobbies&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>personId</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>retrieve</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>bodyToFlux</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Hobby</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>collectList</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>data</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Mono</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>zip</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>personMono</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>hobbiesMono</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>hobbies</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>map</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>LinkedHashMap</span><span style=color:#ce5c00;font-weight:700>&lt;&gt;();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>map</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>person</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>map</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;hobbies&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>hobbies</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>map</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>block</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><p>ìœ„ ì½”ë“œëŠ” ë‹¨ì§€ í•œ ê°€ì§€ ì˜ˆì‹œì¼ ë¿ì´ë‹¤. ìš”ì²­ì´ ëë‚ ë•Œê¹Œì§€ ë¸”ë¡œí‚¹ í•˜ì§€ ì•Šê³  ë¦¬ì•¡í‹°ë¸Œ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•´ì„œ ìƒí˜¸ë…ë¦½ì ìœ¼ë¡œ ì›ê²© í˜¸ì¶œì„ ì—¬ëŸ¬ë²ˆ ì‹¤í–‰í•˜ëŠ” ë‹¤ë¥¸ íŒ¨í„´ê³¼ ì—°ì‚°ìë„ ë§ë‹¤.</p><pre tabindex=0><code>ìŠ¤í”„ë§ MVCë‚˜ WebFlux ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ Fluxë‚˜ Monoë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë¸”ë¡œí‚¹í•  í•„ìš”ê°€ ì—†ë‹¤. ë‹¨ìˆœíˆ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì†Œë“œì—ì„œ ë¦¬ì•¡í‹°ë¸Œ íƒ€ì…ì„ ë¦¬í„´í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤. ì½”í‹€ë¦° ì½”ë£¨í‹´ê³¼ ìŠ¤í”„ë§ WebFluxì—ì„œë„ ë§ˆì°¬ê°€ì§€ë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì†Œë“œì—ì„œ suspend í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê±°ë¼ Flowë¥¼ ë¦¬í„´í•˜ë©´ ëœë‹¤.
</code></pre><p>ì°¸ê³ ìë£Œ</p><ul><li><a href=https://docs.spring.io/spring-framework/docs/5.3.27/reference/html/web-reactive.html#webflux-client>TThe Spring Framework - Web Reactive - WebClient</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-0ddb00a1ec9b767ebfb20ab06b1ef199>18 - Ajax ì§€ì› ì„œë¹„ìŠ¤</h1><div class=lead>Ajax ì§€ì› ì„œë¹„ìŠ¤ëŠ” J2EE ê°œë°œìê°€ ì‰½ê²Œ Ajax ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ AjaxTags ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì œê³µí•˜ë©°, ìì£¼ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì„ ì»¤ìŠ¤í…€ íƒœê·¸ í˜•íƒœë¡œ ì œê³µí•œë‹¤. ì£¼ìš” ê¸°ëŠ¥ìœ¼ë¡œëŠ” ìë™ì™„ì„±, ì—°ë™ëœ ì…€ë ‰íŠ¸ë°•ìŠ¤, íƒ­ íŒ¨ë„ ë“±ì´ ìˆìœ¼ë©°, ì´ë¥¼ ìœ„í•´ JSP ì„¤ì •ê³¼ Controllerì—ì„œ AjaxXmlBuilderë¡œ ë°ì´í„°ë¥¼ ê°€ê³µí•˜ì—¬ ì²˜ë¦¬í•œë‹¤.</div><h1 id=ajax-ì§€ì›-ì„œë¹„ìŠ¤>Ajax ì§€ì› ì„œë¹„ìŠ¤</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ì¼ë°˜ì ìœ¼ë¡œ Ajax ê¸°ëŠ¥ì€ javascript ì–¸ì–´ë¡œ ê°œë°œí•˜ë‚˜, server-side êµ¬í˜„ì— ìµìˆ™í•œ J2EE ê°œë°œìë“¤ì—ê²ŒëŠ” ì‰½ì§€ ì•Šì€ ì‘ì—…ì´ ë  ìˆ˜ ìˆë‹¤.
Ajax ì§€ì› ì„œë¹„ìŠ¤ì—ì„œëŠ” Ajaxë¥¼ ì´ìš©í•´ ìì£¼ ì‚¬ìš©ë˜ëŠ” ê¸°ëŠ¥ì„ custom tagí˜•íƒœë¡œ ì œê³µí•œë‹¤.
ê¸°ëŠ¥ì€ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ AjaxTagsë¥¼ ì´ìš©í•œë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=ì„¤ì¹˜>ì„¤ì¹˜</h3><p><strong>ì‹œìŠ¤í…œ í™˜ê²½ ë° í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬</strong></p><ul><li>JDK 1.5</li><li>Servlet container running Servlets 2.4+ and JSP 2.0+ (jsp-api 2.0,servlet-api 2.4)</li><li><a href=http://ajaxtags.sourceforge.net/>AjaxTags ë¼ì´ë¸ŒëŸ¬ë¦¬</a></li></ul><p><strong>ì„¤ì¹˜ ìˆœì„œ</strong></p><ol><li><a href="http://sourceforge.net/project/showfiles.php?group_id=140499">AjaxTags Download</a> ì‚¬ì´íŠ¸ì— ê°€ì„œ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ downloadí•œ í›„ WEB-INF/libì— ìœ„ì¹˜ì‹œí‚¨ë‹¤.</li><li>web.xml ì„¤ì •.</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>sourceloader<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-class&gt;</span>net.sourceforge.ajaxtags.servlets.SourceLoader<span style=color:#204a87;font-weight:700>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;init-param&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;param-name&gt;</span>prefix<span style=color:#204a87;font-weight:700>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;param-value&gt;</span>/ajaxtags<span style=color:#204a87;font-weight:700>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/init-param&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/servlet&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>sourceloader<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/ajaxtags/js/*<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>sourceloader<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/ajaxtags/img/*<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>sourceloader<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/ajaxtags/css/*<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></div><h3 id=ajaxtags-tag-reference>AjaxTags Tag Reference</h3><p><strong>ajax:autocomplete</strong></p><p>ìë™ì™„ì„±ê¸°ëŠ¥. ë³´í†µ ê²€ìƒ‰ ì…ë ¥ì°½ì— prefix ë¬¸ìë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ ì¶”ì²œ ê²€ìƒ‰ì–´ë¥¼ ë³´ì—¬ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ì´ìš©.</p><table><thead><tr><th>íŒŒë¼ë¯¸í„°</th><th>ì„¤ëª…</th><th>í•„ìˆ˜ì—¬ë¶€</th></tr></thead><tbody><tr><td>baseUrl</td><td>ìë™ì™„ì„±ê¸°ëŠ¥ì„ ìœ„í•œ ê²°ê³¼ ë°ì´í„°ë¥¼ ë³´ë‚´ì£¼ëŠ” server-side ì•¡ì…˜ì„ ìœ„í•œ URL.</td><td>yes</td></tr><tr><td>source</td><td>ì¶”ì²œ ê²€ìƒ‰ì–´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤„ í…ìŠ¤íŠ¸ í•„ë“œ ì´ë¦„. ì…ë ¥ í•„ë“œì— ì¶”ì²œ ê²€ìƒ‰ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤ë©´ targetê³¼ sourceë¥¼ ë™ì¼í•˜ê²Œ ì…ë ¥í•œë‹¤.</td><td>yes</td></tr><tr><td>target</td><td>ì‚¬ìš©ìê°€ ì…ë ¥í•˜ëŠ” í…ìŠ¤íŠ¸ í•„ë“œ ì´ë¦„.</td><td>yes</td></tr><tr><td>parameters</td><td>baseUrlì— ì¶”ê°€í•  íŒŒë¼ë¯¸í„°ë“¤.ì—¬ëŸ¬ê°œì¼ ê²½ìš° commaë¡œ êµ¬ë³„í•œë‹¤.</td><td>yes</td></tr><tr><td>className</td><td>ì¶”ì²œ ê²€ìƒ‰ë¦¬ìŠ¤íŠ¸ì— ì ìš©í•  CSS í´ë˜ìŠ¤ì´ë¦„</td><td>yes</td></tr><tr><td>indicator</td><td>Ajax ìš”ì²­ì¤‘ì¼ë•Œ ë³´ì—¬ì¤„ í‘œì‹œ.</td><td>no</td></tr><tr><td>minimumCharacters</td><td>Ajax ìš”ì²­ì„ ìœ„í•œ ìµœì†Œ ì…ë ¥ê°’.</td><td>no</td></tr><tr><td>preFunction</td><td>Ajax ìš”ì²­ì´ ì‹œì‘ë˜ê¸° ì „ì— ë™ì‘í•˜ëŠ” function ì´ë¦„.</td><td>no</td></tr><tr><td>postFunction</td><td>Ajax ìš”ì²­ì´ ì™„ë£Œëœ í›„ì— ë™ì‘í•˜ëŠ” function ì´ë¦„.</td><td>no</td></tr><tr><td>errorFunction</td><td>Ajax ìš”ì²­ errorì‹œì— ë™ì‘í•˜ëŠ” function ì´ë¦„.</td><td>no</td></tr></tbody></table><p><strong>ajax:select</strong></p><p>í•˜ë‚˜ì˜ ì…€ë ‰íŠ¸ë°•ìŠ¤ì—ì„œ ê°’ì„ ë³€ê²½í•˜ë©´ ë‹¤ë¥¸ ì…€ë ‰íŠ¸ë°•ìŠ¤ì— ì—°ê´€ëœ ê°’ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ êµ¬ì„±. Linked SelectBox.</p><table><thead><tr><th>íŒŒë¼ë¯¸í„°</th><th>ì„¤ëª…</th><th>í•„ìˆ˜ì—¬ë¶€</th></tr></thead><tbody><tr><td>baseUrl</td><td>ìë™ì™„ì„±ê¸°ëŠ¥ì„ ìœ„í•œ ê²°ê³¼ ë°ì´í„°ë¥¼ ë³´ë‚´ì£¼ëŠ” server-side ì•¡ì…˜ì„ ìœ„í•œ URL.</td><td>yes</td></tr><tr><td>source</td><td>ì¶”ì²œ ê²€ìƒ‰ì–´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤„ í…ìŠ¤íŠ¸ í•„ë“œ ì´ë¦„. ì…ë ¥ í•„ë“œì— ì¶”ì²œ ê²€ìƒ‰ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤ë©´ targetê³¼ sourceë¥¼ ë™ì¼í•˜ê²Œ ì…ë ¥í•œë‹¤.</td><td>yes</td></tr><tr><td>target</td><td>ì‚¬ìš©ìê°€ ì…ë ¥í•˜ëŠ” í…ìŠ¤íŠ¸ í•„ë“œ ì´ë¦„.</td><td>yes</td></tr><tr><td>parameters</td><td>baseUrlì— ì¶”ê°€í•  íŒŒë¼ë¯¸í„°ë“¤.ì—¬ëŸ¬ê°œì¼ ê²½ìš° commaë¡œ êµ¬ë³„í•œë‹¤.</td><td>no</td></tr><tr><td>eventType</td><td>no</td><td></td></tr><tr><td>executeOnLoad</td><td>ì‘ë‹µ ë°ì´í„°ë¡œ select boxë¥¼ êµ¬ì„±í•˜ëŠ” ì¤‘ì¼ë•Œ êµ¬ì„±ì¤‘ì¸ì§€ë¥¼ ë³„ë„ í‘œì‹œë¥¼ í• ì§€ ì—¬ë¶€.[default=false]</td><td>no</td></tr><tr><td>defaultOptions</td><td>Ajax ì‘ë‹µê°’ì´ ì—†ì„ë•Œ ë³´ì—¬ì¤„ ê¸°ë³¸ ë¦¬ìŠ¤íŠ¸. commaë¡œ êµ¬ë³„í•˜ì—¬ ì‘ì„±í•œë‹¤.</td><td>no</td></tr><tr><td>preFunction</td><td>Ajax ìš”ì²­ì´ ì‹œì‘ë˜ê¸° ì „ì— ë™ì‘í•˜ëŠ” function ì´ë¦„.</td><td>no</td></tr><tr><td>postFunction</td><td>Ajax ìš”ì²­ì´ ì™„ë£Œëœ í›„ì— ë™ì‘í•˜ëŠ” function ì´ë¦„.</td><td>no</td></tr><tr><td>errorFunction</td><td>Ajax ìš”ì²­ errorì‹œì— ë™ì‘í•˜ëŠ” function ì´ë¦„.</td><td>no</td></tr><tr><td>parser</td><td>ì‘ë‹µ ë°ì´í„°ì— ëŒ€í•œ parser.[default=ResponseHtmlParser]</td><td>no</td></tr></tbody></table><p><strong>ajax:tabPanel</strong></p><p>íƒ­ìœ¼ë¡œ êµ¬ì„±ëœ í˜ì´ì§€ë“¤ ìƒˆë¡œ ê³ ì¹¨ ì—†ì´ ë³´ì—¬ ì¤„ë•Œ.</p><table><thead><tr><th>íŒŒë¼ë¯¸í„°</th><th>ì„¤ëª…</th><th>í•„ìˆ˜ì—¬ë¶€</th></tr></thead><tbody><tr><td>id</td><td>tabPanelì˜ ID</td><td>yes</td></tr><tr><td>preFunction</td><td>Ajax ìš”ì²­ì´ ì‹œì‘ë˜ê¸° ì „ì— ë™ì‘í•˜ëŠ” function ì´ë¦„.</td><td>no</td></tr><tr><td>postFunction</td><td>Ajax ìš”ì²­ì´ ì™„ë£Œëœ í›„ì— ë™ì‘í•˜ëŠ” function ì´ë¦„.</td><td>no</td></tr><tr><td>errorFunction</td><td>Ajax ìš”ì²­ errorì‹œì— ë™ì‘í•˜ëŠ” function ì´ë¦„.</td><td>no</td></tr><tr><td>parser</td><td>ì‘ë‹µ ë°ì´í„°ì— ëŒ€í•œ parser.[default=ResponseHtmlParser]</td><td>no</td></tr></tbody></table><p><strong>others</strong></p><p>ì´ì™¸ì—ë„ ì—¬ëŸ¬ ê¸°ëŠ¥ì´ ìˆë‹¤. AjaxTagsì˜ Tag ë ˆí¼ëŸ°ìŠ¤ ë° ì‚¬ìš©ë²•ì€ ì•„ë˜ AjaxTags ì‚¬ì´íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><h3 id=ê³µí†µì ì¸-ê°œë°œ-ì‘ì—…>ê³µí†µì ì¸ ê°œë°œ ì‘ì—…</h3><p>AjaxTagsì˜ ì–´ë–¤ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë˜ì§€, ì•„ë˜ì˜ ì‘ì—…ì€ ê³µí†µì ìœ¼ë¡œ ë°œìƒí•œë‹¤.</p><h4 id=jsp>JSP</h4><p><strong>íƒœê·¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ ì–¸</strong></p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;%@ taglib prefix=&#34;ajax&#34; ri=&#34;http://ajaxtags.sourceforge.net/tags/ajaxtags&#34; %&gt;
</code></pre><p><strong>Javascript, CSS ì„ ì–¸</strong></p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/prototype.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/scriptaculous/scriptaculous.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/overlibmws/overlibmws.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/ajaxtags.js&#34;&gt;&lt;/script&gt;
&lt;link type=&#34;text/css&#34; rel=&#34;stylesheet&#34; href=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/css/ajaxtags.css&#34; /&gt;
&lt;link type=&#34;text/css&#34; rel=&#34;stylesheet&#34; href=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/css/displaytag.css&#34; /&gt;
</code></pre><h4 id=controller>Controller</h4><p>AjaxTagsë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ê²°ê³¼ ë°ì´í„°ê°€ AjaxTagsì—ì„œ ë°ì´í„° í˜•ì‹(XML style)ì„ ê°–ì¶”ì–´ì•¼ í•œë‹¤.
ì´ë¥¼ ìœ„í•´ AjaxTagsëŠ” AjaxXmlBuilderë¼ëŠ” ë°ì´í„° ê°€ê³µì„ ìœ„í•œ APIë¥¼ ì œê³µí•œë‹¤.
ê²°ê³¼ ë°ì´í„°ë¥¼ AjaxXmlBuilderë¥¼ ì´ìš©í•´ì„œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì„ Viewì—ì„œ í•  ìˆ˜ë„ ìˆì§€ë§Œ, Viewì˜ ê°¯ìˆ˜ê°€ ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ì¶”ê°€ë  ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ,
Controllerì—ì„œ ë³€í™˜í•œ í›„ì— Model ê°ì²´ì— ë‹´ì•„ì„œ Viewë¡œ ë³´ë‚´ê³  ViewëŠ” ê³µí†µìœ¼ë¡œ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ê¸°ë¥¼ ê¶Œí•œë‹¤.</p><p><strong>org.ajaxtags.helpers.AjaxXmlBuilder</strong></p><p>ajaxXml modelì— ì¶”ê°€í•˜ê¸°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>deptList</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDepartmentList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>param</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>AjaxXmlBuilder</span> <span style=color:#000>ajaxXmlBuilder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>AjaxXmlBuilder</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>for</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Iterator</span> <span style=color:#000>iter</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>deptList</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>iterator</span><span style=color:#ce5c00;font-weight:700>();</span> <span style=color:#000>iter</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasNext</span><span style=color:#ce5c00;font-weight:700>();)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Department</span> <span style=color:#000>dept</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Department</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>iter</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>next</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>  <span style=color:#000>ajaxXmlBuilder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addItem</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>dept</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDeptname</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#000>dept</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getDeptid</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;ajaxXml&#34;</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#000>ajaxXmlBuilder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toString</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span></code></pre></div><p>ê²°ê³¼ ë°ì´í„°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;ajax-response&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;response&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;item&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;name&gt;</span>ì ì‹¬ë©”ë‰´ê¸°íšíŒ€<span style=color:#204a87;font-weight:700>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;value&gt;</span>1200<span style=color:#204a87;font-weight:700>&lt;/value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/item&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;item&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;name&gt;</span>ì•¼ê·¼ê¸ˆì§€ì—­ëŸ‰íŒ€<span style=color:#204a87;font-weight:700>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;value&gt;</span>1300<span style=color:#204a87;font-weight:700>&lt;/value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/item&gt;</span>
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;/response&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/ajax-response&gt;</span>
</span></span></code></pre></div><h4 id=view>View</h4><p>JSP í˜ì´ì§€ì— í”„ë¦°íŠ¸ë˜ëŠ” ì¼ë°˜ì ì¸ ì‘ë‹µë°©ì‹ì´ ì•„ë‹ˆë¯€ë¡œ, ì‘ë‹µ ì²˜ë¦¬ë¥¼ ìœ„í•œ ê³µí†µ Viewë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.
ê²°ê³¼ë°ì´í„°ì˜ í˜•ì‹(XML)ì„ ì‘ë‹µ ê°ì²´ì— ì„¤ì •í•œë‹¤.
Controllerì—ì„œ ë³´ë‚¸ Modelê°ì²´ì˜ ê²°ê³¼ë°ì´í„°ë¥¼ êº¼ë‚´ writeí•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.view</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.io.PrintWriter</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.Map</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>javax.servlet.http.HttpServletRequest</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>javax.servlet.http.HttpServletResponse</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.servlet.view.AbstractView</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>AjaxXmlView</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>AbstractView</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>renderMergedOutputModel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Map</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setContentType</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;text/xml&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setHeader</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Cache-Control&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;no-cache&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCharacterEncoding</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;UTF-8&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>PrintWriter</span> <span style=color:#000>writer</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getWriter</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>writer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>write</span><span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;ajaxXml&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>  <span style=color:#8f5902;font-style:italic>//Model Attribute ì´ë¦„ì€ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>writer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>close</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=ì˜ˆì œ>ì˜ˆì œ</h3><h4 id=ajaxautocomplete>ajax:autocomplete</h4><p>ì‚¬ì› ì •ë³´ ì¡°íšŒ í˜ì´ì§€ì—ì„œ, ì¡°íšŒ ì¡°ê±´ì¤‘ì— í•˜ë‚˜ì¸ ì´ë¦„ í•„ë“œì— ìë™ì™„ì„±ê¸°ëŠ¥(autocomplete)ì„ ì ìš©í•´ ë³´ì.
ê²€ìƒ‰í•˜ë ¤ëŠ” ì´ë¦„ì„ ì…ë ¥í•˜ê¸° ì‹œì‘í•˜ë©´, ì…ë ¥ê°’ì— í•´ë‹¹í•˜ëŠ” prefixë¥¼ ê°€ì§„ ì´ë¦„ë“¤ì´ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸ë¡œ ë‚˜ì˜¨ë‹¤.</p><p><img src=../images/ajax-autocomplete-sample.png alt=ajax-autocomplete-sample></p><p><strong>JSP</strong></p><p>/easycompany/webapp/WEB-INF/jsp/employeelist.jsp</p><pre tabindex=0><code class=language-jsp data-lang=jsp>...
&lt;%@ taglib prefix=&#34;ajax&#34; uri=&#34;http://ajaxtags.sourceforge.net/tags/ajaxtags&#34; %&gt;
...
&lt;!--Ajax Tags--&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/prototype.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/scriptaculous/scriptaculous.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/overlibmws/overlibmws.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/ajaxtags.js&#34;&gt;&lt;/script&gt;
&lt;link type=&#34;text/css&#34; rel=&#34;stylesheet&#34; href=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/css/ajaxtags.css&#34; /&gt;
&lt;link type=&#34;text/css&#34; rel=&#34;stylesheet&#34; href=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/css/displaytag.css&#34; /&gt;
...
&lt;form:form commandName=&#34;searchCriteria&#34; action=&#34;/easycompany/employeeList.do&#34;&gt;
&lt;table width=&#34;50%&#34; border=&#34;1&#34;&gt;
	&lt;tr&gt;
		&lt;td&gt;ì‚¬ì›ë²ˆí˜¸ :  &lt;form:input path=&#34;searchEid&#34;/&gt; &lt;/td&gt;
		&lt;td&gt;ë¶€ì„œë²ˆí˜¸ : &lt;form:input path=&#34;searchDid&#34;/&gt; &lt;/td&gt;
		&lt;td&gt;ì´ë¦„ :   &lt;form:input path=&#34;searchName&#34;/&gt;
		&lt;/td&gt;
		&lt;td&gt;&lt;input type=&#34;submit&#34; value=&#34;ê²€ìƒ‰&#34; onclick=&#34;this.disabled=true,this.form.submit();&#34; /&gt;&lt;/td&gt;
	&lt;/tr&gt;	
&lt;/table&gt;
&lt;/form:form&gt;
 
&lt;ajax:autocomplete 
  baseUrl=&#34;${pageContext.request.contextPath}/suggestName.do&#34; 
  source=&#34;searchName&#34; 
  target=&#34;searchName&#34; 
  className=&#34;autocomplete&#34; 
  minimumCharacters=&#34;1&#34; /&gt;
...
</code></pre><p><strong>Controller</strong></p><p>com.easycompany.controller.annotation.AjaxController</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.annotation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>net.sourceforge.ajaxtags.xml.AjaxXmlBuilder</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>com.easycompany.view.AjaxXmlView</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>AjaxController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Autowired</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>EmployeeService</span> <span style=color:#000>employeeService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Autowired</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>DepartmentService</span> <span style=color:#000>departmentService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/suggestName.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>suggestName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@RequestParam</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;searchName&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>String</span> <span style=color:#000>searchName</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>ModelAndView</span> <span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>AjaxXmlView</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>		<span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>nameList</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>employeeService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getNameListForSuggest</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>searchName</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>AjaxXmlBuilder</span> <span style=color:#000>ajaxXmlBuilder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>AjaxXmlBuilder</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>for</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000>nameList</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>			<span style=color:#000>ajaxXmlBuilder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addItem</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;ajaxXml&#34;</span><span style=color:#ce5c00;font-weight:700>,</span><span style=color:#000>ajaxXmlBuilder</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toString</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>í•œê¸€ì²˜ë¦¬ì„¤ì •</strong></p><p>ìœ„ ì˜ˆì œì—ì„œ ë³´ë©´ <code>'/suggestName.do?searchName=ê¹€'</code> ê°™ì´, ì‚¬ì› ì´ë¦„ prefixê°’ì´ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë˜ëŠ”ë°,
íŒŒë¼ë¯¸í„° ê°’ì´ í•œê¸€ì¸ ê²½ìš° ì œëŒ€ë¡œ ì²˜ë¦¬ë˜ê¸° ìœ„í•´ì„œëŠ”, <code>{Tomcat DIR}/conf/server.xml</code>ì— ì¸ì½”ë”© ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.
UTF-8 ì¸ì½”ë”©ì„ í•œë‹¤ë©´, <code>&lt;Connector/></code> íƒœê·¸ì— URIEncoding=â€œutf-8â€ì„ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>...
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;Connector</span> <span style=color:#c4a000>port=</span><span style=color:#4e9a06>&#34;8080&#34;</span> <span style=color:#c4a000>maxHttpHeaderSize=</span><span style=color:#4e9a06>&#34;8192&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#c4a000>maxThreads=</span><span style=color:#4e9a06>&#34;150&#34;</span> <span style=color:#c4a000>minSpareThreads=</span><span style=color:#4e9a06>&#34;25&#34;</span> <span style=color:#c4a000>maxSpareThreads=</span><span style=color:#4e9a06>&#34;75&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#c4a000>enableLookups=</span><span style=color:#4e9a06>&#34;false&#34;</span> <span style=color:#c4a000>redirectPort=</span><span style=color:#4e9a06>&#34;8443&#34;</span> <span style=color:#c4a000>acceptCount=</span><span style=color:#4e9a06>&#34;100&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#c4a000>connectionTimeout=</span><span style=color:#4e9a06>&#34;20000&#34;</span> <span style=color:#c4a000>disableUploadTimeout=</span><span style=color:#4e9a06>&#34;true&#34;</span> <span style=color:#c4a000>URIEncoding=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;Connector</span> <span style=color:#c4a000>port=</span><span style=color:#4e9a06>&#34;8009&#34;</span> 
</span></span><span style=display:flex><span>               <span style=color:#c4a000>enableLookups=</span><span style=color:#4e9a06>&#34;false&#34;</span> <span style=color:#c4a000>redirectPort=</span><span style=color:#4e9a06>&#34;8443&#34;</span> <span style=color:#c4a000>protocol=</span><span style=color:#4e9a06>&#34;AJP/1.3&#34;</span> <span style=color:#c4a000>URIEncoding=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><h4 id=ajaxselect>ajax:select</h4><p>ì‚¬ì› ì •ë³´ ìˆ˜ì •(ì…ë ¥) í˜ì´ì§€ì—ì„œ,
ìƒìœ„ ë¶€ì„œ ì •ë³´ select boxì—ì„œ í•œ ë¶€ì„œë¥¼ ì„ íƒí•˜ë©´, í•˜ìœ„ ë¶€ì„œ ì •ë³´ select boxëŠ” í•´ë‹¹ ìƒìœ„ ë¶€ì„œì— ì†í•œ í•˜ìœ„ ë¶€ì„œ ì •ë³´ë“¤ë¡œ ì˜µì…˜ì„ êµ¬ì„±í•œë‹¤.</p><p><img src=../images/ajax-select-sample.png alt=ajax-select-sample></p><p><strong>JSP</strong></p><p>/easycompany/webapp/WEB-INF/jsp/addemployee.jsp, /easycompany/webapp/WEB-INF/jsp/modifyemployee.jsp</p><pre tabindex=0><code class=language-jsp data-lang=jsp>...
&lt;%@ taglib prefix=&#34;ajax&#34; uri=&#34;http://ajaxtags.sourceforge.net/tags/ajaxtags&#34; %&gt;
...
&lt;!--Ajax Tags--&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/prototype.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/scriptaculous/scriptaculous.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/overlibmws/overlibmws.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/ajaxtags.js&#34;&gt;&lt;/script&gt;
&lt;link type=&#34;text/css&#34; rel=&#34;stylesheet&#34; href=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/css/ajaxtags.css&#34; /&gt;
&lt;link type=&#34;text/css&#34; rel=&#34;stylesheet&#34; href=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/css/displaytag.css&#34; /&gt;
...
&lt;form:form commandName=&#34;employee&#34;&gt;
...
	&lt;tr&gt;
		&lt;th&gt;ë¶€ì„œë²ˆí˜¸&lt;/th&gt;
		&lt;td&gt;
			&lt;form:select path=&#34;superdeptid&#34;&gt;
				&lt;option value=&#34;&#34;&gt;ìƒìœ„ë¶€ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”.&lt;/option&gt;
				&lt;form:options items=&#34;${deptInfoOneDepthCategory}&#34; /&gt;
			&lt;/form:select&gt;
			&lt;form:select path=&#34;departmentid&#34;&gt;
				&lt;option value=&#34;&#34;&gt;ê·¼ë¬´ë¶€ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”.&lt;/option&gt;
				&lt;form:options items=&#34;${deptInfoTwoDepthCategory}&#34; /&gt;
			&lt;/form:select&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
...
&lt;/form:form&gt;
 
&lt;ajax:select 
    baseUrl=&#34;${pageContext.request.contextPath}/autoSelectDept.do&#34;  
    parameters=&#34;depth=2,superdeptid={superdeptid}&#34; 
    source=&#34;superdeptid&#34; 
    target=&#34;departmentid&#34; 
    emptyOptionName=&#34;Select model&#34;/&gt;
...
</code></pre><h4 id=ajaxtabpanel-ajaxtab>ajax:tabPanel, ajax:tab</h4><p>ë¶€ì„œì •ë³´ í˜ì´ì§€ì—ì„œ ê° ìƒìœ„ë¶€ì„œì— ì†í•œ í•˜ìœ„ë¶€ì„œë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤„ë•Œ, tabìœ¼ë¡œ ì²˜ë¦¬í•´ì„œ ë³´ì—¬ì¤€ë‹¤.</p><p><img src=../images/ajax-tabpanel-sample.png alt=ajax-tabpanel-sample></p><p><strong>JSP</strong></p><p>/easycompany/webapp/WEB-INF/jsp/departmentlist.jsp</p><pre tabindex=0><code class=language-jsp data-lang=jsp>...
&lt;%@ taglib prefix=&#34;ajax&#34; uri=&#34;http://ajaxtags.sourceforge.net/tags/ajaxtags&#34; %&gt;
...
&lt;!--Ajax Tags--&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/prototype.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/scriptaculous/scriptaculous.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/overlibmws/overlibmws.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/js/ajaxtags.js&#34;&gt;&lt;/script&gt;
&lt;link type=&#34;text/css&#34; rel=&#34;stylesheet&#34; href=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/css/ajaxtags.css&#34; /&gt;
&lt;link type=&#34;text/css&#34; rel=&#34;stylesheet&#34; href=&#34;&lt;%=request.getContextPath()%&gt;/ajaxtags/css/displaytag.css&#34; /&gt;
...
		&lt;ajax:tabPanel id=&#34;departmentTab&#34;&gt;
		&lt;c:forEach items=&#34;${departmentlist}&#34; var=&#34;departmentinfo&#34; varStatus=&#34;status&#34;&gt;
			&lt;c:choose&gt;
				&lt;c:when test=&#34;${status.first}&#34;&gt;
			        &lt;ajax:tab caption=&#34;${departmentinfo.deptname}&#34; 
					  baseUrl=&#34;/easycompany/subDepartmentList.do?superdeptid=${departmentinfo.deptid}&amp;depth=2&#34;
					  defaultTab=&#34;true&#34;/&gt;
				&lt;/c:when&gt;
				&lt;c:otherwise&gt;
				&lt;ajax:tab caption=&#34;${departmentinfo.deptname}&#34; 
					  baseUrl=&#34;/easycompany/subDepartmentList.do?superdeptid=${departmentinfo.deptid}&amp;depth=2&#34;/&gt;
				&lt;/c:otherwise&gt;
			&lt;/c:choose&gt;
		&lt;/c:forEach&gt;
		&lt;/ajax:tabPanel&gt;
...
</code></pre><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=http://ajaxtags.sourceforge.net/index.html>AjaxTags Web Site</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-3910939c1a51aaefec093fee2eff210d>19 - Internationalization(êµ­ì œí™”)</h1><div class=lead>Spring MVCëŠ” Cookie, Session, AcceptHeaderë¥¼ ì´ìš©í•œ LocaleResolverë¥¼ ì œê³µí•˜ë©°, ë‹¤êµ­ì–´ ë©”ì‹œì§€ëŠ” ResourceBundleMessageSourceë¥¼ í†µí•´ ê´€ë¦¬ëœë‹¤. ì‚¬ìš©ìëŠ” LocaleChangeInterceptorë¥¼ í†µí•´ ì–¸ì–´ë¥¼ ë³€ê²½í•˜ê³ , JSPì—ì„œ <code>&lt;spring:message></code> íƒœê·¸ë¡œ í•´ë‹¹ ì–¸ì–´ì— ë§ëŠ” ë©”ì‹œì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆë‹¤.</div><h1 id=internationalizationêµ­ì œí™”>Internationalization(êµ­ì œí™”)</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ì „ìì •ë¶€ í‘œì¤€ í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” Spring MVC ì—ì„œ ì œê³µí•˜ëŠ” LocaleResolverë¥¼ ì´ìš©í•œë‹¤.
ìš°ë¦¬ëŠ” ì—¬ê¸°ì„œ LocaleResolverë¥¼ ì•Œì•„ë³´ê³  ì ìš©í•˜ëŠ” ì„¤ì •ê³¼ ë‹¤êµ­ì–´ê°€ ì ìš©ëœ message resource ë¥¼ ê°€ì ¸ì™€ í™œìš©í•˜ëŠ” ê²ƒì„ ë³´ë„ë¡ í•˜ê² ë‹¤.
Spring MVC ëŠ” ë‹¤êµ­ì–´ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•˜ì—¬ ì•„ë˜ì™€ ê°™ì€ ì¢…ë¥˜ì˜ LocaleResolver ë¥¼ ì œê³µí•˜ê³  ìˆë‹¤.</p><ul><li>CookieLocaleResolver<ul><li>ì¿ í‚¤ë¥¼ ì´ìš©í•œ localeì •ë³´ ì‚¬ìš©</li></ul></li><li>SessionLocaleResolver<ul><li>ì„¸ì…˜ì„ ì´ìš©í•œ localeì •ë³´ ì‚¬ìš©</li></ul></li><li>AcceptHeaderLocaleResolver<ul><li>í´ë¼ì´ì–¸íŠ¸ì˜ ë¸Œë¼ìš°ì ¸ì— ì„¤ì •ëœ localeì •ë³´ ì‚¬ìš©</li></ul></li></ul><p><strong>Bean ì„¤ì • íŒŒì¼ì— ì •ì˜í•˜ì§€ ì•Šì„ ê²½ìš° AcceptHeaderLocaleResolver ë¥¼ default ë¡œ ì ìš©ëœë‹¤.</strong></p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=3ê°€ì§€ì˜-localeresolver>3ê°€ì§€ì˜ LocaleResolver</h3><h4 id=cookielocaleresolver>CookieLocaleResolver</h4><p>CookieLocaleResolver ë¥¼ ì„¤ì •í•˜ëŠ” ê²½ìš° ì‚¬ìš©ìì˜ ì¿ í‚¤ì— ì„¤ì •ëœ Locale ì„ ì½ì–´ ë“¤ì¸ë‹¤.
samlple-servlet.xml</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;localeResolver&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.i18n.CookieLocaleResolver&#34;</span> <span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;cookieName&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;clientlanguage&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>   
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;cookieMaxAge&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;100000&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;cookiePath&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;web/cookie&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>ë‹¤ìŒê³¼ ê°™ì€ ì†ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><table><thead><tr><th>ì†ì„±</th><th>ê¸°ë³¸ê°’</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>cookieName</td><td>classname + locale</td><td>ì¿ í‚¤ ëª…</td></tr><tr><td>cookieMaxAge</td><td>integer.MAX_INT</td><td>-1 ë¡œ í•´ë‘ë©´ ë¸Œë¼ìš°ì €ë¥¼ ë‹«ì„ ë•Œ ì—†ì–´ì§</td></tr><tr><td>cookiepath</td><td>/</td><td>Path ë¥¼ ì§€ì •í•˜ë©´ í•´ë‹¹í•˜ëŠ” Pathì™€ ê·¸ í•˜ìœ„ Path ì—ì„œë§Œ ì°¸ì¡°</td></tr></tbody></table><h4 id=sessionlocaleresolver>SessionLocaleResolver</h4><p>requstê°€ ê°€ì§€ê³  ìˆëŠ” sessionìœ¼ë¡œ ë¶€í„° locale ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
samlple-servlet.xml</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;localeResolver&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.i18n.SessionLocaleResolver&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h4 id=acceptheaderlocaleresolver>AcceptHeaderLocaleResolver</h4><p>ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì—ì„œ ë³´ë‚´ì§„ request ì˜ í—¤ë”ì— accept-language ë¶€ë¶„ì—ì„œ Locale ì„ ì½ì–´ ë“¤ì¸ë‹¤. ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì˜ Locale ì„ ë‚˜íƒ€ë‚¸ë‹¤.
samlple-servlet.xml</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;localeResolver&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><h3 id=xml-ì„¤ì •>XML ì„¤ì •</h3><h4 id=web-configuration>Web Configuration</h4><p>Web ì„ í†µí•´ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ Charset UTF-8 ì ìš©í•œë‹¤.</p><p>CharacterEncodingFilter ì„ ì´ìš©í•˜ì—¬ encoding í•  ìˆ˜ ì´ë„ë¡ ì•„ë˜ì™€ ê°™ì´ ì„¸íŒ…í•œë‹¤.</p><p><strong>web.xml</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>...
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;filter&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>&lt;filter-name&gt;</span>encoding-filter<span style=color:#204a87;font-weight:700>&lt;/filter-name&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>&lt;filter-class&gt;</span>
</span></span><span style=display:flex><span>           org.springframework.web.filter.CharacterEncodingFilter
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>&lt;/filter-class&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>&lt;init-param&gt;</span>
</span></span><span style=display:flex><span>           <span style=color:#204a87;font-weight:700>&lt;param-name&gt;</span>encoding<span style=color:#204a87;font-weight:700>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>           <span style=color:#204a87;font-weight:700>&lt;param-value&gt;</span>UTF-8<span style=color:#204a87;font-weight:700>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>&lt;/init-param&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;/filter&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;filter-mapping&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;filter-name&gt;</span>encoding-filter<span style=color:#204a87;font-weight:700>&lt;/filter-name&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/*<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;/filter-mapping&gt;</span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h4 id=spring-configuration>Spring Configuration</h4><p>ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì˜ Locale ì •ë³´ë¥¼ ì´ìš©í•˜ì§€ ì•Šê³  ì‚¬ìš©ìê°€ ì„ íƒí•˜ì—¬ ì–¸ì–´ë¥¼ ì§ì ‘ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ë ¤ í•œë‹¤ë©´ CookieLocaleResolver ë‚˜ SessionLocaleResolver ë¥¼ ì´ìš©í•œë‹¤. ë¨¼ì € ë‹¤êµ­ì–´ë¥¼ ì§€ì›í•´ì•¼ í•˜ë¯€ë¡œ ë©”ì„¸ì§€ë¥¼ MessageSource ë¡œ ì¶”ì¶œí•˜ì—¬ êµ¬í˜„í•´ì•¼ í•œë‹¤.
messageSourceëŠ” ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•˜ì˜€ë‹¤.</p><p><strong>samlple-servlet.xml</strong></p><p>context-common.xml ë“±ì— ì„¤ì •ëœ ê²½ìš° ì„¤ì •í•  í•„ìš”ëŠ” ì—†ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;messageSource&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.context.support.ResourceBundleMessageSource&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;basenames&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;value&gt;</span>classpath:/message/message<span style=color:#204a87;font-weight:700>&lt;/value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div><h3 id=xml-ì„¤ì •-1>XML ì„¤ì •</h3><p>message properties íŒŒì¼ì€ ì•„ë˜ì™€ ê°™ë‹¤.
localeì— ë”°ë¼ ko, en ìœ¼ë¡œ êµ¬ë¶„í•˜ì˜€ë‹¤.
message_ko.properties</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#c4a000>view.category</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ì¹´í…Œê³ ë¦¬</span>
</span></span></code></pre></div><p>message_en.properties</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#c4a000>view.category</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>category</span>
</span></span></code></pre></div><p>ResourceBundleMessageSource ëŠ” beannames ëª…ìœ¼ë¡œ messages ì„ ë°›ì•„ì˜¤ëŠ”ë° ë””í´íŠ¸ì˜ ê²½ìš°ëŠ” messages.properties ì—ì„œ messageë¥¼ ë°›ì•„ì˜¤ê³  locale ì´ í•œêµ­ì–´ì¼ ê²½ìš°ëŠ” messages_ko_KRproperties ì—ì„œ ë°›ì•„ì˜¤ê³  ì˜ì–´ì¼ ê²½ìš°ëŠ” messages_en_US.properties ì—ì„œ ë°›ì•„ì˜¨ë‹¤. ì•„ë˜ì™€ ê°™ì´ localeResover ê³¼ localeChangeInterceptor ë¥¼ ë“±ë¡í•˜ê³  Annotation ê¸°ë°˜ì—ì„œ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ <strong>DefaultAnnotationHandlerMapping</strong> ì— interceptor ë¡œ ë“±ë¡ì„ í•´ì¤€ë‹¤.</p><p><strong>samlple-servlet.xml</strong> (Spring 3.0ì´í•˜)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- ì„¸ì…˜ì„ ì´ìš©í•œ Locale ì´ìš©ì‹œ--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;localeResolver&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.i18n.SessionLocaleResolver&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- ì¿ í‚¤ë¥¼ ì´ìš©í•œ Locale ì´ìš©ì‹œ  
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;bean id=&#34;localeResolver&#34; class=&#34;org.springframework.web.servlet.i18n.CookieLocaleResolver&#34;/&gt;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;localeChangeInterceptor&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;paramName&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;language&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;annotationMapper&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;interceptors&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;ref</span> <span style=color:#c4a000>bean=</span><span style=color:#4e9a06>&#34;localeChangeInterceptor&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div><p><strong>samlple-servlet.xml</strong> (Spring 3.1ì´ìƒ, ì‹¤í–‰í™˜ê²½ ëŒ€ë¶€ë¶„ ë²„ì „ì´ í•´ë‹¹ëœë‹¤.)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- ì„¸ì…˜ì„ ì´ìš©í•œ Locale ì´ìš©ì‹œ--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;localeResolver&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.i18n.SessionLocaleResolver&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- ì¿ í‚¤ë¥¼ ì´ìš©í•œ Locale ì´ìš©ì‹œ  
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;bean id=&#34;localeResolver&#34; class=&#34;org.springframework.web.servlet.i18n.CookieLocaleResolver&#34;/&gt;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;localeChangeInterceptor&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;paramName&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;language&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;webBindingInitializer&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.com.cmm.web.EgovBindingInitializer&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;interceptors&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;ref</span> <span style=color:#c4a000>bean=</span><span style=color:#4e9a06>&#34;localeChangeInterceptor&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div><p><strong>ì„¤ì • ì£¼ì˜ì‚¬í•­</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;mvc:annotation-driven/&gt;</span>
</span></span></code></pre></div><p>ìœ„ì˜ ë‚´ìš©ì´ ì„¤ì •ë˜ì–´ ìˆì„ ê²½ìš° ìƒë‹¨ì˜ RequestMappingHandlerAdapter, RequestMappingHandlerMapping ì„¤ì •ì´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. <code>mvc:annotation-driven</code>ì´ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ìœ„ beanì„ ìƒì„±í•˜ë¯€ë¡œ servlet xmlì— ì„ ì–¸ë˜ì–´ ìˆì„ ê²½ìš° ì£¼ì„ ì²˜ë¦¬í•œë‹¤. ì„¸ë¶€ ë‚´ìš©ì€ Spring MVC Tag Configuration ì„ ì°¸ê³ í•œë‹¤.
<code>mvc:annotation-driven</code>ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì¸í„°ì…‰í„°ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸í•´ì•¼ í•œë‹¤. RequestMappingHandlerAdapter, RequestMappingHandlerMapping Beanì˜ ì„¤ì • ë‚´ìš©ì„ ì‚­ì œí•˜ê³ , ì•„ë˜ì˜ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;mvc:interceptors&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;mvc:interceptor&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;mvc:mapping</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/**&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;localeChangeInterceptor&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;paramName&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;language&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>	    <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/mvc:interceptor&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/mvc:interceptors&gt;</span>
</span></span></code></pre></div><p>SessionLocaleResolver ë¥¼ ì´ìš©í•˜ì—¬ ìœ„ì™€ ê°™ì´ í•˜ì˜€ì„ ê²½ìš° Locale ê²°ì •ì€ <strong>language</strong> ë¡œ Request Parameter ë¡œ ë„˜ê¸°ê²Œ ëœë‹¤. ì¹´í…Œê³ ë¦¬ ìš©ì–´ê°€ ì˜ì–´ì™€ í•œê¸€ë¡œ ë°”ë€ŒëŠ” ê²ƒì„ ì•„ë˜ì™€ ê°™ì´ ë³¼ ìˆ˜ ìˆë‹¤.</p><p>ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” í™”ë©´ì— ì˜ˆë¥¼ ë³´ìë©´ Spring ë©”ì‹œì§€ íƒœê·¸ë¥¼ ì´ìš©í•˜ì—¬</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;spring:message</span> <span style=color:#c4a000>code=</span><span style=color:#4e9a06>&#34;view.category&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>ìœ¼ë¡œ í‘œí˜„í•œë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;%@ taglib prefix=&#34;spring&#34; uri=http://www.springframework.org/tags %&gt;
 
&lt;form:form commandName=&#34;message&#34; &gt;
....
		&lt;table border=&#34;1&#34; cellspacing=&#34;0&#34; class=&#34;boardList&#34; summary=&#34;List of Category&#34;&gt;
			&lt;thead&gt;
				&lt;tr&gt;
					&lt;th scope=&#34;col&#34;&gt;No.&lt;/th&gt;
					&lt;th scope=&#34;col&#34;&gt;
						&lt;input name=&#34;checkAll&#34; type=&#34;checkbox&#34; class=&#34;inputCheck&#34; title=&#34;Check All&#34; onclick=&#34;javascript:fncCheckAll();&#34;/&gt;
					&lt;/th&gt;
					&lt;th scope=&#34;col&#34;&gt;&lt;spring:message code=&#34;view.category&#34; /&gt; ID&lt;/th&gt;
					&lt;th scope=&#34;col&#34;&gt;&lt;spring:message code=&#34;view.category&#34; /&gt; ëª…&lt;/th&gt;
					&lt;th scope=&#34;col&#34;&gt;ì‚¬ìš©ì—¬ë¶€&lt;/th&gt;
					&lt;th scope=&#34;col&#34;&gt;Description&lt;/th&gt;
					&lt;th scope=&#34;col&#34;&gt;ë“±ë¡ì&lt;/th&gt;
				&lt;/tr&gt;
			&lt;/thead&gt;
....
</code></pre><p>í™”ë©´ìƒìœ¼ë¡œ í•´ë‹¹ í˜ì´ì§€ë¥¼ ì‹¤í–‰í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p><p>í•œê¸€ì¸ ê²½ìš° :</p><pre tabindex=0><code>http://localhost:8080/sample-web/sale/listCategory.do?language=ko
</code></pre><p><img src=../images/internationalization-ko-sample.png alt=internationalization-ko></p><p>ì˜ì–´ì¸ ê²½ìš° :</p><pre tabindex=0><code>http://localhost:8080/sample-web/sale/listCategory.do?language=en
</code></pre><p><img src=../images/internationalization-en-sample.png alt=internationalization-en></p><p><strong>Java ì†ŒìŠ¤ë‚´ì—ì„œ locale ì ìš© ë©”ì‹œì§€ ê°€ì ¸ì˜¤ê¸°</strong></p><p>ì°¸ê³ ë¡œ MessageSource ëŠ” ì•„ë˜ì™€ ê°™ì€ ë©”ì†Œë“œë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.(ì‹¤ì œë¡œ ì—¬ê¸°ì„œì˜ êµ¬í˜„ì²´ëŠ” ResourceBundleMessageSource ì„.)</p><p><img src=../images/internationalization-locale.png alt=internationalization-locale></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>String</span> <span style=color:#000>msg</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>messageSource</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getMessage</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>messageKey</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>messageParameters</span><span style=color:#ce5c00;font-weight:700>,</span>	<span style=color:#000>defaultMessage</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>locale</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span></code></pre></div><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2></div><div class=td-content style=page-break-before:always><h1 id=pg-4cc496746aaa077bb2f35dd989e2fea3>20 - Security Service</h1><div class=lead>ì…ë ¥ê°’ ìœ íš¨ì„± ê²€ì¦ì„ ìœ„í•œ ê¸°ëŠ¥ìœ¼ë¡œ Jakarta Commons Validatorë¥¼ ì„ íƒí•˜ì—¬ Spring MVCì™€ ì—°ê³„í•´ í™œìš©í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•œë‹¤. ì´ë¥¼ í†µí•´ í™”ë©´ ì²˜ë¦¬ ë ˆì´ì–´ì—ì„œ ì…ë ¥ê°’ ê²€ì¦ ê¸°ëŠ¥ì„ ì œê³µí•˜ê³ , Spring Securityë¥¼ í™œìš©í•œ ê³µí†µ ê¸°ë°˜ ë ˆì´ì–´ì—ì„œ ì¸ì¦ ë° ê¶Œí•œê³¼ ê°™ì€ ë³´ì•ˆ ì„œë¹„ìŠ¤ë¥¼ ì§€ì›í•œë‹¤.</div><h1 id=security-service>Security Service</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ì¸ì¦, ê¶Œí•œ ê°™ì€ ì¼ë°˜ì ì¸(í†µìƒì ì¸) ê°œë…ì˜ Security ì„œë¹„ìŠ¤ëŠ” Spring Securityë¥¼ í™œìš©í•œ ê³µí†µê¸°ë°˜ ë ˆì´ì–´ì—ì„œ ì œê³µí•œë‹¤.
í™”ë©´ ì²˜ë¦¬ ë ˆì´ì–´ì˜ Security ì„œë¹„ìŠ¤ëŠ” ì…ë ¥ê°’ ìœ íš¨ì„± ê²€ì¦ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
ì…ë ¥ê°’ ìœ íš¨ì„± ê²€ì¦(validation)ì„ ìœ„í•œ ê¸°ëŠ¥ì€ Valang, Jakarta Commons, Spring ë“±ì—ì„œ ì œê³µí•˜ëŠ”ë°, ì—¬ê¸°ì„œëŠ” ê¸°ë°˜ ì˜¤í”ˆì†ŒìŠ¤ë¡œ Jakarta Commons Validatorë¥¼ ì„ íƒí–ˆë‹¤.
MVC í”„ë ˆì„ì›Œí¬ì¸ Spring MVCì™€ Jakarta Commons Validatorì˜ ì—°ê³„ì™€ í™œìš©ë°©ì•ˆì„ ì„¤ëª…í•œë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>Jakarta Commons ValidatorëŠ” í•„ìˆ˜ê°’, ê°ì¢… primitive type(int,long,floatâ€¦), ìµœëŒ€-ìµœì†Œê¸¸ì´, ì´ë©”ì¼, ì‹ ìš©ì¹´ë“œë²ˆí˜¸ë“±ì˜ ê°’ ì²´í¬ë“±ì„ í•  ìˆ˜ ìˆë„ë¡ Templateì´ ì œê³µëœë‹¤.
ë˜í•œ client-side, server-sideì˜ ê²€ì¦ì„ í•¨ê»˜ í•  ìˆ˜ ìˆìœ¼ë©°,
Configurationê³¼ ì—ëŸ¬ë©”ì‹œì§€ë¥¼ client-side, server-side ë³„ë¡œ ë”°ë¡œ í•˜ì§€ ì•Šê³  í•œê³³ì— ê°™ì´ ì“°ëŠ” ê´€ë¦¬ìƒì˜ ì¥ì ì´ ìˆë‹¤.
ìì„¸í•œ ì„¤ëª…ì€ ì•„ë˜ì˜ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ë¼.</p><ul><li><a href=./security-jakarta-commons-validator.md>Spring Frameworkì—ì„œ Commons Validator ì‚¬ìš©</a> : ì…ë ¥ê°’ì„ Jakarta Commons Validatorë¥¼ ì´ìš©í•˜ì—¬ client-side, server-side ê²€ì¦(validation)í•¨.</li><li><a href=./security-validation-add-rules-in-common-validator.md>Commons Validatorì— validation rule ì¶”ê°€</a> : Commons Validatorì— ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ validation ruleì„ ì¶”ê°€í•´ë³¸ë‹¤.</li></ul><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2></div><div class=td-content style=page-break-before:always><h1 id=pg-4ab5f38785f99b8ed0ac7565fd474633>21 - Spring Framework + Jakarta Commons Validator</h1><div class=lead>Jakarta Commons ValidatorëŠ” í•„ìˆ˜ê°’, ê¸¸ì´, ì´ë©”ì¼ ë“±ì˜ ê²€ì¦ì„ ì œê³µí•˜ë©°, Javaì™€ JavaScriptë¡œ êµ¬í˜„ë˜ì–´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì–‘ìª½ì—ì„œ ê²€ì¦ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. Spring Frameworkì—ì„œëŠ” Spring Modulesë¥¼ í†µí•´ Commons Validatorì™€ ì—°ë™ì´ ê°€ëŠ¥í•˜ë©°, ì´ë¥¼ í†µí•´ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê²€ì¦ ì„¤ì •ì„ í†µí•©ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ë³¸ ë¬¸ì„œëŠ” ì„¤ì¹˜ ë°©ë²•ê³¼ í•µì‹¬ í´ë˜ìŠ¤(DefaultValidatorFactory, DefaultValidator), ì„¤ì • íŒŒì¼, ì˜ˆì œ í”„ë¡œì íŠ¸ ì ìš© ê³¼ì •ì„ ì„¤ëª…í•œë‹¤.</div><h1 id=spring-framework--jakarta-commons-validator>Spring Framework + Jakarta Commons Validator</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ì…ë ¥ê°’ ê²€ì¦ì„ ìœ„í•œ Validation ê¸°ëŠ¥ì€ Valang, Jakarta Commons, Spring ë“±ì—ì„œ ì œê³µí•œë‹¤.<br>ì—¬ê¸°ì„œëŠ” Jakarta Commons Validatorë¥¼ Spring Frameworkê³¼ ì—°ë™í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ê³ ì í•œë‹¤.<br>Jakarta Commons ValidatorëŠ” í•„ìˆ˜ê°’, ê°ì¢… primitive type(int,long,floatâ€¦), ìµœëŒ€-ìµœì†Œê¸¸ì´, ì´ë©”ì¼, ì‹ ìš©ì¹´ë“œë²ˆí˜¸ë“±ì˜ ê°’ ì²´í¬ë“±ì„ í•  ìˆ˜ ìˆë„ë¡ Templateì´ ì œê³µëœë‹¤.<br>ì´ Templateì€ Java ë¿ ì•„ë‹ˆë¼ Javascriptë¡œë„ ì œê³µë˜ì–´ client-side, server-sideì˜ ê²€ì¦ì„ í•¨ê»˜ í•  ìˆ˜ ìˆìœ¼ë©°,
Configurationê³¼ ì—ëŸ¬ë©”ì‹œì§€ë¥¼ client-side, server-side ë³„ë¡œ ë”°ë¡œ í•˜ì§€ ì•Šê³  í•œê³³ì— ê°™ì´ ì“°ëŠ” ê´€ë¦¬ìƒì˜ ì¥ì ì´ ìˆë‹¤.<br>Strutsì—ì„œëŠ” Commons Validatorë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ org.apache.struts.validator.ValidatorPlugIn ê°™ì€ í”ŒëŸ¬ê·¸ì¸ í´ë˜ìŠ¤ë¥¼ ì œê³µí•˜ëŠ”ë°,
Springì—ì„œëŠ” Spring Modules í”„ë¡œì íŠ¸ì—ì„œ ì—°ê³„ ëª¨ë“ˆì„ ì œê³µí•œë‹¤.<br>ì—¬ê¸°ì„œëŠ” server-side, client-side validationì„ ìœ„í•´,
ì„¤ì¹˜ë°©ë²•, Spring Moduleì—ì„œ ì œê³µí•˜ëŠ” í•µì‹¬ í´ë˜ìŠ¤ì¸ DefaultValidatorFactory, DefaultValidatorì™€ ì„¤ì •íŒŒì¼ì¸ validator-rules.xml, validator.xml ì— ëŒ€í•œ ê°„ëµí•œ ì„¤ëª…ê³¼
ì˜ˆì œ í”„ë¡œì íŠ¸ì¸ easycompanyì— ì ìš©í•˜ëŠ” ê³¼ì •ì„ ì„¤ëª…í•œë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=í•„ìš”ë¼ì´ë¸ŒëŸ¬ë¦¬>í•„ìš”ë¼ì´ë¸ŒëŸ¬ë¦¬</h3><ol><li>commons-validator : Ver 1.4.0 ì•„ë˜ 4ê°œì˜ íŒŒì¼ì— ëŒ€í•œ dependencyê°€ ìˆë‹¤.<ul><li>commons-beanutils : Ver 1.8.3</li><li>commons-digester : Ver 1.8</li><li>commons-logging : Ver 1.1.2</li><li>junit : Ver 3.8.2</li></ul></li><li><a href=http://www.egovframe.go.kr/maven/org/springmodules/spring-modules-validation/0.9/spring-modules-validation-0.9.jar>spring modules</a> : Ver 0.9 ë‹¤ìš´ ë°›ê³  ì••ì¶•ì„ í’€ì–´ ë³´ë©´ ì—¬ëŸ¬ íŒŒì¼ë“¤ì´ ìˆìœ¼ë‚˜ ì—¬ê¸°ì„œ í•„ìš”í•œ ê±´ spring-modules-validation.jar ë¿ì´ë‹¤. ì˜ˆì œë¥¼ ë³´ë ¤ë©´ \samples\sources\spring-modules-validation-commons-samples-src.zipë„ í•„ìš”í•˜ë‹¤.</li><li>ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì„¤ì¹˜í•œë‹¤.</li></ol><h3 id=defaultvalidatorfactory-defaultbeanvalidator-ì„¤ì •>DefaultValidatorFactory, DefaultBeanValidator ì„¤ì •</h3><p>Spring Validatorì™€ Commons Validatorì˜ ì—°ê³„ë¥¼ ìœ„í•´ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ëŠ” í´ë˜ìŠ¤ì¸ DefaultValidatorFactory, DefaultBeanValidatorì— ëŒ€í•´ ê°„ëµí•˜ê²Œ ì„¤ëª…í•˜ìë©´ ì•„ë˜ í‘œì™€ ê°™ë‹¤.</p><table><thead><tr><th>DefaultValidatorFactory</th><th>DefaultBeanValidator</th></tr></thead><tbody><tr><td>í”„ë¡œí¼í‹° &lsquo;validationConfigLocationsApache&rsquo;ì— ì •ì˜ëœ Validation ruleì„ ê¸°ë°˜ìœ¼ë¡œ Commons Validatorë“¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–»ëŠ”ë‹¤.</td><td>DefaultBeanValidatorëŠ” org.springframework.validation.Validatorë¥¼ implementsí•˜ê³  ìˆì§€ë§Œ, DefaultValidatorFactoryê°€ ê°€ì ¸ì˜¨ Commons Validatorì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ìš©í•´ validationì„ ìˆ˜í–‰í•œë‹¤. Controllerì— validation ìˆ˜í–‰í• ë•Œ ì´ DefaultBeanValidatorë¥¼ ì°¸ì¡°í•˜ë©´ ëœë‹¤.</td></tr></tbody></table><p>ì•„ë˜ ì½”ë“œë¥¼ ì°¸ì¡°í•´ ë¹ˆ ì •ì˜ íŒŒì¼(ì˜ˆì œì—ëŠ” easycompany-servlet.xml)ì— ë‹¤ìŒê³¼ ê°™ì´ ValidatorFactory,Validator,validator-rules.xml,validation.xml íŒŒì¼ì„ ë“±ë¡í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- Integration Apache Commons Validator by Spring Modules --&gt;</span>				
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;beanValidator&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springmodules.validation.commons.DefaultBeanValidator&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;validatorFactory&#34;</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;validatorFactory&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;validatorFactory&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springmodules.validation.commons.DefaultValidatorFactory&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;validationConfigLocations&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>                      <span style=color:#8f5902;font-style:italic>&lt;!-- validator-rules.xml, validator.xmlì˜ ìœ„ì¹˜--&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;value&gt;</span>/WEB-INF/conf/validator-rules.xml<span style=color:#204a87;font-weight:700>&lt;/value&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>&lt;value&gt;</span>/WEB-INF/conf/validator.xml<span style=color:#204a87;font-weight:700>&lt;/value&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h3 id=validator-rulesxml-ì„¤ì •>validator-rules.xml ì„¤ì •</h3><p>validator-rules.xmlì€ applicationì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  validation ruleì— ëŒ€í•´ ì •ì˜í•˜ëŠ” íŒŒì¼ì´ë‹¤.
ì˜ˆì œì— ìˆëŠ” validator-rules.xmlì˜ í•„ìˆ˜ê°’ ì²´í¬ ë¶€ë¶„ì„ ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±ë˜ì–´ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;validator</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;required&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#c4a000>classname=</span><span style=color:#4e9a06>&#34;org.springmodules.validation.commons.FieldChecks&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#c4a000>method=</span><span style=color:#4e9a06>&#34;validateRequired&#34;</span>
</span></span><span style=display:flex><span>         <span style=color:#c4a000>methodParams=</span><span style=color:#4e9a06>&#34;java.lang.Object,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                       org.apache.commons.validator.ValidatorAction,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                       org.apache.commons.validator.Field,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                       org.springframework.validation.Errors&#34;</span>
</span></span><span style=display:flex><span>                  <span style=color:#c4a000>msg=</span><span style=color:#4e9a06>&#34;errors.required&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;javascript&gt;</span><span style=color:#8f5902;font-style:italic>&lt;![CDATA[
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>         .....
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            ]]&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;/javascript&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;/validator&gt;</span>
</span></span></code></pre></div><table><tr><th>name</th><td>validation rule(required,mask,integer,emailâ€¦)</td></tr><tr><th>classname</th><td>validation checkë¥¼ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ëª…(org.springmodules.validation.commons.FieldChecks)</td></tr><tr><th>method</th><td>validation checkë¥¼ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œëª…(validateRequired,validateMaskâ€¦)</td></tr><tr><th>methodParams</th><td>validation checkë¥¼ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°</td></tr><tr><th>msg</th><td>ì—ëŸ¬ ë©”ì‹œì§€ key</td></tr><tr><th>javascript</th><td>client-side validationì„ ìœ„í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ</td></tr></table><p>Spring Modulesì—ì„œ ì œê³µí•˜ëŠ” validation ruleì— ë”°ë¼ êµ¬ì„±í•´ë³´ì.</p><p><strong>Spring Modules (0.9 ê¸°ì¤€)ì—ì„œ ì œê³µí•˜ëŠ” validation ruleë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤.</strong></p><table><thead><tr><th>name(validation rule)</th><th>FieldCheck í´ë˜ìŠ¤</th><th>FieldCheck í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œ</th><th style=text-align:center>ê¸°ëŠ¥</th></tr></thead><tbody><tr><td>required</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateRequired</td><td style=text-align:center>í•„ìˆ˜ê°’ ì²´í¬</td></tr><tr><td>minlength</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateMinLength</td><td style=text-align:center>ìµœì†Œ ê¸¸ì´ ì²´í¬</td></tr><tr><td>maxlength</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateMaxLength</td><td style=text-align:center>ìµœëŒ€ ê¸¸ì´ ì²´í¬</td></tr><tr><td>mask</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateMask</td><td style=text-align:center>ì •ê·œì‹ ì²´í¬</td></tr><tr><td>byte</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateByte</td><td style=text-align:center>Byteí˜• ì²´í¬</td></tr><tr><td>short</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateShort</td><td style=text-align:center>Shortí˜• ì²´í¬</td></tr><tr><td>integer</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateInteger</td><td style=text-align:center>Integerí˜• ì²´í¬</td></tr><tr><td>long</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateLong</td><td style=text-align:center>Longí˜• ì²´í¬</td></tr><tr><td>float</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateFloat</td><td style=text-align:center>Floatí˜• ì²´í¬</td></tr><tr><td>double</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateDouble</td><td style=text-align:center>Doubleí˜• ì²´í¬</td></tr><tr><td>date</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateDate</td><td style=text-align:center>Dateí˜• ì²´í¬</td></tr><tr><td>range</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateIntRange</td><td style=text-align:center>ë²”ìœ„ ì²´í¬</td></tr><tr><td>intRange</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateIntRange</td><td style=text-align:center>intí˜• ë²”ìœ„ ì²´í¬</td></tr><tr><td>floatRange</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateFloatRange</td><td style=text-align:center>Floatí˜• ë²”ìœ„ì²´í¬</td></tr><tr><td>creditCard</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateCreditCard</td><td style=text-align:center>ì‹ ìš©ì¹´ë“œë²ˆí˜¸ì²´í¬</td></tr><tr><td>email</td><td>org.springmodules.validation.commons.FieldChecks</td><td>validateEmail</td><td style=text-align:center>ì´ë©”ì¼ì²´í¬</td></tr></tbody></table><p>validator-rules.xmlì„ ì§ì ‘ ì‘ì„±í•˜ëŠ”ê²ƒ ë³´ë‹¤ëŠ” ì˜ˆì œì— ìˆëŠ” íŒŒì¼ì„ ì°¸ê³ í•˜ê±°ë‚˜ copyí•´ì„œ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ë‹¤.<br>spring-modules-0.9.zipì„ ì••ì¶•ì„ í’€ì–´ë³´ë©´ ì˜ˆì œì½”ë“œê°€ ìˆë‹¤.(\samples\sources\spring-modules-validation-commons-samples-src.zip)
ì˜ˆì œì½”ë“œì˜ validator-rules.xml(\webapp\WEB-INF\validator-rules.xml)ì—ëŠ” ëª¨ë“  validation ruleì´ ì´ë¯¸ ì •ì˜ë˜ì–´ ìˆë‹¤.</p><p>org.springmodules.validation.commons.FieldChecks í´ë˜ìŠ¤ì—ëŠ” í•„ìˆ˜ê°’ ì²´í¬, primitive íƒ€ì… ì²´í¬ë“± ì—¬ëŸ¬ validationì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì†Œë“œë“¤ì´ ìˆë‹¤.<br>FieldChecks í´ë˜ìŠ¤ ì†ŒìŠ¤ë¥¼ ì—´ì–´ ë³´ë©´ ì‹¤ì œ validation ì²˜ë¦¬ëŠ” Commons Validatorì— ìœ„ì„í•˜ê³  ìˆë‹¤.<br>ë”°ë¼ì„œ ì£¼ì˜ í• ì ì€ Commons Validatorì—ì„œ ì œê³µí•˜ëŠ” validation ruleì¤‘ì—, FieldChecks í´ë˜ìŠ¤ê°€ ì œê³µí•˜ì§€ ì•ŠëŠ” ruleë„ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.<br>ì˜ˆë¥¼ ë“¤ì–´ Commons Validator 1.3.1 ì—ì„œëŠ” URLì´ë‚˜ IP ê´€ë ¨ Validatorë¥¼ ì œê³µí•˜ì§€ë§Œ, Spring Modulesì˜ FieldChecks í´ë˜ìŠ¤ì— í•´ë‹¹ ë©”ì†Œë“œê°€ ì—†ê¸° ë•Œë¬¸ì—,
ìƒˆë¡œìš´ FieldCheck í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•œ í›„ validation-rules.xmlì— í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œë¥¼ ë“±ë¡í•´ì•¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br>Spring Modulesê°€ ì œê³µí•˜ëŠ” validation ruleì™¸ì— ruleì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œëŠ” ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ validation rule ì¶”ê°€í•˜ê¸° ë¥¼ ì°¸ê³ í•˜ë¼.</p><h3 id=validatorxml-ì„¤ì •>validator.xml ì„¤ì •</h3><p>validator.xmlì€ validation ruleê³¼ validationí•  Formì„ ë§¤í•‘í•œë‹¤.<br>form nameê³¼ field propertyì˜ name-ruleì€ Server-sideì™€ Client-sideì¸ ê²½ìš°ì— ë”°ë¼ ë‹¤ë¥´ë‹¤.</p><p><strong>Server-side validationì˜ ê²½ìš°ëŠ”,</strong><br>form nameê³¼ field propertyëŠ” validationí•  í¼ í´ë˜ìŠ¤ì˜ ì´ë¦„, í•„ë“œê³¼ ê°ê° ë§¤í•‘ëœë‹¤.(camel case)
í¼ í´ë˜ìŠ¤ê°€ Employeeë©´ employee, DepartmentForm ì´ë©´ departmentFormì„ form nameìœ¼ë¡œ ì§€ì •í•˜ë¼.</p><p><strong>Client-sideì˜ ê²½ìš°ëŠ”,</strong><br>form nameì€ JSPì—ì„œ ì„¤ì •í•œ &lt;validator:javascript formName=â€œemployeeâ€ â€¦/> íƒœê·¸ì˜ formNameì™€ ë§¤í•‘ë˜ê³ , field propertyëŠ” ê°ê°ì˜ í¼ í•„ë“œì˜ ì´ë¦„ê³¼ ì¼ì¹˜í•˜ë©´ ëœë‹¤.</p><p><strong>ë”°ë¼ì„œ, Server-side, Client-side ë‘˜ ë‹¤ ìˆ˜í–‰í•˜ë ¤ë©´,</strong><br>JSPì˜ &lt;validator:javascript formName=â€œemployeeâ€ â€¦/> íƒœê·¸ì˜ formNameì€ í¼ í´ë˜ìŠ¤ì˜ ì´ë¦„ì´ ë˜ì–´ì•¼ í•˜ê³ , JSPì˜ í¼ í•„ë“œë“¤ì€ í¼ í´ë˜ìŠ¤ì˜ í•„ë“œì™€ ì¼ì¹˜í•´ì•¼ í•œë‹¤.</p><p>dependsëŠ” í•´ë‹¹ í•„ë“œì— ì ìš©í•  (validator-rules.xmlì— ì •ì˜ëœ rule name) validatorë¥¼ ì˜ë¯¸í•œë‹¤.<br>&lt;arg keyâ€¦>ëŠ” ë©”ì‹œì§€ ì¶œë ¥ì‹œ íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•˜ëŠ” ê°’ì´ë‹¤.<br>ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤ë©´, Employee í´ë˜ìŠ¤ì˜ name í•„ë“œì— ëŒ€í•´ì„œ í•„ìˆ˜ê°’ ì²´í¬ë¥¼, age í•„ë“œì— ëŒ€í•´ì„œ integer ì²´í¬ë¥¼, email í•„ë“œì— ëŒ€í•´ì„  í•„ìˆ˜ê°’ê³¼ email ìœ íš¨ê°’ ì²´í¬ë¥¼ í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE form-validation PUBLIC 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>    &#34;-//Apache Software Foundation//DTD Commons Validator Rules Configuration 1.1//EN&#34; 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>    &#34;http://jakarta.apache.org/commons/dtds/validator_1_1.dtd&#34;&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;form-validation&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;formset&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;form</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;employee&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        	<span style=color:#204a87;font-weight:700>&lt;field</span> <span style=color:#c4a000>property=</span><span style=color:#4e9a06>&#34;name&#34;</span> <span style=color:#c4a000>depends=</span><span style=color:#4e9a06>&#34;required&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        		<span style=color:#204a87;font-weight:700>&lt;arg0</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;employee.name&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;/field&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;field</span> <span style=color:#c4a000>property=</span><span style=color:#4e9a06>&#34;age&#34;</span> <span style=color:#c4a000>depends=</span><span style=color:#4e9a06>&#34;integer&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        		<span style=color:#204a87;font-weight:700>&lt;arg0</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;employee.age&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;/field&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;field</span> <span style=color:#c4a000>property=</span><span style=color:#4e9a06>&#34;email&#34;</span> <span style=color:#c4a000>depends=</span><span style=color:#4e9a06>&#34;required,email&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        		<span style=color:#204a87;font-weight:700>&lt;arg0</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;employee.email&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;/field&gt;</span>		
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/form&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/formset&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/form-validation&gt;</span>
</span></span></code></pre></div><h3 id=server-side-validation>Server-Side Validation</h3><h4 id=controller>Controller</h4><p>Server-Side Validationì„ ìœ„í•´ Controllerì— validation ë¡œì§ì„ ì¶”ê°€í•´ ë³´ì.<br>ìœ„ ì„¤ì • íŒŒì¼ì—ì„œ ë“±ë¡í•œ DefaultBeanValidatorê°€ Controllerì—ì„œ validationì„ ìˆ˜í–‰í•œë‹¤.<br>DefaultBeanValidatorëŠ” Commons Validatorì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ë§Œ ìì‹ ì€ Spring Validatorì´ê¸° ë•Œë¬¸ì—,
ì‚¬ìš©ìëŠ” Spring Validatorë¥¼ ì‚¬ìš©í•˜ë“¯ì´ Controllerì—ì„œ validation ì½”ë”©ì„ í•˜ë©´ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.annotation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springmodules.validation.commons.DefaultBeanValidator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>UpdateEmployeeController</span> <span style=color:#ce5c00;font-weight:700>{</span>	
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Autowired</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>DefaultBeanValidator</span> <span style=color:#000>beanValidator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateEmployee.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>updateEmployee</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employee&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>Employee</span> <span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>,</span>			
</span></span><span style=display:flex><span>			<span style=color:#000>BindingResult</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>beanValidator</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>validate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//validation ìˆ˜í–‰
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasErrors</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>//ë§Œì¼ validation ì—ëŸ¬ê°€ ìˆìœ¼ë©´...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#ce5c00;font-weight:700>.....</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifyemployee&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#000>employeeManageService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>updateEmployee</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;changenotify&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>        
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=jsp>JSP</h4><p>Validationì„ ì ìš©í•  JSPë¥¼ ì‘ì„±í•œë‹¤.(modifyemployee.jsp)<br>form submitì„ í•˜ë©´ ì´ë¦„, ë‚˜ì´, ì´ë©”ì¼ë“±ì˜ ì…ë ¥ê°’ì´ Employee í´ë˜ìŠ¤ì— ë°”ì¸ë”©ì´ ë˜ì„œ Controllerì— ì „ë‹¬ì´ ë˜ê³ ,
Controllerì— validation ìˆ˜í–‰ ë¡œì§ì´ ìˆìœ¼ë©´ validator.xml ë‚´ìš©ì— ë”°ë¼ validationì´ ì´ë£¨ì–´ ì§„ë‹¤.<br>ë§Œì¼ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ &lt;form:errorâ€¦/>ì— ì—ëŸ¬ì— í•´ë‹¹í•˜ëŠ” ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•œë‹¤. ì—ëŸ¬ ë©”ì‹œì§€ì— ê´€ë ¨í•´ì„œëŠ” ì•„ë˜ ì—ëŸ¬ ë©”ì‹œì§€ ë“±ë¡ì„ ì°¸ê³ í•˜ë¼.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form:form</span> <span style=color:#c4a000>commandName</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;employee&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        ....
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>ì´ë¦„<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>form:input</span> <span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;name&#34;</span> <span style=color:#c4a000>size</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;20&#34;</span><span style=color:#000;font-weight:700>/&gt;&lt;</span><span style=color:#204a87;font-weight:700>form:errors</span> <span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;name&#34;</span> <span style=color:#000;font-weight:700>/&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>ë¹„ë°€ë²ˆí˜¸<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>form:input</span> <span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#c4a000>size</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>/&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>ë‚˜ì´<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>form:input</span> <span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;age&#34;</span> <span style=color:#c4a000>size</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>/&gt;&lt;</span><span style=color:#204a87;font-weight:700>form:errors</span> <span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;age&#34;</span> <span style=color:#000;font-weight:700>/&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>ì´ë©”ì¼<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>form:input</span> <span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span> <span style=color:#c4a000>size</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;50&#34;</span><span style=color:#000;font-weight:700>/&gt;&lt;</span><span style=color:#204a87;font-weight:700>form:errors</span> <span style=color:#c4a000>path</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span> <span style=color:#000;font-weight:700>/&gt;&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>table</span> <span style=color:#c4a000>width</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;80%&#34;</span> <span style=color:#c4a000>border</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span><span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;LIST&#34;</span> <span style=color:#c4a000>onclick</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;location.href=&#39;/easycompany/employeeList.do&#39;&#34;</span><span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form:form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h4 id=ì—ëŸ¬-ë©”ì‹œì§€-ë“±ë¡>ì—ëŸ¬ ë©”ì‹œì§€ ë“±ë¡</h4><p>ë©”ì‹œì§€ íŒŒì¼ì— ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë“±ë¡í•œë‹¤.<br>validation ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ validator-rules.xmlì—ì„œ ì •ì˜í–ˆë˜ msgê°’ìœ¼ë¡œ ì—ëŸ¬ë©”ì‹œì§€ì˜ keyê°’ì„ ì°¾ì•„ í•´ë‹¹í•˜ëŠ” ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•´ì¤€ë‹¤.<br>ì˜ˆë¥¼ ë“¤ì–´, email validationì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ msgê°’ì´ errors.email ì´ë¯€ë¡œ, â€œìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ ì£¼ì†Œì…ë‹ˆë‹¤.â€ë¼ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ JSPì— ìˆëŠ” &lt;form:errors path=â€œemailâ€ /> ë¶€ë¶„ì— ì¶œë ¥í•˜ê²Œ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#c4a000>employee.name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ì´ë¦„</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>employee.email</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ì´ë©”ì¼</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>employee.age</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ë‚˜ì´</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>employee.password</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ë¹„ë°€ë²ˆí˜¸</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># -- validator errors --</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>errors.required</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>{0}ì€ í•„ìˆ˜ ì…ë ¥ê°’ì…ë‹ˆë‹¤.</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>errors.minlength</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>{0}ì€ {1}ì ì´ìƒ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>errors.maxlength</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>{0}ì€ {1}ì ì´ìƒ ì…ë ¥í• ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>errors.invalid</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>{0}ì€ ìœ íš¨í•˜ì§€ ì•Šì€ ê°’ì…ë‹ˆë‹¤.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c4a000>errors.byte</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>{0}ì€  byteíƒ€ì…ì´ì–´ì•¼ í•©ë‹ˆë‹¤.</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>errors.short</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>{0}ì€  shortíƒ€ì…ì´ì–´ì•¼ í•©ë‹ˆë‹¤.</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>errors.integer</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>{0}ì€ integer íƒ€ì…ì´ì–´ì•¼ í•©ë‹ˆë‹¤.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a40000>....</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c4a000>errors.email</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ ì£¼ì†Œì…ë‹ˆë‹¤.</span>
</span></span></code></pre></div><h4 id=test>TEST</h4><p>ì´ë¦„ í•„ë“œì— ê°’ì„ ë¹„ìš°ê³  submití•˜ë©´, nameì— í•„ìˆ˜ê°’(required) validation ruleì´ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ
ì•„ë˜ì™€ ê°™ì´ ì´ë¦„ í•„ë“œ ì˜†ì— ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì¶œë ¥ ë  ê²ƒì´ë‹¤.</p><p><img src=../images/server-validate.jpg alt=server-validate></p><h3 id=client-side-validation>Client-Side Validation</h3><h4 id=validatorjsp-ì¶”ê°€>validator.jsp ì¶”ê°€</h4><p>ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì˜ validator.jspë¥¼ ì‘ì„±í•œë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;%@ page language=&#34;java&#34; contentType=&#34;javascript/x-javascript&#34; %&gt;
&lt;%@ taglib prefix=&#34;validator&#34; uri=&#34;http://www.springmodules.org/tags/commons-validator&#34; %&gt;
&lt;validator:javascript dynamicJavascript=&#34;false&#34; staticJavascript=&#34;true&#34;/&gt;
</code></pre><p>/validator.doë¡œ í˜¸ì¶œí•˜ë„ë¡ Controllerì—ì„œ ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ê³  requestmapping í•œë‹¤.<br>validator.jspë¥¼ http://localhost:8080/easycompany/validator.do ë¸Œë¼ìš°ì ¸ì—ì„œ í˜¸ì¶œí•´ë³´ë©´, validator-rules.xmlì—ì„œ ì •ì˜í•œ javascript í•¨ìˆ˜ë“¤ì´ ë‹¤ìš´ë¡œë“œ ë˜ê±°ë‚˜ í™”ë©´ì— print ë˜ëŠ” ê±¸ í™•ì¸í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.<br>validator.jspëŠ” client-validationì„ ìœ„í•´ validator-rules.xmlì—ì„œ ì •ì˜í•œ javascript í•¨ìˆ˜ë“¤ì„ ë¡œë”©í•œë‹¤.<br>ë”°ë¼ì„œ client-validationì„ í•  í˜ì´ì§€ì—ì„œëŠ” ì´ validator.jspì„</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;c:url value=&#34;/validator.do&#34;/&gt;&#34;&gt;&lt;/script&gt;
</code></pre><p>ê°™ì´ í˜¸ì¶œí•œë‹¤.</p><h4 id=jsp-ì„¤ì •taglibjavascript-ì¶”ê°€>JSP ì„¤ì •(taglib,javascript) ì¶”ê°€</h4><p>client-validationì„ ìœ„í•´ì„œëŠ” í•´ë‹¹ JSPì— ì•„ë˜ì™€ ê°™ì€ ì‘ì—…ì´ ì¶”ê°€ ë˜ì–´ì•¼ í•œë‹¤. commons-validator taglibë¥¼ ì„ ì–¸í•œë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;%@ taglib prefix=&#34;validator&#34; uri=&#34;http://www.springmodules.org/tags/commons-validator&#34; %&gt;
</code></pre><p>í•„ìš”í•œ ìë°” ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ë¥¼ generate í•˜ê¸° ìœ„í•œ ì½”ë“œë¥¼ ì¶”ê°€ í•œë‹¤. validation-rules.xmlì—ì„œ ì„ ì–¸í•œ í•¨ìˆ˜ë¥¼ ë¶ˆëŸ¬ ì˜¤ê¸° ìœ„í•´, ìœ„ì—ì„œ ì‘ì„±í•œ validator.jspë¥¼ ì•„ë˜ì™€ ê°™ì´ í˜¸ì¶œí•œë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;c:url value=&#34;/validator.do&#34;/&gt;&#34;&gt;&lt;/script&gt;
</code></pre><p>ìœ„ì˜ ìë°” ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ í•„ìš”í•œ validationê³¼ ë©”ì‹œì§€ ì²˜ë¦¬ë¥¼ ìœ„í•œ ìë°” ìŠ¤í¬ë¦½íŠ¸ë¥¼ generate í•˜ê¸° ìœ„í•œ ì½”ë“œë¥¼ ì¶”ê°€ í•œë‹¤. formNameì—ëŠ” validator.xmlì—ì„œ ì •ì˜í•œ formì˜ ì´ë¦„ì„ ì¨ì¤€ë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;validator:javascript formName=&#34;employee&#34; staticJavascript=&#34;false&#34; xhtml=&#34;true&#34; cdata=&#34;false&#34;/&gt;
</code></pre><p>form submitì‹œì— validateVOí´ë˜ìŠ¤ëª…() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>   ... onsubmit=&#34;return validateEmployee(this)&#34; &#34;&gt;
</code></pre><p>ë”°ë¼ì„œ ì•ì˜ server-side validationì—ì„œ ì‘ì„±í•œ modifyemployee.jspì€ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ëœë‹¤.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>&lt;!-- commons-validator tag lib ì„ ì–¸--&gt;
&lt;%@ taglib prefix=&#34;validator&#34; uri=&#34;http://www.springmodules.org/tags/commons-validator&#34; %&gt;
 
....
&lt;!--for including generated Javascript Code(in validation-rules.xml)--&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;&lt;c:url value=&#34;/validator.do&#34;/&gt;&#34;&gt;&lt;/script&gt;
&lt;!--for including generated Javascript Code(validateEmployee(), formName:validator.xmlì—ì„œ ì •ì˜í•œ formì˜ ì´ë¦„)--&gt;
&lt;validator:javascript formName=&#34;employee&#34; staticJavascript=&#34;false&#34; xhtml=&#34;true&#34; cdata=&#34;false&#34;/&gt;
&lt;script type=&#34;text/javascript&#34;&gt;
	function save(form){	
		if(!validateEmployee(form)){
			return;
		}else{
			form.submit();
		}
	}
&lt;/script&gt;
....
&lt;form:form commandName=&#34;employee&#34;&gt;
&lt;table&gt;
        ....
	&lt;tr&gt;
		&lt;th&gt;ì´ë¦„&lt;/th&gt;
		&lt;td&gt;&lt;form:input path=&#34;name&#34; size=&#34;20&#34;/&gt;&lt;form:errors path=&#34;name&#34; /&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;th&gt;ë¹„ë°€ë²ˆí˜¸&lt;/th&gt;
		&lt;td&gt;&lt;form:input path=&#34;password&#34; size=&#34;10&#34;/&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;th&gt;ë‚˜ì´&lt;/th&gt;
		&lt;td&gt;&lt;form:input path=&#34;age&#34; size=&#34;10&#34;/&gt;&lt;form:errors path=&#34;age&#34; /&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;th&gt;ì´ë©”ì¼&lt;/th&gt;
		&lt;td&gt;&lt;form:input path=&#34;email&#34; size=&#34;50&#34;/&gt;&lt;form:errors path=&#34;email&#34; /&gt;&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;
&lt;table width=&#34;80%&#34; border=&#34;1&#34;&gt;
	&lt;tr&gt;
		&lt;td&gt;
		&lt;!--&lt;input type=&#34;submit&#34;/&gt;--&gt;
                &lt;input type=&#34;button&#34; value=&#34;SAVE&#34; onclick=&#34;save(this.form)&#34;/&gt; &lt;!-- client-validationì„ ìœ„í•´ ë°”ë¡œ submití•˜ì§€ ì•Šê³  ë¨¼ì € validateEmployee í•¨ìˆ˜ë¥¼ í˜¸ì¶œ--&gt;
		&lt;input type=&#34;button&#34; value=&#34;LIST&#34; onclick=&#34;location.href=&#39;/easycompany/employeeList.do&#39;&#34;/&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt; 
&lt;/form:form&gt;
....
</code></pre><h4 id=test-1>TEST</h4><p>ì´ë²ˆì—ë„ ì´ë¦„ í•„ë“œì˜ ê°’ì„ ì§€ìš°ê³  ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì•„ë˜ì™€ ê°™ì€ alert ë©”ì‹œì§€ê°€ ë³´ì¼ ê²ƒì´ë‹¤.</p><p><img src=../images/client-validate.jpg alt=client-validate></p><h2 id=ì°¸ê³ ë¬¸í—Œ>ì°¸ê³ ë¬¸í—Œ</h2><ul><li>Spring Modules Reference Documentation v 0.9, Chapter 17.Validation, P133~136</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e45a4e52ea7552fe6295b4e19061e54d>22 - Commons Validatorì— validation rule ì¶”ê°€í•˜ê¸°</h1><div class=lead>Commons ValidatorëŠ” ê¸°ë³¸ì ì¸ ìœ í˜• ì™¸ì—ë„ í”„ë¡œì íŠ¸ íŠ¹ì„±ì— ë§ëŠ” ê³µí†µ validation ruleì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì˜ˆì œë¡œ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ê²€ì¦ê¸°ë¥¼ ì¶”ê°€í•˜ì—¬ validation ruleì„ í™•ì¥í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ë©°, ì´ë¥¼ easycompany í”„ë¡œì íŠ¸ì— ì ìš©í–ˆë‹¤.</div><h1 id=commons-validatorì—-validation-rule-ì¶”ê°€í•˜ê¸°>Commons Validatorì— validation rule ì¶”ê°€í•˜ê¸°</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>Commons ValidatorëŠ” primitive type, í•„ìˆ˜ê°’, ì´ë©”ì¼ë“± í”íˆ ì‚¬ìš©ë˜ëŠ” ìœ í˜•ì— ëŒ€í•œ validation ruleì„ templateìœ¼ë¡œ ì œê³µí•˜ì§€ë§Œ,
í”„ë¡œì íŠ¸ì˜ íŠ¹ì„±ì— ë”°ë¼ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” validation ruleì´ ë°œìƒë˜ê³  ì´ë¥¼ ì¶”ê°€í•´ì•¼í•  í•„ìš”ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.
ê³µê³µí”„ë¡œì íŠ¸ì—ì„œ í”íˆ ì‚¬ìš©ë˜ëŠ” ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ validatorë¥¼ ì¶”ê°€í•´ ë´„ìœ¼ë¡œì¨, validation ruleì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê³ ì í•œë‹¤.<br>ì˜ˆì œëŠ” easycompanyë¥¼ ì´ìš©í–ˆë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>Spring Moduleì„ ì´ìš©í•´ì„œ Commons Validatorë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì„ validation rule ì •ì˜ íŒŒì¼(validator-rules.xml ê°™ì€)ì—ì„œ ë³´ì•˜ì„ ê²ƒì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>&lt;!--í•„ìˆ˜ê°’ ì²´í¬ validation rule--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;validator</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;required&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#c4a000>classname=</span><span style=color:#4e9a06>&#34;org.springmodules.validation.commons.FieldChecks&#34;</span>
</span></span><span style=display:flex><span>             <span style=color:#c4a000>method=</span><span style=color:#4e9a06>&#34;validateRequired&#34;</span>
</span></span><span style=display:flex><span>       <span style=color:#c4a000>methodParams=</span><span style=color:#4e9a06>&#34;java.lang.Object,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                     org.apache.commons.validator.ValidatorAction,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                     org.apache.commons.validator.Field,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                     org.springframework.validation.Errors&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#c4a000>msg=</span><span style=color:#4e9a06>&#34;errors.required&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>&lt;javascript&gt;</span><span style=color:#8f5902;font-style:italic>&lt;![CDATA[
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>          ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>          ]]&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>&lt;/javascript&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/validator&gt;</span>
</span></span></code></pre></div><p>validator íƒœê·¸ì˜ ê°ê°ì˜ attributeëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì˜ë¯¸ë¥¼ ê°™ëŠ”ë‹¤.</p><table><tr><th>name</th><td>validation rule(required,mask,integer,emailâ€¦)</td></tr><tr><th>classname</th><td>validation checkë¥¼ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ëª…</td></tr><tr><th>method</th><td>validation checkë¥¼ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œëª…</td></tr><tr><th>methodParams</th><td>validation checkë¥¼ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°</td></tr><tr><th>msg</th><td>ì—ëŸ¬ ë©”ì‹œì§€ key</td></tr><tr><th>javascript</th><td>client-side validationì„ ìœ„í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ</td></tr></table><p>ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ruleì„ ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•œë‹¤ê³  í•˜ë©´,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;validator</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;ihidnum&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#c4a000>classname=</span><span style=color:#4e9a06>&#34;egovframework.rte.ptl.mvc.validation.RteFieldChecks&#34;</span>
</span></span><span style=display:flex><span>             <span style=color:#c4a000>method=</span><span style=color:#4e9a06>&#34;validateIhIdNum&#34;</span>
</span></span><span style=display:flex><span>       <span style=color:#c4a000>methodParams=</span><span style=color:#4e9a06>&#34;java.lang.Object,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                     org.apache.commons.validator.ValidatorAction,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                     org.apache.commons.validator.Field,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                     org.springframework.validation.Errors&#34;</span>                       
</span></span><span style=display:flex><span>            <span style=color:#c4a000>depends=</span><span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#c4a000>msg=</span><span style=color:#4e9a06>&#34;errors.ihidnum&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;javascript&gt;</span><span style=color:#8f5902;font-style:italic>&lt;![CDATA[
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>          ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>          ]]&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>&lt;/javascript&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/validator&gt;</span>
</span></span></code></pre></div><p>í•„ìš”í•œ ì‘ì—…ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ol><li>FieldCheck class(RteFieldChecks) ì‘ì„±</li><li>Validator class(RteGenericValidator) ì‘ì„±</li><li>validator-rules.xml ì„¤ì •</li><li>validator.xml ì„¤ì •</li><li>ì—ëŸ¬ë©”ì‹œì§€ ì„¤ì •</li><li>TEST</li></ol><h3 id=fieldcheck-class-ì‘ì„±>FieldCheck class ì‘ì„±</h3><p>org.springmodules.validation.commons.FieldChecksë¥¼ ìƒì† ë°›ëŠ” RteFieldChecks í´ë˜ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
ê·¸ë¦¬ê³  ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ validationì„ ë‹´ë‹¹í•  validateIhIdNum ë©”ì†Œë“œë¥¼ ì¶”ê°€í•œë‹¤.
ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ validation ë¡œì§ì´ RteFieldChecks.validateIhIdNum() ì•ˆì— ìˆì–´ë„ ë˜ì§€ë§Œ, org.springmodules.validation.commons.FieldChecksì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë‹¤ë¥¸ Validatorì— ìœ„ì„í–ˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>egovframework.rte.ptl.mvc.validation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.commons.validator.Field</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.commons.validator.ValidatorAction</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.validation.Errors</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springmodules.validation.commons.FieldChecks</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>RteFieldChecks</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>FieldChecks</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>validateIhIdNum</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Object</span> <span style=color:#000>bean</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ValidatorAction</span> <span style=color:#000>va</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#000>Field</span> <span style=color:#000>field</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Errors</span> <span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>){</span>
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//beanì—ì„œ í•´ë‹¹ field ê°’ì„ ì¶”ì¶œ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>String</span> <span style=color:#000>ihidnum</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>FieldChecks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>extractValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>bean</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>field</span><span style=color:#ce5c00;font-weight:700>);</span> 
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>                <span style=color:#8f5902;font-style:italic>//ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬ ì•Œê³ ë¦¬ì¦˜ì€ RteGenericValidatorê°€ ê°€ì§€ê³  ìˆë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>if</span><span style=color:#ce5c00;font-weight:700>(!</span><span style=color:#000>RteGenericValidator</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isValidIdIhNum</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ihidnum</span><span style=color:#ce5c00;font-weight:700>)){</span> <span style=color:#8f5902;font-style:italic>//ìœ íš¨í•œ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ê°€ ì•„ë‹ˆë©´
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>FieldChecks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>rejectValue</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>errors</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>field</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>va</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//ì—ëŸ¬ ì²˜ë¦¬
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span><span style=color:#204a87;font-weight:700>else</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=validator-class-ì‘ì„±>Validator class ì‘ì„±</h3><p>ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ìœ íš¨ì„±ì²´í¬ ë¡œì§ì´ ìˆëŠ” RteGenericValidator í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•´ ë³´ì.
ìœ íš¨ì„± ì²´í¬ ê¸°ì¤€ì€</p><ol><li>ê°’ì˜ ê¸¸ì´ê°€ 13ìë¦¬ì´ë©°, 7ë²ˆì§¸ ìë¦¬ê°€ 1,2,3,4 ì¤‘ì— í•˜ë‚˜ì¸ê°€?</li><li>ì• 6ìë¦¬ì˜ ê°’ì´ ìœ íš¨í•œ ë‚ ì§œì¸ê°€?</li><li>ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ë§ˆì§€ë§‰ ìë¦¬ë¥¼ ì´ìš©í•œ check</li></ol><p>ë¡œ í–ˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>egovframework.rte.ptl.mvc.validation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.io.Serializable</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.commons.validator.GenericTypeValidator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>RteGenericValidator</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>Serializable</span> <span style=color:#ce5c00;font-weight:700>{</span>	
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>isValidIdIhNum</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>		
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//ê°’ì˜ ê¸¸ì´ê°€ 13ìë¦¬ì´ë©°, 7ë²ˆì§¸ ìë¦¬ê°€ 1,2,3,4 ì¤‘ì— í•˜ë‚˜ì¸ì§€ check.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>String</span> <span style=color:#000>regex</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;\\d{6}[1234]\\d{6}&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(!</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>matches</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>regex</span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//ì• 6ìë¦¬ì˜ ê°’ì´ ìœ íš¨í•œ ë‚ ì§œì¸ì§€ check.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>String</span> <span style=color:#000>strDate</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>substring</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>6</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#000>strDate</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>charAt</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#39;1&#39;</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>charAt</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#39;2&#39;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#4e9a06>&#34;19&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;20&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>strDate</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>			<span style=color:#000>strDate</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>strDate</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>substring</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;/&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>strDate</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>substring</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>6</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>					<span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;/&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>strDate</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>substring</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>8</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>			<span style=color:#000>SimpleDateFormat</span> <span style=color:#000>dateformat</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>SimpleDateFormat</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;yyyy/MM/dd&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Date</span> <span style=color:#000>date</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>dateformat</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>parse</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>strDate</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#000>String</span> <span style=color:#000>resultStr</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>dateformat</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>format</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>date</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(!</span><span style=color:#000>resultStr</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>equalsIgnoreCase</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>strDate</span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>				<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>			<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ParseException</span> <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#8f5902;font-style:italic>// TODO Auto-generated catch block
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>printStackTrace</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ë§ˆì§€ë§‰ ìë¦¬ë¥¼ ì´ìš©í•œ check.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>char</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>charArray</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toCharArray</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>long</span> <span style=color:#000>sum</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>int</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>arrDivide</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>6</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>7</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>8</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>9</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>5</span> <span style=color:#ce5c00;font-weight:700>};</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>for</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>i</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#000>i</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#000>charArray</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>length</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>++)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>sum</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#000>Integer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>parseInt</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>valueOf</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>charArray</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>]))</span>
</span></span><span style=display:flex><span>					<span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#000>arrDivide</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>];</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>checkdigit</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>((</span><span style=color:#204a87;font-weight:700>int</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>11</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>sum</span> <span style=color:#ce5c00;font-weight:700>%</span> <span style=color:#0000cf;font-weight:700>11</span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>%</span> <span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>checkdigit</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>Integer</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>parseInt</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>valueOf</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>charArray</span><span style=color:#ce5c00;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>12</span><span style=color:#ce5c00;font-weight:700>])))</span> <span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#204a87;font-weight:700>true</span>
</span></span><span style=display:flex><span>				<span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=validator-rulesxml-ì„¤ì •>validator-rules.xml ì„¤ì •</h3><p>ì´ì œ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ validation ruleì„ ì¶”ê°€í•´ ë³´ì.
rule ì´ë¦„ì€ ihidnumìœ¼ë¡œ í•˜ê³  ìœ„ì—ì„œ ì‘ì„±í•œ ì½”ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì„¤ì •í•˜ë©´, (ì´ë¯¸ ìœ„ ê°œìš”ì— ë‚˜ì˜¨ ëŒ€ë¡œ) ì•„ë˜ì™€ ê°™ë‹¤.
client-validationì„ ìœ„í•´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë„ ì¶”ê°€í–ˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;validator</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;ihidnum&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#c4a000>classname=</span><span style=color:#4e9a06>&#34;egovframework.rte.ptl.mvc.validation.RteFieldChecks&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#c4a000>method=</span><span style=color:#4e9a06>&#34;validateIhIdNum&#34;</span>
</span></span><span style=display:flex><span>         <span style=color:#c4a000>methodParams=</span><span style=color:#4e9a06>&#34;java.lang.Object,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                       org.apache.commons.validator.ValidatorAction,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                       org.apache.commons.validator.Field,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                       org.springframework.validation.Errors&#34;</span>                       
</span></span><span style=display:flex><span>              <span style=color:#c4a000>depends=</span><span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>                  <span style=color:#c4a000>msg=</span><span style=color:#4e9a06>&#34;errors.ihidnum&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>           <span style=color:#204a87;font-weight:700>&lt;javascript&gt;</span><span style=color:#8f5902;font-style:italic>&lt;![CDATA[
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>           function validateIhIdNum(form) {
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                var bValid = true;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                var focusField = null;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                var i = 0;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                var fields = new Array();
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                oIhidnum = new ihidnum();                
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                for (x in oIhidnum) {
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                	var field = form[oIhidnum[x][0]];
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                	if (field.type == &#39;text&#39; ||
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                    	field.type == &#39;hidden&#39; ||
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                        field.type == &#39;textarea&#39;) {
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                        if (trim(field.value).length==0 || !checkIhIdNum(field.value)) {
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                            if (i == 0) {
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                                focusField = field;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                            }
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                            fields[i++] = oIhidnum[x][1];
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                            bValid = false;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                        }
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                    }
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                }
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                if (fields.length &gt; 0) {
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                    alert(fields.join(&#39;\n&#39;));
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                }
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>                return bValid;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            }
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic> 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            /**
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>             * Reference: JS Guide
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>             * http://jsguide.net/ver2/articles/frame.php?artnum=002
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>             */             
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            function checkIhIdNum(ihidnum){
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic> 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	fmt = /^\d{6}[1234]\d{6}$/;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	if(!fmt.test(ihidnum)){
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            		return false;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	}
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic> 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	birthYear = (ihidnum.charAt(7) &lt;= &#34;2&#34;) ? &#34;19&#34; : &#34;20&#34;;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>				birthYear += ihidnum.substr(0, 2);
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>				birthMonth = ihidnum.substr(2, 2) - 1;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>				birthDate = ihidnum.substr(4, 2);
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>				birth = new Date(birthYear, birthMonth, birthDate);
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic> 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>				if( birth.getYear() % 100 != ihidnum.substr(0, 2) ||
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>				    birth.getMonth() != birthMonth ||
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>				    birth.getDate() != birthDate) {
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>				    return false;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>				}
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic> 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	var arrDivide = [2, 3, 4, 5, 6, 7, 8, 9, 2, 3, 4, 5];            	
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	var checkdigit = 0;            	
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	for(var i=0;i&lt;ihidnum.length-1;i++){
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            		checkdigit += parseInt(ihidnum.charAt(i)) * parseInt(arrDivide[i]);
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	}
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	checkdigit = (11 - (checkdigit%11))%10;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	if(checkdigit != ihidnum.charAt(12)){
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            		return false;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	}else{
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            		return true;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            	}
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            }
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>            ]]&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#204a87;font-weight:700>&lt;/javascript&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;/validator&gt;</span>
</span></span></code></pre></div><h3 id=validatorxml-ì„¤ì •>validator.xml ì„¤ì •</h3><p>ihidnumì´ë€ í•„ë“œì— ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ validation ì²´í¬ë¥¼ í•´ë³´ì.
validator.xmlì— í•„ìš”í•œ ë‚´ìš©ì„ ì¶”ê°€í•˜ê³ .</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;form-validation&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;formset&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;form</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;employee&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        	...
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;field</span> <span style=color:#c4a000>property=</span><span style=color:#4e9a06>&#34;ihidnum&#34;</span> <span style=color:#c4a000>depends=</span><span style=color:#4e9a06>&#34;ihidnum&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>                ... 
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/form&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/formset&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/form-validation&gt;</span>
</span></span></code></pre></div><h3 id=ì—ëŸ¬ë©”ì‹œì§€-ì„¤ì •>ì—ëŸ¬ë©”ì‹œì§€ ì„¤ì •</h3><p>messages í”„ë¡œí¼í‹°ì— ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ì¶”ê°€í•˜ì.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#c4a000>errors.ihidnum</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>ìœ íš¨í•˜ì§€ ì•Šì€ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ì…ë‹ˆë‹¤.</span>
</span></span></code></pre></div><h3 id=test>TEST</h3><p>ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ server-side,client-side validatinì„ ìœ„í•œ í™˜ê²½ì€ ë‹¤ ê°–ì¶”ì–´ì¡Œë‹¤.
ì´ì œ EmployeeControllerì— validationì„ ì¶”ê°€í•˜ê³ ,(ì´ë¯¸ ì¶”ê°€ë˜ì–´ ìˆë‹¤ë©´ pass)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.controller.annotation</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springmodules.validation.commons.DefaultBeanValidator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EmployeeController</span> <span style=color:#ce5c00;font-weight:700>{</span>	
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Autowired</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>DefaultBeanValidator</span> <span style=color:#000>beanValidator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/updateEmployee.do&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>updateEmployee</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@ModelAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;employee&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>Employee</span> <span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>,</span>			
</span></span><span style=display:flex><span>			<span style=color:#000>BindingResult</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>beanValidator</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>validate</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//validation ìˆ˜í–‰
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>bindingResult</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasErrors</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>//ë§Œì¼ validation ì—ëŸ¬ê°€ ìˆìœ¼ë©´...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#ce5c00;font-weight:700>.....</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;modifyemployee&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#000>employeeManageService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>updateEmployee</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>employee</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;changenotify&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>        
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>VO Class(com.easycompany.model.Employee.java)ì— ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ í•„ë“œë¥¼ ì¶”ê°€í•˜ê³ ,</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>com.easycompany.model</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Employee</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>....</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>ihidnum</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>ihidnum1</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>ihidnum2</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>getIhidnum</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>ihidnum1</span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#000>ihidnum2</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>getIhidnum1</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>		
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>ihidnum1</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setIhidnum1</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>ihidnum1</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ihidnum1</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ihidnum1</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>getIhidnum2</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>ihidnum2</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setIhidnum2</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>ihidnum2</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ihidnum2</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ihidnum2</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>JSP(/easycompany/webapp/jsp/modifyemployee.jsp)ì— ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì…ë ¥ í•„ë“œë¥¼ ì¶”ê°€í•˜ì.</p><pre tabindex=0><code class=language-jsp data-lang=jsp>...
	&lt;tr&gt;
		&lt;th&gt;ì£¼ë¯¼ë²ˆí˜¸&lt;/th&gt;
		&lt;td&gt;
			&lt;form:input path=&#34;ihidnum1&#34; size=&#34;10&#34;/&gt; - &lt;form:input path=&#34;ihidnum2&#34; size=&#34;10&#34;/&gt;&lt;form:errors path=&#34;ihidnum&#34; /&gt;
			&lt;form:hidden path=&#34;ihidnum&#34;/&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
...
</code></pre><p>ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì§€ ì•Šê±°ë‚˜, í‹€ë¦°ë²ˆí˜¸ë¥¼ ì…ë ¥ì‹œì—” ì•„ë˜ì™€ ê°™ì€ ê²½ê³ ì°½ì´ ëœ¬ë‹¤.</p><p><img src=../images/ihidnum-validation.jpg alt=ihidnum-validation></p><p>í‹€ë¦° ì…ë ¥ê°’ìœ¼ë¡œ clientë¥¼ í†µê³¼í•˜ë”ë¼ë„ Controllerì—ì„œ validationì´ ì¶”ê°€ë¡œ ë™ì‘í•˜ë¯€ë¡œ, server-sideì—ì„œ validation errorê°€ ì¼ì–´ë‚ ê²ƒì´ë‹¤.</p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li>Spring Modules Reference Documentation v 0.9, Chapter 17.Validation, P133~13</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-1fd485618572aabc83908f6a1e83b440>23 - UI Adaptor Service</h1><div class=lead>ì „ìì •ë¶€ í‘œì¤€í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” Spring MVC Annotationì„ ê¸°ë°˜ìœ¼ë¡œ ìš”ì²­ URIì™€ Controller ë©”ì†Œë“œë¥¼ ë§¤í•‘í•˜ë©°, ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ë¡œ ì—…ë¬´ìš© DTO ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ê°€ì´ë“œí•œë‹¤. UI ì†”ë£¨ì…˜ê³¼ì˜ ì—°ë™ ë°©ì‹ì€ í”„ë¡œì íŠ¸ íŠ¹ì„±ì— ë§ê²Œ ì„¤ê³„í•´ì•¼ í•˜ë©°, ë³´í†µ Controllerì—ì„œ ë°ì´í„°ë¥¼ DTO í˜•íƒœë¡œ ë³€í™˜í•˜ì—¬ ì—…ë¬´ ë¡œì§ìœ¼ë¡œ ë„˜ê¸°ëŠ” ë°©ì‹ì´ ë§ì´ ì‚¬ìš©ëœë‹¤.</div><h1 id=ui-adaptor-service>UI Adaptor Service</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ì „ìì •ë¶€ í‘œì¤€í”„ë ˆì„ì›Œí¬ì™€ UI ì†”ë£¨ì…˜(Rich Internet Application) ì—°ë™ì— ëŒ€í•´ ì‚´í´ ë³¸ë‹¤.
UI Adaptorë¥¼ ì ìš©í•˜ëŠ” ë°©ì‹ì€ íŠ¹ì •í•œ í•˜ë‚˜ì˜ ë°©ë²•ì„ í‘œì¤€í™”í•˜ê¸° ì–´ë µë‹¤.
ë³´í†µ Web Framework ê³¼ UI ì†”ë£¨ì…˜ê³¼ì˜ ì—°ë™ì„ í•˜ëŠ” ë°©ë²• ì¤‘ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì€
Controller ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” Servlet ê°ì²´ì—ì„œ ì—…ë¬´ ë¡œì§ì„ í˜¸ì¶œ ì „ ë°ì´í„°ë¥¼ DTO í˜•íƒœë¡œ ë³€í™”í•˜ì—¬ ì—…ë¬´ ë¡œì§ìœ¼ë¡œ ë„˜ê¸°ëŠ” ë°©ì‹ì´ë‹¤.</p><p>ì „ìì •ë¶€ í‘œì¤€í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” Spring MVC Annotation ê¸°ë°˜ìœ¼ë¡œ ê°œë°œ ì‹œ ìš”ì²­ë˜ëŠ” URI ì™€ Controller í´ë˜ìŠ¤ë‚´ì˜ ë©”ì†Œë“œë¥¼ ë§¤í•‘í•˜ê³  ìˆë‹¤.
ë”°ë¼ì„œ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¤ëŠ” ê°ì²´ê°€ request ê°ì²´ê°€ ì•„ë‹Œ ì—…ë¬´ìš© DTO í´ë˜ìŠ¤ë¡œ ë„˜ì–´ì˜¬ ìˆ˜ ìˆë„ë¡ ê°€ì´ë“œ í•˜ëŠ” ë°©ì‹ì„ ì„ íƒí–ˆë‹¤.
(ì‚¬ì‹¤ @ModelAttribute ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤.)
í•˜ì§€ë§Œ í”„ë¡œì íŠ¸ ë³„ë¡œ ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ì˜ íŠ¹ì„±ì„ ê³ ë ¤í•˜ì—¬ ì í•©í•œ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì—¬ ì ìš©í•˜ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤.</p><p>UI ì†”ë£¨ì…˜ ì—…ì²´ë³„ ìƒì„¸ ê°€ì´ë“œ</p><ul><li><a href="https://www.egovframe.go.kr/wiki/lib/exe/fetch.php?media=egovframework:rte:ptl:%EB%A7%88%EC%9D%B4%ED%94%8C%EB%9E%AB%ED%8F%BC_%EC%97%B0%EB%8F%99_%EC%83%98%ED%94%8C_%EC%84%A4%EB%AA%85%EC%84%9C%ED%8F%AC%ED%95%A8_.zip">ì—°ë™_ìƒ˜í”Œ_ì„¤ëª…ì„œí¬í•¨_.zip</a> - written by ê³ ì„ë¥ (MiPlatform)</li><li><a href=https://maven.egovframe.go.kr/publist/HDD1/public/XPlatform.zip>XPlatform.zip</a> - XPlatform ì œê³µ(ì‹ ê·œ í…œí”Œë¦¿)</li><li>ë„¥ì‚¬í¬ë¡œ<ul><li><a href=https://maven.egovframe.go.kr/publist/HDD1/public/nexacro14/nexacroPlatform_UI%20Adaptor-Guide.zip>ë„¥ì‚¬í¬ë¡œí”Œë«í¼ UI Adaptor ê°œë°œê°€ì´ë“œ.zip</a> - ë„¥ì‚¬í¬ë¡œí”Œë«í¼</li><li><a href=https://maven.egovframe.go.kr/publist/HDD1/public/nexacro14/nexacro14_2015.03.05.01(14.0.0.143).zip>nexacro14_2015.03.05.01(14.0.0.143).zip</a> - nexacro14</li><li><a href=https://maven.egovframe.go.kr/publist/HDD1/public/nexacro14/eGovFrame-3.2.7z>eGovFrame-3.2.7z</a> - ê°œë°œí”„ë¡œì íŠ¸</li></ul></li><li>í† ë§ˆí† ì‹œìŠ¤í…œì¦ˆ</li><li>SHIFT(Gauce)</li></ul><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>ì¤‘ì ì ìœ¼ë¡œ ìš°ë¦¬ê°€ ì‚´í´ë³¼ ë‚´ìš©ì€ Controller ì•ë‹¨ì—ì„œ UI ì†”ë£¨ì…˜ìœ¼ë¡œë¶€í„° ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ DTO ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ë‹¤.
ë°ì´íƒ€ ë³€í™˜ì„ ìœ„í•´ ìš°ë¦¬ëŠ” ArgumentResolver ë¥¼ ì´ìš©í•œ ë°©ë²•ì„ ì‚´í´ë³´ë„ë¡ í•˜ê² ë‹¤.
UI ì†”ë£¨ì…˜ìœ¼ë¡œ ë„˜ì–´ì˜¤ëŠ” ë°ì´í„° ê°ì²´ëŠ” request ê°ì²´ì— í¬í•¨ë˜ì–´ ë„˜ì–´ì˜¨ë‹¤. ìš°ë¦¬ê°€ í•„ìš”í•œ ê²ƒì€ ì—…ë¬´ìš© DTO í´ë˜ìŠ¤ì´ë‹¤.
ì—…ë¬´ìš© DTO í´ë˜ìŠ¤ëŠ” URI(@RequestMapping)ì™€ ë§¤í•‘ ëœ Controller ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ë¡œ ì¡´ì¬í•˜ê²Œ ëœë‹¤.
Controller ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì— ì„¤ì •ëœ í´ë˜ìŠ¤(ì—¬ê¸°ì„œëŠ” DTO)ë¥¼ AnnotationMethodHandlerAdapter ì—ì„œ
ê·¸ì— í•´ë‹¹í•˜ëŠ” ArgumentResolvers(customArgumentResolversí¬í•¨) ë¥¼ í˜¸ì¶œí•´ì¤€ë‹¤.
ë”°ë¼ì„œ ìš°ë¦¬ëŠ” ArgumentResolverë¥¼ í™•ì¥í•˜ì—¬ CustomRiaArgumentResolver ê°œë°œí•˜ì—¬ AnnotationMethodHandlerAdapterì— ë“±ë¡í•œë‹¤.
CustomRiaArgumentResolver ì—ì„œ ë¦¬í„´ë˜ëŠ” ê°ì²´ëŠ” Contorller ë‹¨ì˜ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ë¡œ ì´ìš©ëœë‹¤.</p><ul><li>ì°¸ê³  : AnnotationMethodHandlerAdapter ëŠ” URI ì™€ ë§¤í•‘ë˜ëŠ” Contorller ì˜ ë©”ì†Œë“œë¥¼ ì‹¤í–‰ ì‹œ íŒŒë¼ë¯¸í„°ë¡œ ì¡´ì¬í•˜ëŠ” ê°ì²´íƒ€ì…ì—ëŒ€í•œ ArgumentResolverë¥¼ ì‹¤í–‰í•˜ì—¬ ê°€ì ¸ì˜¨ë‹¤.</li></ul><p>ê·¸ë¦¬ê³  Controllerë‹¨ì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ViewResovlerë¥¼ í†µí•´ RiaView ë¡œ ì „ì†¡ë˜ë©° RiaVeiwëŠ” ê²°ê³¼ë¬¼ì¸ DTO ë¥¼ UI ì†”ë£¨ì…˜ ë°ì´í„° íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ responseë¡œ ë³´ë‚´ì–´ ì§„ë‹¤.
ë‹¤ì‹œ í•µì‹¬ì ì¸ ë‚´ìš©ì„ ì •ë¦¬í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ol><li>AnnotationMethodHandlerAdapter ì˜ CustomRiaArgumentResolver ë“±ë¡ â‡’ CustomRiaArgumentResolver</li><li>UIAdaptor ë“±ë¡ â‡’ UIAdaptorImpl</li><li>RiaView ë“±ë¡ â‡’ RiaView</li></ol><p>ì‚¬ìš©ë˜ëŠ” DTO ë¥¼ ì•„ë˜ í´ë˜ìŠ¤ë¡œ ìƒê°í•˜ê³  ì‚´í´ë³´ê² ë‹¤.</p><p>UdDTO.java(ìƒ˜í”Œ)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>UdDTO</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>Serializable</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>Map</span> <span style=color:#000>variableList</span> <span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>Map</span> <span style=color:#000>dataSetList</span> <span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>Map</span> <span style=color:#000>Objects</span> <span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setVariableList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Map</span> <span style=color:#000>variableList</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>variableList</span><span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>variableList</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setDataSetList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Map</span> <span style=color:#000>dataSetList</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>dataSetList</span><span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>dataSetList</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Map</span> <span style=color:#000>getVariableList</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>variableList</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Map</span> <span style=color:#000>getDataSetList</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>dataSetList</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setObjects</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Map</span> <span style=color:#000>objects</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#000>Objects</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>objects</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Map</span> <span style=color:#000>getObjects</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Objects</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span></code></pre></div><h3 id=uiì†”ë£¨ì…˜ë°ì´íƒ€ì—ì„œ-dtoë¡œ-ë³€í™˜>UIì†”ë£¨ì…˜ë°ì´íƒ€ì—ì„œ DTOë¡œ ë³€í™˜</h3><p>ë‹¤ìŒì€ UTO ë¥¼ ê°€ì ¸ì™€ UI ì†”ë£¨ì…˜ì— ì˜í•´ ë“¤ì–´ì˜¤ëŠ” ê°ì²´ë¡œë¶€í„° UTO ë¡œ ë³€í™˜í•˜ëŠ” ë¶€ë¶„ì„ ì„¤ëª…í•œë‹¤.
ë³€í™˜ì„ ë‹´ë‹¹í•˜ëŠ” UIAdaptorImpl ê°ì²´ëŠ” AnnotationMethodHandlerAdapter ì˜ <strong>CustomRiaArgumentResolver</strong> ì— ì„¤ì •ëœë‹¤.</p><p><strong>ì„¤ì •ì •ë³´(CustomRiaArgumentResolver)</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;webBindingInitializer&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.rte.fdl.web.common.EgovBindingInitializer&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;customArgumentResolvers&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.rte.fdl.sale.web.CustomRiaArgumentResolver&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;uiAdaptor&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&lt;ref</span> <span style=color:#c4a000>bean=</span><span style=color:#4e9a06>&#34;riaAdaptor&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div><p>WebArgumentResolverì˜ êµ¬í˜„ì²´ì¸ CustomRiaArgumentResolver ëŠ” uiAdaptor ì— ì„¸íŒ…ëœ Adaptor ë¥¼ ì‹¤í–‰í•´ì¤€ë‹¤.</p><p><strong>CustomRiaArgumentResolver.java</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>CustomRiaArgumentResolver</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebArgumentResolver</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>UiAdaptor</span> <span style=color:#000>uiA</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setUiAdaptor</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>UiAdaptor</span> <span style=color:#000>uiA</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>uiA</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>uiA</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Object</span> <span style=color:#000>resolveArgument</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MethodParameter</span> <span style=color:#000>methodParameter</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>NativeWebRequest</span> <span style=color:#000>webRequest</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Class</span><span style=color:#ce5c00;font-weight:700>&lt;?&gt;</span> <span style=color:#000>type</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>methodParameter</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameterType</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Object</span> <span style=color:#000>uiObject</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>uiA</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>UNRESOLVED</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//Controllerì˜ ì‹¤í–‰ë˜ëŠ” ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°íƒ€ì… ì •ë³´ê°€ MethodParameterë¥¼ í†µí•´ ë„˜ì–´ì˜¨ë‹¤. 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#8f5902;font-style:italic>//ì„¤ì •í•œ UIAdaptro êµ¬í˜„ì²´ì— ë“±ë¡ë˜ì–´ ìˆëŠ” UTO ì™€ ë¹„êµí•œë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>type</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>equals</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>uiA</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getModelName</span><span style=color:#ce5c00;font-weight:700>()))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>webRequest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getNativeRequest</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#8f5902;font-style:italic>// ì—¬ê¸°ì„œ ë°ì´íƒ€ ë§Œë“¤ì–´ ë„˜ê¸´ë‹¤.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>uiObject</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>UdDTO</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>uiA</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>convert</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>uiObject</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>UNRESOLVED</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span></code></pre></div><p>UiAdaptor ì˜ êµ¬í˜„ì²´ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ì—¬ê¸°ì„œëŠ” Miplatform ì˜ ì˜ˆë¥¼ ë“¤ì–´ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.
UI ì†”ë£¨ì…˜ì˜ ê°ì²´ì—ì„œ DTO ë¡œ ë°ì´í„°ë¥¼ ì˜®ê¸°ëŠ” ì—­í• ì€ converte4In ë©”ì†Œë“œì—ì„œ ìˆ˜í–‰ëœë‹¤.</p><p><strong>RiaAdaptorImpl.java(MiPlatform â‡’ UdDTO)</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>RiaAdaptorImpl</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>UiAdaptor</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>Log</span> <span style=color:#000>log</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>LogFactory</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getLog</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getClass</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>//resolveArgument ë©”ì†Œë“œì—ì„œ í˜¸ì¶œí•˜ëŠ” ë©”ì†Œë“œ 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Object</span> <span style=color:#000>convert</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>PlatformRequest</span> <span style=color:#000>platformRequest</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>platformRequest</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>PlatformRequest</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>PlatformRequest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>CHARSET_UTF8</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#000>platformRequest</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>receiveData</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>IOException</span> <span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getStackTrace</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#8f5902;font-style:italic>// throw new IOException(&#34;PlatformRequest error&#34;);
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//UI ì†”ë£¨ì…˜ ë°ì´í„°ì—ì„œ DTO ê°ì²´ë¡œ ë³€í™˜
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>UdDTO</span> <span style=color:#000>dto</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>converte4In</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>platformRequest</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>dto</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>UdDTO</span> <span style=color:#000>converte4In</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>PlatformRequest</span> <span style=color:#000>platformRequest</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>UdDTO</span> <span style=color:#000>dto</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>UdDTO</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//... DTO ë˜ëŠ” VO ê°’ ì±„ìš°ê¸° 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#ce5c00;font-weight:700>.....</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>dto</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Class</span> <span style=color:#000>getModelName</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>UdDTO</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=controller-ë©”ì†Œë“œ-êµ¬í˜„>Controller ë©”ì†Œë“œ êµ¬í˜„</h3><p>UdDTO í´ë˜ìŠ¤ëŠ” CustomRiaArgumentResolver ì—ì„œ ë§Œë“¤ì–´ì ¸ Controller ì˜ ë©”ì†Œë“œì˜ parameter í˜•íƒœë¡œ ê°€ì ¸ì˜¨ë‹¤.
ì•„ë˜ ì˜ˆëŠ” Controller ë‹¨ì˜ ë©”ì†Œë“œ ì´ë‹¤.</p><p><strong>XXCategoryController.java</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/sample/miplatform.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ModelAndView</span> <span style=color:#000>selectCategoryList4Mi</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>UdDTO</span> <span style=color:#000>miDto</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>ModelAndView</span> <span style=color:#000>mav</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ModelAndView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;riaView&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>//ì¡°íšŒì¡°ê±´ì´ ìˆì„ ê²½ìš° ì‚¬ìš©ë  Map
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>smp</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HashMap</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;();</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		  <span style=color:#8f5902;font-style:italic>//Biz Layer ë¥¼ í˜¸ì¶œ í•œë‹¤. 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>List</span> <span style=color:#000>resultList</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>categoryService</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>selectCategoryList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>smp</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>			<span style=color:#8f5902;font-style:italic>//ê²°ê³¼ê°’ì„ ëª¨ë¸ì— ì €ì¥ 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;MiDTO&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>resultList</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Exception</span> <span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>log</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getStackTrace</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>mav</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=beannameviewresolver-ì„¤ì •>BeanNameViewResolver ì„¤ì •</h3><p>ëª¨ë¸ ê°ì²´ì˜ ì´ë¦„ì´ riaView ì´ë‹¤. ì´ê²ƒì€ Bean Nameì„ ì§ì ‘ ëª…ì‹œí•œ ê²ƒìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ì„¤ì •(BeanNameViewResolver)ì´ í•„ìš”í•˜ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.BeanNameViewResolver&#34;</span> <span style=color:#c4a000>p:order=</span><span style=color:#4e9a06>&#34;0&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.UrlBasedViewResolver&#34;</span>
</span></span><span style=display:flex><span>		<span style=color:#c4a000>p:order=</span><span style=color:#4e9a06>&#34;1&#34;</span> <span style=color:#c4a000>p:viewClass=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.JstlView&#34;</span>
</span></span><span style=display:flex><span>		<span style=color:#c4a000>p:prefix=</span><span style=color:#4e9a06>&#34;/WEB-INF/jsp/&#34;</span> <span style=color:#c4a000>p:suffix=</span><span style=color:#4e9a06>&#34;.jsp&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;riaView&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.rte.fdl.sale.web.RiaView&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><h3 id=riaview-êµ¬í˜„>RiaView êµ¬í˜„</h3><p>RiaView ì˜ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤. DTO ë¥¼ ì—…ì²´ì— ë§ì¶° ë‹¤ì‹œ ê°€ì ¸ ë‚˜ê°€ê¸° ìœ„í•´ convert í•˜ëŠ” ëª¨ë“ˆì´ë‹¤.
ì—¬ê¸°ì„œëŠ” Miplatform ê°ì²´ë¡œ ë³€í™˜í•œë‹¤. egovDs ë¼ëŠ” DataSet ìœ¼ë¡œ ê°ì²´í™” í•œí›„ stream í˜•íƒœë¡œ ë³´ë‚´ëŠ” ë¡œì§ì´ë‹¤.
ë”°ë¼ì„œ ì—…ì²´ë³„ ë°ì´íƒ€ í˜•íƒœë¡œ ë³€í™˜í•˜ì—¬ ë³´ë‚´ë„ë¡ ìˆ˜ì •í•˜ë©´ ëœë‹¤.</p><p><strong>RiaView.java(DTO â‡’ MiPlatform)</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>....</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>RiaView</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>AbstractView</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#000>Log</span> <span style=color:#000>log</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>LogFactory</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getLog</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getClass</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@SuppressWarnings</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;unchecked&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>protected</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>renderMergedOutputModel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Map</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>HttpServletResponse</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>	        <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>VariableList</span> <span style=color:#000>miVariableList</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>VariableList</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>DatasetList</span> <span style=color:#000>miDatasetList</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DatasetList</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>PlatformData</span> <span style=color:#000>platformData</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>PlatformData</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>miVariableList</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>miDatasetList</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>List</span> <span style=color:#000>list</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;MiDTO&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Iterator</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>iterator</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>list</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>iterator</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Iterator</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>dataIterator</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>list</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>iterator</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>Dataset</span> <span style=color:#000>dataset</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Dataset</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;egovDs&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>while</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>iterator</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasNext</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#8f5902;font-style:italic>// Header ì„¸íŒ…
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>record</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>iterator</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>next</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Iterator</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>si</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>record</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>keySet</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>iterator</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>while</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>si</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasNext</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>				<span style=color:#000>String</span> <span style=color:#000>key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>si</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>next</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>				<span style=color:#000>dataset</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addColumn</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ColumnInfo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>COLUMN_TYPE_STRING</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>short</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#0000cf;font-weight:700>255</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>while</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>dataIterator</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasNext</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Map</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>record</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>dataIterator</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>next</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Iterator</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>si</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>record</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>keySet</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>iterator</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#8f5902;font-style:italic>// Header ì„¸íŒ…
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>while</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>si</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasNext</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>				<span style=color:#000>String</span> <span style=color:#000>key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>si</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>next</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>				<span style=color:#000>dataset</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addColumn</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ColumnInfo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>COLUMN_TYPE_STRING</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>short</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#0000cf;font-weight:700>255</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>			<span style=color:#8f5902;font-style:italic>// Value ì„¸íŒ…
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>row</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>dataset</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>appendRow</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Iterator</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>si2</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>record</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>keySet</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>iterator</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>while</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>si2</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>hasNext</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>				<span style=color:#000>String</span> <span style=color:#000>key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>si2</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>next</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>				<span style=color:#000>String</span> <span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>record</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>				<span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;key = &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>key</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34; , value = &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>				<span style=color:#000>dataset</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setColumn</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>row</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>key</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>			<span style=color:#000>miDatasetList</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>dataset</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>try</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>PlatformResponse</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>PlatformConstants</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>CHARSET_UTF8</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>sendData</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>platformData</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>IOException</span> <span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>log</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isErrorEnabled</span><span style=color:#ce5c00;font-weight:700>())</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>				<span style=color:#000>log</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>error</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Exception occurred while writing xml to MiPlatform Stream.&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ex</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>			<span style=color:#204a87;font-weight:700>throw</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h1 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h1></div><div class=td-content style=page-break-before:always><h1 id=pg-abc8b87ef1cdce547d3438e20f288215>24 - Asynchronous request processing</h1><div class=lead>Servlet 3.0ê³¼ Spring MVC 3.2 ì´ìƒì—ì„œëŠ” ë¹„ë™ê¸° ìš”ì²­ ì²˜ë¦¬ë¥¼ í†µí•´ ìš”ì²­ ì“°ë ˆë“œê°€ ë°˜í™˜ëœ í›„ì—ë„ ë‚´ë¶€ ì“°ë ˆë“œì—ì„œ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ <code>Callable</code>, <code>DeferredResult</code>, <code>WebAsyncTask</code> ë“±ì„ ì‚¬ìš©í•´ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì„ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ê³ , ì™„ë£Œ í›„ ì‘ë‹µì„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.</div><h1 id=asynchronous-request-processing>Asynchronous request processing</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ê¸°ì¡´ì˜ ìš”ì²­ ì²˜ë¦¬ëŠ” í•˜ë‚˜ì˜ ìš”ì²­ì— ëŒ€í•´ í•œ ê°œì˜ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤. í•˜ë‚˜ì˜ ì“°ë ˆë“œì—ì„œ ìš”ì²­-ì‘ë‹µ ê³¼ì •ì„ ëª¨ë‘ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ìš”ì²­ì²˜ë¦¬ ì´í›„ ì‘ë‹µì´ ì˜¤ê¸°ê¹Œì§€ ì“°ë ˆë“œë¥¼ ëŒ€ê¸°ìƒíƒœë¡œ ìœ ì§€í•˜ì˜€ë‹¤. ê·¸ëŸ¬ë‚˜ ì„œë²„ì™€ì˜ ì—°ê²°ì„ ìœ ì§€í•œì±„ ëŒ€ê¸°ìƒíƒœë¡œ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì„œë²„ì™€ì˜ ì²˜ë¦¬ë¥¼ ê³„ì† ì´ì–´ê°€ê²Œ í•´ì£¼ê¸° ìœ„í•´ì„œëŠ” ì´ëŸ¬í•œ ê¸°ì¡´ì˜ ì²˜ë¦¬ì— í•œê³„ê°€ ìˆì—ˆë‹¤.</p><p>Servlet 3.0ì—ì„œ ì œê³µí•˜ëŠ” ë¹„ë™ê¸° ìš”ì²­ ì²˜ë¦¬ëŠ” ì“°ë ˆë“œê°€ ëŒ€ê¸°ìƒíƒœë¡œ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” Servlet ì“°ë ˆë“œê°€ ìš”ì²­í›„ ë°”ë¡œ ë°˜í™˜ë˜ê³  ë‚´ë¶€ì˜ ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì´ë¥¼ ì²˜ë¦¬í–ˆë‹¤ê°€ ì²˜ë¦¬ì™„ë£Œ í›„ ì‘ë‹µì²˜ë¦¬ ë¦¬ì†ŒìŠ¤ê°€ ê°€ìš©í•  ë•Œ Servletì“°ë ˆë“œê°€ ì‘ë‹µì²˜ë¦¬ë¥¼ ê³„ì† ì´ì–´ê°€ê²Œ í•´ ì£¼ëŠ” ê²ƒì´ë‹¤.</p><p>ë¹„ë™ê¸° ìš”ì²­ì²˜ë¦¬ë¥¼ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ í™˜ê²½ì´ í•„ìš”í•˜ë‹¤.</p><ul><li>Servlet 3.0ì´ìƒ</li><li>Spring MVC 3.2ì´ìƒ (eGov 3.0ì— í¬í•¨)</li><li>Web.xml ì„¤ì • ë³€ê²½</li></ul><h3 id=servlet-30ì„-ìœ„í•œ-pom-dependencyë³€ê²½>Servlet 3.0ì„ ìœ„í•œ pom dependencyë³€ê²½</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- Servlet --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>javax.servlet<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>javax.servlet-api<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>3.0.1<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;scope&gt;</span>provided<span style=color:#204a87;font-weight:700>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></div><h3 id=webxmlì„¤ì •-ë³€ê²½>web.xmlì„¤ì • ë³€ê²½</h3><p>web.xmlì˜ servletë²„ì „ì„ ë³€ê²½í•´ì•¼í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;web-app</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://java.sun.com/xml/ns/javaee&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#c4a000>version=</span><span style=color:#4e9a06>&#34;3.0&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/web-app&gt;</span>
</span></span></code></pre></div><p>web.xmlë‚´ì˜ servletì„¤ì •ì— async-supported íƒœê·¸ ê°’ì„ trueë¡œ ì„¤ì •í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>appServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;init-param&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;param-name&gt;</span>contextConfigLocation<span style=color:#204a87;font-weight:700>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;param-value&gt;</span>/WEB-INF/spring/appServlet/servlet-context.xml<span style=color:#204a87;font-weight:700>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;/init-param&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;load-on-startup&gt;</span>1<span style=color:#204a87;font-weight:700>&lt;/load-on-startup&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>&lt;async-supported&gt;</span>true<span style=color:#204a87;font-weight:700>&lt;/async-supported&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/servlet&gt;</span>
</span></span></code></pre></div><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>Springì˜ ë¹„ë™ê¸° ìš”ì²­ì²˜ë¦¬ì—ì„œëŠ” Servlet ì“°ë ˆë“œëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  Springì˜ Async ì œê³µ í´ë˜ìŠ¤ë¥¼ í†µí•´ ë¹„ë™ê¸°ëª¨ë“œë¡œ ì „í™˜ë˜ë©° Servlet ì“°ë ˆë“œëŠ” ë°˜í™˜ëœë‹¤. ê·¸ í›„ ë‚´ë¶€ Applicationì˜ ì“°ë ˆë“œì—ì„œ ì„œë¹„ìŠ¤ ì²˜ë¦¬ê°€ ì¼ì–´ë‚˜ê²Œ ëœë‹¤. ì²˜ë¦¬ì™„ë£Œ í›„ Servlet ì“°ë ˆë“œê°€ ë‹¤ì‹œ ì‘ë‹µì„ ë°›ì•„ ì´ë¥¼ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡í•œë‹¤.</p><p>Springì˜ ë¹„ë™ê¸° ìš”ì²­ì²˜ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” ClassëŠ” Servlet ì“°ë ˆë“œê°€ ë°˜í™˜ëœ ì´í›„ ë‚´ë¶€ ì„œë¹„ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì“°ë ˆë“œì˜ ì¢…ë¥˜ì— ë”°ë¼ ë‚˜ë‰œë‹¤.</p><h3 id=callable>Callable</h3><p>ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” Servlet ì“°ë ˆë“œê°€ ë°˜í™˜ë˜ë©´ Spring MVCì—ì„œ ì œì–´í•˜ëŠ” ì“°ë ˆë“œì— ì˜í•´ ë¹„ë™ê¸°ì²˜ë¦¬ëœë‹¤.</p><p>Callableì˜ ì²˜ë¦¬ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ol><li>Controllerì˜ RequestMapping methodì—ì„œ ì¼ë°˜ì ì¸ ë·° ê°ì²´ë‚˜ Stringê°’ì„ ë¦¬í„´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ Callableê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤.</li><li>Callableì´ ë¦¬í„´ë  ë•Œ Servlet ì“°ë ˆë“œê°€ ë°˜í™˜ë˜ë©° ë¹„ë™ê¸°ì²˜ë¦¬ë¥¼ Callableì—ê²Œ ìœ„ì„í•œë‹¤.</li><li>Spring MVCë‚´ì˜ TaskExcutorì—ì„œ ê´€ë¦¬ë˜ëŠ” ì“°ë ˆë“œì—ì„œ Asyncì²˜ë¦¬ê°€ ëœë‹¤.</li><li>Callableë‚´ë¶€ì˜ call()í•¨ìˆ˜ì—ì„œ ë¦¬í„´ë˜ëŠ” ê°’ì´ ë‹¤ì‹œ Servlet ì“°ë ˆë“œë¡œ ì „ë‹¬ëœë‹¤.</li></ol><p>Callableì€ ì£¼ë¡œ ìš”ì²­ì²˜ë¦¬ê°€ ì˜¤ë˜ê±¸ë¦¬ëŠ” DBì‘ì—…, REST API ìš”ì²­ì²˜ë¦¬ë¥¼ í•˜ëŠ” ë° ì í•©í•˜ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#a40000>â€œ</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>view</span><span style=color:#a40000>â€</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Callable</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>callableWithView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Callable</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>call</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Thread</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sleep</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2000</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#a40000>â€œ</span><span style=color:#000>foo</span><span style=color:#a40000>â€</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#a40000>â€œ</span><span style=color:#000>bar</span><span style=color:#a40000>â€</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#a40000>â€œ</span><span style=color:#000>fruit</span><span style=color:#a40000>â€</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#a40000>â€œ</span><span style=color:#000>apple</span><span style=color:#a40000>â€</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#a40000>â€œ</span><span style=color:#000>view</span><span style=color:#a40000>â€</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=defferedresult>DefferedResult</h3><p>Servlet ìŠ¤ë ˆë“œëŠ” ë°˜í™˜í•˜ê³  Spring MVCê°€ ì œì–´í•˜ì§€ ì•ŠëŠ” ì“°ë ˆë“œë¥¼ í†µí•´ ë¹„ë™ê¸°ë¥¼ ì²˜ë¦¬í•œë‹¤. DefferedResultëŠ” JMS, AMQP, ìŠ¤ì¼€ì¥´ëŸ¬, Redis, ë‹¤ë¥¸ HTTPìš”ì²­ì—ì„œ ì‚¬ìš©ëœë‹¤.</p><p>DefferedResultì˜ ì²˜ë¦¬ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ol><li>Controllerì—ì„œ DefferedResultë¥¼ ë°˜í™˜í•˜ê³  In-Memory Queueë˜ëŠ” Listì— DefferedResultë¥¼ ì €ì¥í•œë‹¤.</li><li>Servlet ì“°ë ˆë“œëŠ” ë°˜í™˜ë˜ê³  ì´ë²¤íŠ¸ ë°œìƒ ì‹œ Queueì—ì„œ DefferedResultê°ì²´ë¥¼ êº¼ë‚´ ì‚¬ìš©í•œë‹¤.</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/quotes&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@ResponseBody</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>DeferredResult</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>quotes</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>DeferredResult</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>deferredResult</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DeferredResult</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;();</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// Save the deferredResult in in-memory queue ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>queue</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>defferedResult</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>deferredResult</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// In some other thread...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/someEvent&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@ResponseBody</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>someEvent</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>data</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>for</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DefferedResult</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>queue</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>result</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setResult</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>data</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;view&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=asynctask>AsyncTask</h3><p>Callableê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë©° Controllerì—ì„œ Callableì„ ë‹´ì•„ì„œ ë°˜í™˜í•œë‹¤.</p><p>Timeoutì„ ì¶”ê°€í•  ìˆ˜ ìˆìœ¼ë©° AsyncTaskExecutorë¥¼ ì§€ì •í•˜ê±°ë‚˜ ì‘ì—…ì˜ ì¢…ë¥˜ì— ë”°ë¼ ì“°ë ˆë“œ í’€ì„ ë¶„ë¦¬í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/facebooklink&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>WebAsyncTask</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>facebooklink</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebAsyncTask</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;(</span>
</span></span><span style=display:flex><span>    <span style=color:#0000cf;font-weight:700>30000L</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>// Timeout
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#4e9a06>&#34;facebookTaskExecutor&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>// TaskExecutor
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Callable</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>call</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>// ì‘ì—…
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>result</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>      <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h3><ul><li><a href=http://docs.spring.io/spring/docs/3.2.6.RELEASE/spring-framework-reference/htmlsingle/#new-in-3.2-webmvc-async>Spring Framework - Reference Document / 4.1 Support for Servlet 3 based asynchronous request processing</a></li><li><a href=http://docs.spring.io/spring/docs/3.2.6.RELEASE/spring-framework-reference/htmlsingle/#mvc-ann-async>Spring Framework - Reference Document / 17.3.4 Asynchronous Request Processing</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b9ed1bdf40b7ae592cb22b9c8363ac24>25 - jQuery ê°€ì´ë“œ</h1><div class=lead>jQueryëŠ” ë‹¤ì–‘í•œ UI ê¸°ëŠ¥ê³¼ AJAX ìš”ì²­ì„ ì§€ì›í•˜ëŠ” JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, ì´ë¥¼ í†µí•´ ì´ë²¤íŠ¸ ì²˜ë¦¬, ìë™ ì™„ì„±, íƒ­ ë“±ì˜ ê¸°ëŠ¥ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. AJAX ìš”ì²­ì€ <code>$.ajax()</code>, <code>$.get()</code>, <code>$.post()</code>ì™€ ê°™ì€ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì™€ ë°ì´í„°ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ í†µì‹ í•˜ë©°, JSONê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆë‹¤.</div><h1 id=jquery-ê°€ì´ë“œ>jQuery ê°€ì´ë“œ</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>jQueryëŠ” ë¸Œë¼ìš°ì € í˜¸í™˜ì„±ì´ ìˆëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤. jQueryì—ì„œ ì œê³µí•˜ëŠ” ì˜¤í”ˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ í†µí•´ java scriptë¡œ ajax, event, ë‹¤ì–‘í•œ ui ê¸°ëŠ¥ ë“±ì„ êµ¬í˜„í•  ìˆ˜ ìˆìœ¼ë©° ìœ„í‚¤ê°€ì´ë“œì—ì„œëŠ” jQueryì˜ ê¸°ë³¸ì ì¸ ëª‡ê°€ì§€ ê¸°ëŠ¥(ajax, callbackí•¨ìˆ˜, postí˜¸ì¶œ ë“±)ì— ëŒ€í•˜ì—¬ ì‚´í´ë³¸ë‹¤.</p><p>ìì„¸í•œ ë‚´ìš©ì€ <a href=https://jquery.com/>jQuery ì‚¬ì´íŠ¸</a>ë¥¼ ì‚´í´ë³´ë„ë¡ í•œë‹¤.</p><p>jQuery ajaxì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ ì¤‘ ê¸°ë³¸Ajaxê¸°ëŠ¥ê³¼ ì‘ìš©ì„ í†µí•œ ì½¤ë³´ë°•ìŠ¤, Selectë°•ìŠ¤ì˜ ê°„ë‹¨í•œ í™”ë©´ì²˜ë¦¬ì— ëŒ€í•˜ì—¬ ê°€ì´ë“œí•œë‹¤.</p><ul><li><p>jQuery ajax ê¸°ë³¸ê¸°ëŠ¥</p><ul><li><a href=#jqueryajax>jQuery.ajax()</a></li><li><a href=#jqueryget>jQuery.get()</a></li><li><a href=#jquerypost>jQuery.post()</a></li></ul></li><li><p>jQuery ajax ì‘ìš©</p><ul><li><a href=#select-box>Select box</a></li><li><a href=#tabs>Tabs</a></li></ul></li></ul><h2 id=ì„¤ì •>ì„¤ì •</h2><p>jQueryë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” jQuery java scriptë¥¼ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•œë‹¤. ì¶”ê°€í•˜ëŠ” ë°©ë²•ì€ jquery urlì„ ì§ì ‘ ëª…ì‹œí•˜ëŠ” ê²½ìš°, í”„ë¡œì íŠ¸ì— jquery java scriptë¥¼ ì§ì ‘ ì¶”ê°€í•˜ì—¬ ì°¸ì¡°í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.</p><ul><li>jQuery urlì„ ì§ì ‘ ëª…ì‹œí•˜ëŠ” ê²½ìš°</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>script</span> <span style=color:#000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//code.jquery.com/jquery-1.11.0.min.js&#34;</span><span style=color:#ce5c00;font-weight:700>&gt;&lt;</span><span style=color:#a40000>/script&gt;</span>
</span></span></code></pre></div><ul><li>jQuery scriptë¥¼ ì§ì ‘ ì¶”ê°€í•˜ì—¬ ì°¸ì¡°í•˜ëŠ” ê²½ìš°</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>script</span> <span style=color:#000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/javascript&#34;</span> <span style=color:#000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;jQueryíŒŒì¼ ê²½ë¡œ&#34;</span><span style=color:#ce5c00;font-weight:700>&gt;&lt;</span><span style=color:#a40000>/script&gt;</span>
</span></span></code></pre></div><p>jquery-ë²„ì „.jsë¥¼ ë‹¤ìš´ë°›ì•„ í”„ë¡œì íŠ¸ í•˜ìœ„ê²½ë¡œì— ì¶”ê°€í•œ í›„, ì €ì¥í•œ ê²½ë¡œë¥¼ ì ì–´ì¤€ë‹¤.</p><h2 id=jquery-ajaxì˜-ê¸°ë³¸-ê¸°ëŠ¥>jQuery AJAXì˜ ê¸°ë³¸ ê¸°ëŠ¥</h2><h3 id=jqueryajax>jQuery.ajax()</h3><p>jQuery Ajaxê¸°ëŠ¥ì„ ìœ„í•´ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ jQuery.ajax(url[,settings]) í•¨ìˆ˜ë¥¼ ì´ìš©í•œë‹¤.</p><h4 id=ajaxí•¨ìˆ˜-ì•ˆì˜-settings>ajaxí•¨ìˆ˜ ì•ˆì˜ settings</h4><p>jQuery ajaxí•¨ìˆ˜ ì•ˆì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì„¤ì •ë“¤ì´ ê°€ëŠ¥í•˜ë‹¤.</p><table><thead><tr><th>ì„¤ì •</th><th>ì„¤ëª…</th><th>default</th><th>type</th></tr></thead><tbody><tr><td>url</td><td>requestë¥¼ ì „ë‹¬í•  urlëª…</td><td>N/A</td><td>url string</td></tr><tr><td>data</td><td>requestì— ë‹´ì•„ ì „ë‹¬í•  dataëª…ê³¼ dataê°’</td><td>N/A</td><td>String/Plain Object/Array</td></tr><tr><td>contentType</td><td>serverë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•Œ contentType</td><td>&lsquo;application/x-www-form-urlencoded; charset=UTF-8&rsquo;</td><td>contentType String</td></tr><tr><td>dataType</td><td>ì„œë²„ë¡œë¶€í„° ì „ë‹¬ë°›ì„ ë°ì´í„° íƒ€ì…</td><td>xml, json, script, or html</td><td>xml/html/script/json/jsonp/multiple, space-separated values</td></tr><tr><td>statusCode</td><td>HTTP ìƒíƒœì½”ë“œì— ë”°ë¼ ë¶„ê¸°ì²˜ë¦¬ë˜ëŠ” í•¨ìˆ˜</td><td>N/A</td><td>ìƒíƒœì½”ë“œë¡œ ë¶„ë¦¬ë˜ëŠ” í•¨ìˆ˜</td></tr><tr><td>beforeSend</td><td>requestê°€ ì„œë²„ë¡œ ì „ë‹¬ë˜ê¸° ì „ì— í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜</td><td>N/A</td><td>Function( jqXHR jqXHR, PlainObject settings )</td></tr><tr><td>error</td><td>ìš”ì²­ì„ ì‹¤íŒ¨í•  ê²½ìš° í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜</td><td>N/A</td><td>Function( jqXHR jqXHR, String textStatus, String errorThrown )</td></tr><tr><td>success</td><td>ìš”ì²­ì— ì„±ê³µí•  ê²½ìš° í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜</td><td>N/A</td><td>Function( PlainObject data, String textStatus, jqXHR jqXHR )</td></tr><tr><td>crossDomain</td><td>crossDomain request(jsonPì™€ ê°™ì€)ë¥¼ ê°•ì œí•  ë•Œ ì„¤ì •(cross-domain requestì„¤ì • í•„ìš”)</td><td>same-domain requestì—ì„œ false, cross-domain requestì—ì„œëŠ” true</td><td>Boolean</td></tr></tbody></table><h5 id=ì˜ˆì œ-1>ì˜ˆì œ 1</h5><p>í•˜ë‚˜ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ajax requestë¡œ ì „ë‹¬í•˜ëŠ” ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
example01.doë¡œ í˜¸ì¶œì„ í•˜ë©° sampleInputì´ë€ ë°ì´í„°ëª…ìœ¼ë¡œ â€œsampleDataâ€ Stringì„ ì „ë‹¬í•œë‹¤. ìš”ì²­ì´ ì„±ê³µí•  ê²½ìš° successì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©° ì‹¤íŒ¨ì‹œ errorí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ajax</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>   <span style=color:#000>url</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&lt;c:url value=&#39;/example01.do&#39;/&gt;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>   <span style=color:#000>data</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>sampleInput</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;sampleData&#34;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>   <span style=color:#000>success</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>textStatus</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>jqXHR</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//Sucessì‹œ, ì²˜ë¦¬
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>   <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>   <span style=color:#000>error</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>jqXHR</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>textStatus</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>errorThrown</span><span style=color:#000;font-weight:700>){</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//Errorì‹œ, ì²˜ë¦¬
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h4 id=ajaxí•¨ìˆ˜ì˜-callbackí•¨ìˆ˜>ajaxí•¨ìˆ˜ì˜ callbackí•¨ìˆ˜</h4><p>ajaxì˜ ì½œë°±í•¨ìˆ˜ì´ë‹¤. jQuery 1.5ë¶€í„° jQueryì˜ ëª¨ë“  Ajaxí•¨ìˆ˜ëŠ” XMLHttpRequestê°ì²´ì˜ ìƒìœ„ ì§‘í•©ì„ ë¦¬í„´ë°›ì„ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ì´ ê°ì²´ë¥¼ jQueryì—ì„œëŠ” jqXHRì´ë¼ ë¶€ë¥´ë©°, jqXHRì˜ í•¨ìˆ˜ë¡œ ì½œë°±í•¨ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.</p><p>ì•„ë˜ ì½œë°±í•¨ìˆ˜ì™€ ìœ„ì˜ settingsì—ì„œ ì •ì˜ëœ error, successì½œë°±í•¨ìˆ˜ì™€ ë‹¤ë¥¸ ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>ì‚¬ìš©ì ì •ì˜ì— ì˜í•´ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.</li><li>ajaxì—ì„œ requestë¥¼ ë¦¬í„´ë°›ì•„ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.</li></ul><table><thead><tr><th>í•¨ìˆ˜ëª…</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td><code>jqXHR.done(function( data, textStatus, jqXHR ) {});</code></td><td>ì„±ê³µì‹œ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜</td></tr><tr><td><code>jqXHR.fail(function( jqXHR, textStatus, errorThrown ) {});</code></td><td>ì‹¤íŒ¨ì‹œ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜</td></tr><tr><td><code>jqXHR.always(function( data|jqXHR, textStatus, jqXHR'|errorThrown ) { });</code></td><td>í•­ìƒ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜</td></tr></tbody></table><h5 id=ì˜ˆì œ-2>ì˜ˆì œ 2</h5><p>ì—¬ëŸ¬ê°œì˜ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ë©° í˜¸ì¶œ í›„ ì½œë°±í•¨ìˆ˜ë¡œ ì„œë²„ì—ì„œ ê°’ì„ ë°›ëŠ” ì˜ˆì œì´ë‹¤.
example02.doì„ í˜¸ì¶œí•˜ë©° name, locationì„ ìš”ì²­ë°ì´í„°ë¡œ ì „ë‹¬í•œë‹¤. ì„±ê³µì‹œì— doneì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ajax</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>   <span style=color:#000>url</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&lt;c:url value=&#39;/example02.do&#39;/&gt;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>   <span style=color:#000>data</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;gil-dong&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#000>location</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;seoul&#34;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>.</span><span style=color:#000>done</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>   <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span> <span style=color:#000>console</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span> <span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;Sample of data:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>slice</span><span style=color:#000;font-weight:700>(</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>100</span> <span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h5 id=ì˜ˆì œ-3>ì˜ˆì œ 3</h5><p>example03.doë¥¼ í˜¸ì¶œí•˜ë©° ì„±ê³µì‹œ doneì½œë°±í•¨ìˆ˜ë¥¼, ì‹¤íŒ¨ì‹œ failì½œë°±í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.
ì„±ê³µ,ì‹¤íŒ¨ì—¬ë¶€ì— ìƒê´€ì—†ì´ alwaysì½œë°±í•¨ìˆ˜ëŠ” í•­ìƒ í˜¸ì¶œëœë‹¤. done, fail, alwaysì½œë°±í•¨ìˆ˜ëŠ” ajaxí•¨ìˆ˜ë¥¼ í†µí•´ ë¦¬í„´ë˜ requestë¡œ í˜¸ì¶œê°€ëŠ¥í•˜ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>jqxhr</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ajax</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;&lt;c:url value=&#39;/example03.do&#39;/&gt;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>.</span><span style=color:#000>done</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;success&#34;</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>.</span><span style=color:#000>fail</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;error&#34;</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>.</span><span style=color:#000>always</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;complete&#34;</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>jqxhr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>always</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;second complete&#34;</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h3 id=jqueryget>jQuery.get()</h3><p>jQuery 1.5ë¶€í„° sucessì½œë°±í•¨ìˆ˜ëŠ” jqXHR(XMLHttpRequestì˜ ìƒìœ„ì§‘í•© ê°ì²´)ë¥¼ ë°›ì„ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ê·¸ëŸ¬ë‚˜ JSONPì™€ ê°™ì€ cross-domain requestì˜ GETìš”ì²­ ì‹œì—ëŠ” jqXHRì„ ì‚¬ìš©í•˜ì—¬ë„ XHRì¸ìëŠ” successí•¨ìˆ˜ ì•ˆì—ì„œ undefinedë¡œ ì¸ì‹ëœë‹¤.</p><p>jQuery.get()ì€ ajaxë¥¼ GETìš”ì²­í•˜ëŠ” í•¨ìˆ˜ì´ë©° jqXHRì„ ë°˜í™˜ë°›ëŠ”ë‹¤. ë”°ë¼ì„œ $.ajax()ì™€ ë™ì¼í•˜ê²Œ done, fail, alwaysì½œë°±í•¨ìˆ˜ë¥¼ ì“¸ ìˆ˜ ìˆë‹¤.
getí•¨ìˆ˜ëŠ” ajaxí•¨ìˆ˜ë¡œ ë‚˜íƒ€ë‚´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ajax</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>   <span style=color:#000>url</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>url</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>   <span style=color:#000>data</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>   <span style=color:#000>success</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>success</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>   <span style=color:#000>dataType</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>dataType</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h4 id=getí•¨ìˆ˜-ì„¤ì •>getí•¨ìˆ˜ ì„¤ì •</h4><table><thead><tr><th>ì„¤ì •</th><th>ì„¤ëª…</th><th>default</th><th>type</th></tr></thead><tbody><tr><td>url</td><td>requestë¥¼ ì „ë‹¬í•  urlëª…</td><td>N/A</td><td>url String</td></tr><tr><td>data</td><td>requestì— ë‹´ì•„ ì „ë‹¬í•  dataëª…ê³¼ dataê°’</td><td>N/A</td><td>String/Plain Object</td></tr><tr><td>dataType</td><td>ì„œë²„ë¡œë¶€í„° ì „ë‹¬ë°›ì„ ë°ì´í„° íƒ€ì…</td><td>xml, json, script, or html</td><td>String</td></tr><tr><td>success</td><td>ìš”ì²­ì— ì„±ê³µí•  ê²½ìš° í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜</td><td>N/A</td><td>Function( PlainObject data, String textStatus, jqXHR jqXHR )</td></tr></tbody></table><h5 id=ì˜ˆì œ-1-1>ì˜ˆì œ 1</h5><p>urlë§Œ í˜¸ì¶œí•˜ê³  ê²°ê³¼ê°’ì€ ë¬´ì‹œí•˜ëŠ” ê²½ìš°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;example.do&#34;</span> <span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><h5 id=ì˜ˆì œ-2-1>ì˜ˆì œ 2</h5><p>urlë¡œ ë°ì´í„°ë§Œ ë³´ë‚´ê³  ê²°ê³¼ëŠ” ë¬´ì‹œí•˜ëŠ” ê²½ìš°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;example.do&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;gil-dong&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>location</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;seoul&#34;</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><h5 id=ì˜ˆì œ-3-1>ì˜ˆì œ 3</h5><p>urlë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ê°’ì„ Alertì°½ìœ¼ë¡œ ë„ìš°ëŠ” ê²½ìš°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;test.php&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;Data Loaded: &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h5 id=ì˜ˆì œ-4>ì˜ˆì œ 4</h5><p>urlë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ê°’ì„ Alertì°½ìœ¼ë¡œ ë„ìš°ëŠ” ê²½ìš°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;example.do&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;gil-dong&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>location</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;seoul&#34;</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>.</span><span style=color:#000>done</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;Data Loaded: &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h3 id=jquerygetjson>jQuery.getJSON()</h3><p>ajaxí˜¸ì¶œì„ HTTP GETë©”ì„œë“œë¡œ JSONë¬¸ìì—´ë¡œ ì¸ì½”ë”©í•œ ë°ì´í„°ë¥¼ ìš”ì²­í•œë‹¤.
$.ajax()ë©”ì„œë“œë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ajax</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>    <span style=color:#000>url</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>url</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>data</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>success</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>success</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>dataType</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;json&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h4 id=getjsoní•¨ìˆ˜-ì„¤ì •>getJSONí•¨ìˆ˜ ì„¤ì •</h4><table><thead><tr><th>ì„¤ì •</th><th>ì„¤ëª…</th><th>default</th><th>type</th></tr></thead><tbody><tr><td>url</td><td>requestë¥¼ ì „ë‹¬í•  urlëª…</td><td>N/A</td><td>url String</td></tr><tr><td>data</td><td>requestì— ë‹´ì•„ ì „ë‹¬í•  dataëª…ê³¼ dataê°’</td><td>N/A</td><td>String/Plain Object</td></tr><tr><td>dataType</td><td>ì„œë²„ë¡œë¶€í„° ì „ë‹¬ë°›ì„ ë°ì´í„° íƒ€ì…</td><td>xml, json, script, or html</td><td>String</td></tr></tbody></table><h3 id=jquerypost>jQuery.post()</h3><p>jQuery.post()ì€ ajaxë¥¼ POSTìš”ì²­í•˜ëŠ” í•¨ìˆ˜ì´ë©° jqXHRì„ ë°˜í™˜ë°›ëŠ”ë‹¤. ë”°ë¼ì„œ ajax(), get()ì™€ ë™ì¼í•˜ê²Œ done, fail, alwaysì½œë°±í•¨ìˆ˜ë¥¼ ì“¸ ìˆ˜ ìˆë‹¤.
jQuery.post í•¨ìˆ˜ ì„¤ì •ì€ getí•¨ìˆ˜ì™€ ë™ì¼í•˜ë‹¤.(jQuery.post( url [, data ] [, success ] [, dataType ] ))</p><p>jQuery.postí•¨ìˆ˜ë¥¼ ajaxí•¨ìˆ˜ë¡œ ì“°ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ajax</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>    <span style=color:#000>type</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;POST&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>url</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>url</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>data</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>success</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>success</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>dataType</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>dataType</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h4 id=ì˜ˆì œ-1-2>ì˜ˆì œ 1</h4><p>urlë§Œ í˜¸ì¶œí•˜ê³  ê²°ê³¼ê°’ì€ ë¬´ì‹œí•˜ëŠ” ê²½ìš°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;example.do&#34;</span> <span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><h4 id=ì˜ˆì œ-2-2>ì˜ˆì œ 2</h4><p>urlë¡œ ë°ì´í„°ë§Œ ë³´ë‚´ê³  ê²°ê³¼ëŠ” ë¬´ì‹œí•˜ëŠ” ê²½ìš°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;example.do&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;gil-dong&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>location</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;seoul&#34;</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><h4 id=ì˜ˆì œ-3-2>ì˜ˆì œ 3</h4><p>urlë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ê°’ì„ console logë¥¼ ë‚¨ê¸°ëŠ” ê²½ìš°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;example.do&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>name</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>location</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h4 id=ì˜ˆì œ-4-1>ì˜ˆì œ 4</h4><p>urlë¡œ ë°ì´í„°ë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ê°’ì„ Alertì°½ìœ¼ë¡œ ë„ìš°ëŠ” ê²½ìš°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;example.do&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;gil-dong&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>location</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;seoul&#34;</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>.</span><span style=color:#000>done</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;Data Loaded: &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h2 id=jquery-ajax-ì‘ìš©>jQuery Ajax ì‘ìš©</h2><p>jQueryì˜ ajax ì¶”ê°€ UIê¸°ëŠ¥(ìë™ì™„ì„±ê¸°ëŠ¥, íŒë„¬ íƒ­ ë“±)ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” jQuery UIë¥¼ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤. ë‹¤ìŒì—ì„œëŠ” jQuery UIì™€ ajaxë¥¼ ì´ìš©í•œ ìë™ì™„ì„±ê¸°ëŠ¥(autocomplete), íŒë„¬ íƒ­(tabs)ì— ëŒ€í•˜ì—¬ ê°€ì´ë“œí•œë‹¤.</p><h3 id=jquery-ui-ì„¤ì •>jQuery UI ì„¤ì •</h3><p>jQuery UI(version 1.11.0)ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œëŠ” ìœ„ì—ì„œ ì„¤ì •í–ˆë˜ ê¸°ë³¸ jQuery scriptì™€ jQuery uiìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ jspì— ì¶”ê°€í•´ì¤€ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>link</span> <span style=color:#000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;http://code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css&#34;</span> <span style=color:#ce5c00;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>script</span> <span style=color:#000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//code.jquery.com/jquery-1.11.0.min.js&#34;</span><span style=color:#ce5c00;font-weight:700>&gt;&lt;</span><span style=color:#a40000>/script&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>script</span> <span style=color:#000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;http://code.jquery.com/ui/1.11.0/jquery-ui.js&#34;</span><span style=color:#ce5c00;font-weight:700>&gt;&lt;</span><span style=color:#a40000>/script&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>...</span>
</span></span></code></pre></div><p>jQuery UI scriptë¥¼ ì§ì ‘ ì¶”ê°€í•˜ì—¬ ì°¸ì¡°í•˜ëŠ” ê²½ìš°ëŠ” jQuery-ui.jsì™€ jQuery-ui.cssë¥¼ ë‹¤ìš´ë°›ì•„ í”„ë¡œì íŠ¸ í•˜ìœ„ ê²½ë¡œì— ì¶”ê°€í•œ í›„, ì €ì¥í•œ ê²½ë¡œë¥¼ ì§€ì •í•´ì¤€ë‹¤.</p><h2 id=auto-complete>Auto complete</h2><p>jQueryì—ì„œëŠ” inputì°½ì—ì„œ ì˜ˆìƒë˜ëŠ” í…ìŠ¤íŠ¸ê°’ì„ ë³´ì—¬ì£¼ëŠ” ìë™ì™„ì„±ê¸°ëŠ¥ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ autoComplete()ì„ ì œê³µí•˜ê³  ìˆë‹¤.</p><h3 id=autocompleteì˜-ì„¤ì •>autoCompleteì˜ ì„¤ì •</h3><table><thead><tr><th>êµ¬ë¶„</th><th>ì„¤ì •</th><th>ì„¤ëª…</th><th>Type</th></tr></thead><tbody><tr><td>Options</td><td>source</td><td>í•˜ë‹¨ì— ëœ¨ëŠ” ìë™ì™„ì„±ë¦¬ìŠ¤íŠ¸(í•„ìˆ˜ê°’)</td><td>Array, String, function</td></tr><tr><td>Options</td><td>minLength</td><td>ìë™ì™„ì„±ì´ ë™ì‘í•˜ëŠ” ìµœì†Œ ë¬¸ìì—´ ìˆ˜</td><td>Integer</td></tr><tr><td>Options</td><td>disabled</td><td>disable ì—¬ë¶€</td><td>Boolean</td></tr><tr><td>Events</td><td>change(event, ui)</td><td>ê°’ ë³€ê²½ì‹œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ í•¨ìˆ˜</td><td>autocompletechange</td></tr><tr><td>Events</td><td>focus( event, ui )</td><td>ê°’ì´ í¬ì»¤ìŠ¤ë  ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ í•¨ìˆ˜</td><td>autocompletefocus</td></tr><tr><td>Events</td><td>select( event, ui )</td><td>ê°’ì´ ì„ íƒë  ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ í•¨ìˆ˜</td><td>autocompleteselect<br><br></td></tr><tr><td>ìì„¸í•œ ë‚´ìš©ì€ <a href=https://api.jqueryui.com/autocomplete/>jQuery ì‚¬ì´íŠ¸ì˜ autocomplete api</a>ì„ ì°¸ê³ í•œë‹¤.</td><td></td><td></td><td></td></tr></tbody></table><h3 id=autocomplete-ê¸°ë³¸-ì˜ˆì œ>autoComplete ê¸°ë³¸ ì˜ˆì œ</h3><p>ê¸°ë³¸ autoCompleteê¸°ëŠ¥ êµ¬í˜„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;en&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>jQuery UI Autocomplete - Default functionality<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//code.jquery.com/jquery-1.10.2.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//code.jquery.com/ui/1.11.0/jquery-ui.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/resources/demos/style.css&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>availableTags</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span> <span style=color:#4e9a06>&#34;ActionScript&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;AppleScript&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Asp&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;BASIC&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>				<span style=color:#4e9a06>&#34;C&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;C++&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Clojure&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;COBOL&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ColdFusion&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Erlang&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>				<span style=color:#4e9a06>&#34;Fortran&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Groovy&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Haskell&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Java&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;JavaScript&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Lisp&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>				<span style=color:#4e9a06>&#34;Perl&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;PHP&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Python&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Ruby&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Scala&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Scheme&#34;</span> <span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span>    <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;#tags&#34;</span> <span style=color:#000;font-weight:700>).</span><span style=color:#000>autocomplete</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>      <span style=color:#000>source</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>availableTags</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ui-widget&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>label</span> <span style=color:#c4a000>for</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tags&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Tags: <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>label</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tags&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ìœ„ì™€ ê°™ì´ í–ˆì„ ë•Œ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src=../images/jquery-ajax-simpleautocomplete.png alt=simpleautocomplete></p><p>minLengthëŠ” defaultê°’ì´ 1ì´ê¸° ë•Œë¬¸ì— inputì— 1ê°œì´ìƒì˜ ë¬¸ìë¥¼ ì…ë ¥í–ˆì„ ë•Œ sourceì˜ Stringë°°ì—´ë“¤ì´ ìë™ë¬¸ìë¦¬ìŠ¤íŠ¸ë¡œ ëœ¨ê²Œ ëœë‹¤.</p><h3 id=autocompleteì™€-ajaxë¥¼-ì´ìš©í•œ-ì‘ìš©ì˜ˆì œ>autoCompleteì™€ ajaxë¥¼ ì´ìš©í•œ ì‘ìš©ì˜ˆì œ</h3><p>ajaxë¥¼ í†µí•´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°›ì•„ì™€ autoCompleteì˜ sourceë¡œ ë¿Œë ¤ì£¼ëŠ” ì˜ˆì œì— ëŒ€í•´ ì‚´í´ë³´ì.</br>ajaxë¥¼ í†µí•´ sourceë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œëŠ” ì„œë²„í˜¸ì¶œ ê²°ê³¼ê°’ì´ 2ê°€ì§€ ì¤‘ í•˜ë‚˜ì˜ íƒ€ì…ì´ì–´ì•¼ í•œë‹¤.</p><ul><li>String arrayíƒ€ì…</li><li>Object(id, label,value ê°’ì„ ê°–ëŠ”) arrayíƒ€ì…</li></ul><ol><li>String arrayë¡œ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°
example.doë¼ëŠ” urlë¡œ ajaxí˜¸ì¶œì„ í†µí•´ sourceë¥¼ ê°€ì ¸ì˜¤ê³  ì„ íƒ ì‹œ ê°’ì´ alertë˜ë„ë¡ í•˜ëŠ” ì˜ˆì œì´ë‹¤.</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/javaScript&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>   <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;#autoValue&#39;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>autocomplete</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>         <span style=color:#000>source</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>request</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>response</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>	    <span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ajax</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>	       <span style=color:#000>url</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&lt;c:url value=&#39;/example.do&#39;/&gt;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>	       <span style=color:#000>data</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>input</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>request</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>term</span> <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>               <span style=color:#000>success</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>	          <span style=color:#000>response</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>locations</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>	       <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>	   <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>	 <span style=color:#000>minLength</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>	 <span style=color:#000>select</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>event</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ui</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>ui</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>item</span> <span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#4e9a06>&#34;Selected : &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>ui</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>item</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>label</span>
</span></span><span style=display:flex><span>		<span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Nothing select, input was &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>	 <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>//... ìƒëµ
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;autoValue&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>//... ìƒëµ
</span></span></code></pre></div><p>dataë¡œ ì „ì†¡í•˜ëŠ” request.termì€ inputê°’ìœ¼ë¡œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì´ë‹¤. ì¦‰, ì‚¬ìš©ìê°€ â€œjeâ€ë¥¼ ì…ë ¥í•˜ë©´ input = je ë¡œ ê°’ì´ ë„˜ì–´ê°„ë‹¤.</br>ì´ ë•Œ Controllerì—ì„œëŠ” reqeust.getParameter(â€œinputâ€) ë˜ëŠ” @RequestParam(â€œinputâ€) String inputìœ¼ë¡œ ê°’ì„ êº¼ë‚¼ ìˆ˜ ìˆë‹¤.</br></p><p>ë‹¤ìŒì€ MappingJacksonJsonViewì˜ ë¹ˆì„ jsonViewë¡œ ë“±ë¡í–ˆì„ ë•Œ Controllerì—ì„œ dataë¥¼ êº¼ë‚´ê³  ê²°ê³¼ê°’ì„ clientë¡œ ë„˜ê²¨ì£¼ëŠ” ì˜ˆì œì´ë‹¤.(Ajaxí†µì‹  ì‹œ javaì½”ë“œëŠ” &lt;Ajax support java code ìœ„í‚¤>ë¥¼ ì°¸ê³ í•œë‹¤.)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/autoList.do&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>autoList</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>HttpServletRequest</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ModelMap</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#000>String</span> <span style=color:#000>input</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>request</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getParameter</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;input&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>resultList</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ArrayList</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;();</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>//...ìƒëµ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#8f5902;font-style:italic>//ì„œë¹„ìŠ¤í´ë˜ìŠ¤ë¥¼ í†µí•´ ê²°ê³¼ê°’ì„ resultListì— ë‹´ìŒ		
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addAttribute</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;locations&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>resultList</span> <span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;jsonView&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ì´ ë•Œ, í˜¸ì¶œë˜ëŠ” Queryë¬¸ì˜ ì˜ˆì´ë‹¤. (mybatisì˜ˆì œ)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;select</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;selectLocationList&#34;</span> <span style=color:#c4a000>parameterType=</span><span style=color:#4e9a06>&#34;string&#34;</span> <span style=color:#c4a000>resultType=</span><span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>SELECT
</span></span><span style=display:flex><span>	LOCATION_NM
</span></span><span style=display:flex><span>FROM LOCATION
</span></span><span style=display:flex><span>	WHERE upper(LOCATION_NM) LIKE &#39;%&#39; || upper(#{input}) || &#39;%&#39;
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/select&gt;</span>
</span></span></code></pre></div><p>ë§Œì•½ ê²°ê³¼ê°’ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;locations&#34;</span><span style=color:#000;font-weight:700>:[</span><span style=color:#4e9a06>&#34;Daejeon&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;Jeju-do&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;Jeolabuk-do&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;Jeolanam-do&#34;</span><span style=color:#000;font-weight:700>]}</span>
</span></span></code></pre></div><p>ajaxì˜ ì„±ê³µì‹œ ì½œë°±í•¨ìˆ˜ì¸ successì—ì„œëŠ” data.locationsë¡œ ê°’ì„ êº¼ë‚´ autocompleteì˜ sourceë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</br>ìœ„ì™€ ê°™ì€ ê²½ìš° ê²°ê³¼ í™”ë©´ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src=../images/jquery-ajax-autocomplete02.png alt=autocomplete02></p><ol start=2><li>Object arrayë¡œ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°</li></ol><p>ìœ„ì™€ ë™ì¼í•˜ê²Œ Queryë¬¸ì„ í†µí•´ ì…ë ¥ê°’ì— ë”°ë¼ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ê³  Object arrayë¡œ ì„œë²„ì—ì„œ ê²°ê³¼ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°ì— ëŒ€í•´ ê°€ì´ë“œí•œë‹¤.</br>Controllerì—ì„œ List<object>ì˜ ê°’ì„ ModelMapì— â€œlocationsâ€ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë„˜ê²¨ì£¼ê³  ì„œë²„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ json dataê°€ ë„˜ì–´ì™”ì„ ë•Œ</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;locations&#34;</span><span style=color:#000;font-weight:700>:[{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0006&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Daejeon&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;localNb&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;042&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0010&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Jeju-do&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;localNb&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;064&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0011&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Jeolabuk-do&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;localNb&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;063&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0012&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Jeolanam-do&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;localNb&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;061&#34;</span><span style=color:#000;font-weight:700>}]}</span>
</span></span></code></pre></div><p>autocompleteì˜ sourceì— ë„˜ì–´ì˜¨ ê°’ì´ ë‚˜íƒ€ë‚˜ë„ë¡ í•˜ëŠ” ObjectëŠ” label, id, valueê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë„˜ì–´ì˜¨ requestì˜ ê°’ì„ successì½œë°±í•¨ìˆ˜ì—ì„œ sourceì— ë‚˜íƒ€ë‚˜ë„ë¡í•˜ëŠ” Objectí˜•íƒœë¡œ ë³€í™˜í•´ì•¼ í•œë‹¤.</br>ë‚˜ë¨¸ì§€ jQueryêµ¬í˜„ì€ ë™ì¼í•˜ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>success</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>response</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>map</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>locations</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>item</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>id</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>item</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>locationId</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#000>label</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>item</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>locationNm</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#8f5902;font-style:italic>//value: item.localNb
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000;font-weight:700>}));</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>ì´ ë•Œ, ìë™ì™„ì„± ë¦¬ìŠ¤íŠ¸ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ê°’ì€ labelì´ë©°, valueë¥¼ ì„¤ì •í•´ì£¼ì—ˆì„ë•ŒëŠ” ìë™ì™„ì„± ë¦¬ìŠ¤íŠ¸ì—ì„œ ê°’ ì„ íƒ ì‹œ inputê°’ì— labelê°’ì´ ì•„ë‹Œ valueê°’ì´ ëŒ€ì…ëœë‹¤.</p><h2 id=select-box>Select box</h2><h3 id=selectboxcombobox-ì œì–´>selectbox(combobox) ì œì–´</h3><p>jQueryì—ì„œëŠ” ë³„ë„ë¡œ select box uií•¨ìˆ˜ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.</br>jQueryë¥¼ í†µí•´ selectboxë¥¼ ì œì–´í•˜ëŠ” ë°©ë²•ì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ê³  selectboxì— ë‚˜íƒ€ë‚˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ajaxë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•˜ì—¬ ì‚´í´ë³¸ë‹¤.</br>ë‹¤ë£¨ê³ ì í•˜ëŠ” selectboxê°€ ë‹¤ìŒê³¼ ê°™ë‹¤ê³  ê°€ì •í•˜ì.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>select</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;combobox&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>&gt;</span>===locations===<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;01&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Seoul<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;02&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Busan<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;03&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Jeju-do<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;04&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Incheon<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>select</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h4 id=selectbox-ê°’-ê°€ì ¸ì˜¤ê¸°>selectbox ê°’ ê°€ì ¸ì˜¤ê¸°</h4><p>selectboxì—ì„œ ì„ íƒëœ valueë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>selectedVal</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox option:selected&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>val</span><span style=color:#000;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=selectbox-ë‚´ìš©-ê°€ì ¸ì˜¤ê¸°>selectbox ë‚´ìš© ê°€ì ¸ì˜¤ê¸°</h4><p>selectboxì—ì„œ ì„ íƒëœ text(ex:Seoul)ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>selectedText</span><span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox option:selected&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>text</span><span style=color:#000;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=selectboxì—ì„œ-ì„ íƒëœ-indexê°’-ê°€ì ¸ì˜¤ê¸°>selectboxì—ì„œ ì„ íƒëœ Indexê°’ ê°€ì ¸ì˜¤ê¸°</h4><p>selectboxì˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì„ íƒëœ Indexë¥¼ êµ¬í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>selectedIndex</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox option&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>index</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox option:selected&#34;</span><span style=color:#000;font-weight:700>));</span>
</span></span></code></pre></div><h4 id=selectboxì—-ë¦¬ìŠ¤íŠ¸-ë§ˆì§€ë§‰ì—-ì¶”ê°€í•˜ê¸°>selectboxì— ë¦¬ìŠ¤íŠ¸ ë§ˆì§€ë§‰ì— ì¶”ê°€í•˜ê¸°</h4><p>selectboxì˜ ë¦¬ìŠ¤íŠ¸ì— ê°’ì„ ë§ˆì§€ë§‰ì— ì¶”ê°€í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;&lt;option value=&#34;</span><span style=color:#0000cf;font-weight:700>05</span><span style=color:#4e9a06>&#34;&gt;Daejeon&lt;/option&gt;&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><p>ë§¨ ì•ì— ì¶”ê°€í•˜ëŠ” ê²½ìš°ëŠ” .prepend()ë¥¼ ì“´ë‹¤.</p><h4 id=selectbox-ê°’-êµì²´í•˜ê¸°>selectbox ê°’ êµì²´í•˜ê¸°</h4><p>selectboxì˜ ë¦¬ìŠ¤íŠ¸ì˜ ê°’ë“¤ì„ êµì²´í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>$(&#34;#combobox&#34;).html(
</span></span><span style=display:flex><span>&#34;<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;&#39;</span><span style=color:#000;font-weight:700>&gt;</span>===locations===<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;01&#39;</span><span style=color:#000;font-weight:700>&gt;</span>Jeju-do<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;02&#39;</span><span style=color:#000;font-weight:700>&gt;</span>Seoul<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;03&#39;</span><span style=color:#000;font-weight:700>&gt;</span>Incheon<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;04&#39;</span><span style=color:#000;font-weight:700>&gt;</span>Daejeon<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>&#34;)
</span></span></code></pre></div><h4 id=selectbox-ê°’-êµì²´í•˜ê¸°-1>selectbox ê°’ êµì²´í•˜ê¸°</h4><p>selectboxì˜ ë¦¬ìŠ¤íŠ¸ì˜ ê°’ë“¤ì„ êµì²´í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>$(&#34;#combobox&#34;).html(
</span></span><span style=display:flex><span>&#34;<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;&#39;</span><span style=color:#000;font-weight:700>&gt;</span>===locations===<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;01&#39;</span><span style=color:#000;font-weight:700>&gt;</span>Jeju-do<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;02&#34;&gt;Seoul&lt;/option&gt;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>   &lt;option value=&#39;</span><span style=color:#c4a000>03</span><span style=color:#a40000>&#39;</span><span style=color:#000;font-weight:700>&gt;</span>Incheon<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;04&#39;</span><span style=color:#000;font-weight:700>&gt;</span>Daejeon<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>&#34;)
</span></span></code></pre></div><h4 id=selectboxì—ì„œ-ê°’-ì‚­ì œí•˜ê¸°>selectboxì—ì„œ ê°’ ì‚­ì œí•˜ê¸°</h4><p>selectboxì˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì„ íƒëœ ê°’ì„ ì‚­ì œí•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox option:selected&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>remove</span><span style=color:#000;font-weight:700>();</span>
</span></span></code></pre></div><h4 id=selectboxì—ì„œ-ê°’ì´-ì„ íƒë -ë•Œ-ì½œë°±í•¨ìˆ˜>selectboxì—ì„œ ê°’ì´ ì„ íƒë  ë•Œ ì½œë°±í•¨ìˆ˜</h4><p>selectboxì—ì„œ ê°’ì´ ì„ íƒë˜ì—ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#a40000>&#34;#</span><span style=color:#000>combobox</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>change</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//ê¸°ëŠ¥êµ¬í˜„
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div><h3 id=selectbox-ë§Œë“¤ê¸°>selectbox ë§Œë“¤ê¸°</h3><p>ìœ„ì—ì„œ ì“´ selectbox ì œì–´ê¸°ëŠ¥ê³¼ jQuery ajaxí•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ê°„ë‹¨íˆ selectboxë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p><p>&lt;JSPì—ì„œ ì½¤ë³´ë°•ìŠ¤ êµ¬í˜„ ì˜ˆì œ></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/javaScript&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>$</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ajax</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>			<span style=color:#000>url</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&lt;c:url value=&#39;/simpleCombo.do&#39;/&gt;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>success</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>				<span style=color:#000>loadCombo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox&#34;</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>locations</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>                                <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>val</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>			<span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>change</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>alert</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Selected : &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;#combobox option:selected&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>val</span><span style=color:#000;font-weight:700>());</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>loadCombo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>target</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>dataArr</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[];</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>inx</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#000>target</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>empty</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>each</span><span style=color:#000;font-weight:700>(</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>dataArr</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>inx</span><span style=color:#ce5c00;font-weight:700>++</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;&lt;option value=&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>locationId</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;&gt;&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>locationNm</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;&lt;/option&gt; &#34;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>		<span style=color:#000>target</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>dataArr</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>//... ìƒëµ
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>select</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;combobox&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>===locations===<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>option</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>select</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>&lt;ì„œë²„ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²°ê³¼ê°’></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;locations&#34;</span><span style=color:#000;font-weight:700>:[{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0001&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Seoul&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0002&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Busan&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0003&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Daegu&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0004&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Gwangju&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0005&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Incheon&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0006&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Daejeon&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0007&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Ulsan&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0008&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Gyeonggi-do&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0009&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Gangwon-do&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0010&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Jeju-do&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0011&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Jeolabuk-do&#34;</span><span style=color:#000;font-weight:700>},{</span><span style=color:#204a87;font-weight:700>&#34;locationId&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;0012&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;locationNm&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Jeolanam-do&#34;</span><span style=color:#000;font-weight:700>}]}</span>
</span></span></code></pre></div><p>ajaxí•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ì„œ simpleCombo.doë¥¼ í†µí•´ dataë¥¼ ê°€ì ¸ì˜¤ê³  jsonê°’ì´ ìœ„ì™€ ê°™ì„ ë•Œ comboboxë¥¼ êµ¬ì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ì—¬ comboboxì— ë‚˜ì˜¤ëŠ” ëª©ë¡ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.
ìœ„ì˜ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src=../images/jquery-ajax-selectbox.png alt=selectbox></p><h2 id=tabs>Tabs</h2><p>Tab ê¸°ë³¸ êµ¬í˜„í•˜ê¸°
jQuery UIì—ì„œ tabêµ¬í˜„ì€ tabs()ë¥¼ ì“°ë©° ì¶”ê°€ ì„¤ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th>ì„¤ì •</th><th>ì„¤ëª…</th><th>êµ¬ë¶„</th></tr></thead><tbody><tr><td>active</td><td>í™œì„±í™”ë  panelì„ íƒ</td><td>options</td></tr><tr><td>event</td><td>tabì´ í™œì„±í™”ë˜ëŠ” ì´ë²¤íŠ¸</td><td>options</td></tr><tr><td>hide</td><td>panelì´ ìˆ¨ê²¨ì§ˆ ë•Œ ì• ë‹ˆë©”ì´ì…˜</td><td>options</td></tr><tr><td>show</td><td>panelì´ ë‚˜íƒ€ë‚  ë•Œ ì• ë‹ˆë©”ì´ì…˜</td><td>options</td></tr><tr><td>beforeLoad</td><td>Remote tabì´ ë¡œë“œë˜ê¸° ì „ì— ì‹¤í–‰ë˜ê¸° ì „ì— ë°œìƒë˜ëŠ” ì´ë²¤íŠ¸ í•¨ìˆ˜</td><td>events</td></tr><tr><td>create</td><td></td><td>events<br></td></tr></tbody></table><p>Tabì„ êµ¬í˜„í•˜ëŠ” ê²½ìš° ê¸°ë³¸ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!doctype html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;en&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>jQuery UI Tabs - Default functionality<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//code.jquery.com/jquery-1.10.2.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;//code.jquery.com/ui/1.11.0/jquery-ui.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/resources/demos/style.css&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;#tabs&#34;</span> <span style=color:#000;font-weight:700>).</span><span style=color:#000>tabs</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tabs&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#tabs-1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Nunc tincidunt<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#tabs-2&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Proin dolor<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#tabs-3&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Aenean lacinia<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tabs-1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tabs-2&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Morbi tincidunt, dui sit amet facilisis feugiat, odio metus gravida ante, ut pharetra massa metus id nunc. Duis scelerisque molestie turpis. Sed fringilla, massa eget luctus malesuada, metus eros molestie lectus, ut tempus eros massa ut dolor. Aenean aliquet fringilla sem. Suspendisse sed ligula in ligula suscipit aliquam. Praesent in eros vestibulum mi adipiscing adipiscing. Morbi facilisis. Curabitur ornare consequat nunc. Aenean vel metus. Ut posuere viverra nulla. Aliquam erat volutpat. Pellentesque convallis. Maecenas feugiat, tellus pellentesque pretium posuere, felis lorem euismod felis, eu ornare leo nisi vel felis. Mauris consectetur tortor et purus.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tabs-3&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Mauris eleifend est et turpis. Duis id erat. Suspendisse potenti. Aliquam vulputate, pede vel vehicula accumsan, mi neque rutrum erat, eu congue orci lorem eget lorem. Vestibulum non ante. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Fusce sodales. Quisque eu urna vel enim commodo pellentesque. Praesent eu risus hendrerit ligula tempus pretium. Curabitur lorem enim, pretium nec, feugiat nec, luctus a, lacus.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Duis cursus. Maecenas ligula eros, blandit nec, pharetra at, semper at, magna. Nullam ac lacus. Nulla facilisi. Praesent viverra justo vitae neque. Praesent blandit adipiscing velit. Suspendisse potenti. Donec mattis, pede vel pharetra blandit, magna ligula faucibus eros, id euismod lacus dolor eget odio. Nam scelerisque. Donec non libero sed nulla mattis commodo. Ut sagittis. Donec nisi lectus, feugiat porttitor, tempor ac, tempor vitae, pede. Aenean vehicula velit eu tellus interdum rutrum. Maecenas commodo. Pellentesque nec elit. Fusce in lacus. Vivamus a libero vitae lectus hendrerit hendrerit.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ìœ„ì˜ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><img src=../images/jquery-ajax-panel.png alt=panel></p><ul><li>referenced <a href=https://jqueryui.com/tabs/#default>jquery ui site</a></li></ul><p>ajaxë¡œ Tab êµ¬í˜„í•˜ê¸°
ajaxë¡œ Tabì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ê° Tabì— ajaxí˜¸ì¶œ urlì„ ì§€ì •í•´ì£¼ê¸°ë§Œ í•˜ë©´ ëœë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;http://code.jquery.com/jquery-1.10.2.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;http://code.jquery.com/ui/1.11.0/jquery-ui.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/javaScript&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span> <span style=color:#4e9a06>&#34;#tabs&#34;</span> <span style=color:#000;font-weight:700>).</span><span style=color:#000>tabs</span><span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>      <span style=color:#000>beforeLoad</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ui</span> <span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>ui</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>jqXHR</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>error</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>ui</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>panel</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>html</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;Couldn&#39;t load this tab. We&#39;ll try to fix this as soon as possible. &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;If this wouldn&#39;t be a demo.&#34;</span> <span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>});</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tabs&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;${pageContext.request.contextPath }/simpleCombo.do&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Tab 1<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	 <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;${pageContext.request.contextPath }/tabTwoForm.do&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Tab 2<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	 <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;${pageContext.request.contextPath }/tabThreeForm.do&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Tab 3<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ìœ„ì˜ ê²½ìš° ì²«ë²ˆì§¸ íƒ­ ì§€ì •ì‹œ simpleCombo.doê°€ í˜¸ì¶œë˜ì–´ panelì•ˆì— simpleCombo.doë¥¼ í†µí•´ í˜¸ì¶œëœ í™”ë©´ì´ ë³´ì—¬ì§„ë‹¤.</p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=https://jquery.com/>jQuery Web Site</a></li><li><a href=https://jqueryui.com/index.html>jQuery UI Web Site</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-35218b5f118a49ed5ac39c858d34c2bf>26 - WebSocket</h1><div class=lead>WebSocketì€ HTTP í™˜ê²½ì—ì„œ ì–‘ë°©í–¥ í†µì‹ ì„ ì§€ì›í•˜ëŠ” Spring ê¸°ìˆ ë¡œ, Springì€ ê¸°ë³¸ì ìœ¼ë¡œ STOMP sub-protocolì„ ì‚¬ìš©í•œë‹¤. Spring Framework 4.0ë¶€í„° spring-websocket ëª¨ë“ˆì´ ì¶”ê°€ë˜ì–´ ë³µì¡í•œ WebSocket í†µì‹ ì„ ì§€ì›í•˜ë©°, JSR356(Java WebSocket API)ê³¼ í˜¸í™˜ëœë‹¤.</div><h1 id=websocket>WebSocket</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>WebSocket ì€ HTTP í™˜ê²½ì—ì„œ ì†Œì¼“ í†µì‹ ì„ ì§€ì›í•˜ê¸° ìœ„í•œ Spring ê¸°ìˆ ì´ë‹¤. Spring ì€ ê¸°ë³¸ì ìœ¼ë¡œ WebSocket sub-protocol ë¡œ STOMP ë¥¼ ì‚¬ìš©í•œë‹¤.</p><p>(RFC6455ëŠ” ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ìƒˆ ê¸°ëŠ¥ìœ¼ë¡œ WebSocket protocolì„ ì •ì˜í•œë‹¤. ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°„ ì–‘ë°©í–¥ í†µì‹ (full-duplex)ì„ ì§€ì›í•˜ëŠ”ë°, ì´ê²ƒì€ ì›¹ì„ ì¢€ ë” ì¸í„°ë™í‹°ë¸Œí•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©í•˜ì˜€ë˜ java applet, XMLHttpRequest, Flash, ActiveX ë“±ì˜ ê¸°ìˆ ì„ ëŒ€ì²´í•˜ê¸° ìœ„í•œ ì¤‘ìš”í•œ ê¸°ëŠ¥ì´ ë  ìˆ˜ ìˆë‹¤.)</p><p>HTTP ëŠ” ì´ˆê¸° handshake (protocol upgrade or switch ìš”ì²­ì´ê³  ì„œë²„ê°€ ë™ì˜í•˜ëŠ” ê²½ìš° 101 ì‘ë‹µì„ ë‚´ë ¤ ì¤Œ)ë¥¼ ìœ„í•´ì„œë§Œ ì‚¬ìš©ë˜ë©°, handshake ê°€ ì„±ê³µí•˜ë©´ HTTP upgrade ìš”ì²­ì— ê¸°ì¸í•˜ëŠ” TCP ì†Œì¼“ì´ open ëœ ì±„ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°„ í†µì‹ ì„ ì²˜ë¦¬í•œë‹¤.</p><ul><li>Spring Framework 4.0 ì—ì„œëŠ” ìƒˆë¡œìš´ spring-websocket module ì„ í¬í•¨í•˜ë©° ì´ë¥¼ í†µí•´ ë³µì¡í•œ WebSocket ì„ ì§€ì›í•˜ê³ , ì´ ëª¨ë“ˆì€ Java WebSocket API (JSR356) ê³¼ í˜¸í™˜ë˜ë©° ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</li></ul><h3 id=spring-framework-40-websocket-ì§€ì›-ê¸°ëŠ¥>Spring Framework 4.0 WebSocket ì§€ì› ê¸°ëŠ¥</h3><p>WebSocketì„ ìœ„í•œ ìš”êµ¬ì‚¬í•­.</p><ul><li>Java EE 7, JDK 7</li><li>Servlet 3.1 ( Container : Apache Tomcat 7.0.47+, Eclipse Jetty 9.0+, GlassFish 4.0+ )</li><li>Spring MVC 4.0ì´ìƒ (eGov 3.5ì— í¬í•¨)</li><li>websocketì„ ì§€ì›í•˜ëŠ” ë¸Œë¼ìš°ì € <a href=http://websocketstest.com/>websocket ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ í˜ì´ì§€</a></li></ul><p><strong>1. WebSocket Fallback Options</strong></p><p>WebSocketì€ Servlet 3.1ì—ì„œ ì œê³µí•˜ê¸° ì‹œì‘í•œ ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ êµ¬í˜„ëœ ê¸°ìˆ ë¡œì„œ ëª¨ë“  ë¸Œë¼ìš°ì €ê°€ WebSocketì„ ì§€ì›í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤(IEëŠ” 10ë¶€í„° ì§€ì›).
ë”°ë¼ì„œ WebSocketì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì˜ ê²½ìš° í•´ë‹¹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , ëª‡ëª‡ Proxy ì—ì„œëŠ” ê¸´ ì—°ê²°ìƒíƒœë¥¼ ê°•ì œë¡œ ëŠì–´ë²„ë¦¬ëŠ” ë“±ì˜ ì˜¤ì‘ë™ì´ ìˆì„ ìˆ˜ ìˆë‹¤. (ê´€ë ¨ ëŒ€ì•ˆìœ¼ë¡œ fallback optionì„ ì§€ì›í•˜ë„ë¡ êµ¬ì„±ëœ Spring frameworkì˜ SockJS protocol ì°¸ê³  - Spring ì„¤ì •ì„ í™œì„±í™” ì‹œí‚´ìœ¼ë¡œì„œ ì‰½ê²Œ Application ì— ì ìš© ê°€ëŠ¥)</p><p><strong>2. Messaging Architecture</strong></p><p>ê¸°ì¡´ì— êµ¬ì„±í•˜ë˜ ë°©ì‹ì˜ ê°œë°œë°©ë²•ì¸ RESTëŠ” Web application ê°œë°œì— ìˆì–´ ë§ì€ URL (noun) ê³¼ ëª‡ê°œì˜ HTTP method (verbs), ê·¸ë¦¬ê³  ìƒíƒœì™€ ë¬´ê´€í•œ architecture ë¥¼ ì‚¬ìš©í•œë‹¤.</p><p>WebSocket application ì—ì„œëŠ” ì´ˆê¸° HTTP handshake ì—ì„œë§Œ í•˜ë‚˜ì˜ URL ì„ ì‚¬ìš©í•˜ê³ , ê·¸ í›„ì˜ ëª¨ë“  ë©”ì‹œì§€ëŠ” handshake ì‹œ ë§ºì–´ì§„ TCP ì—°ê²°ì„ í†µí•´ì„œ ì „ì†¡ëœë‹¤. ì´ê²ƒì€ ì „í†µì ì¸ messging application (JMS, AMQP) ê³¼ ê°€ê¹Œìš´ ë¹„ë™ê¸°, event-driven, messaging ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.</p><p>Spring Framework 4.0 ì—ì„œëŠ” spring-messging ëª¨ë“ˆì„ í†µí•´ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë°, ì´ ëª¨ë“ˆì€ ìŠ¤í”„ë§ í†µí•© í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” Message, MessageChannel, MessageHandler ì™€ ê°™ì€ ì¶”ìƒí™”ëœ ê°œë…ì„ ì œê³µí•˜ì—¬ messaging archtecture ì˜ ê·¼ê°„ì´ ëœë‹¤. ì´ ëª¨ë“ˆì€ Spring MVC annotaion ê¸°ë°˜ì˜ programming model ê³¼ ìœ ì‚¬í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ëª‡ ê°€ì§€ annotation ì„ í¬í•¨í•˜ê³  ìˆë‹¤.</p><p><strong>3. Sub-Protocol Support in WebSocket</strong></p><p>WebSocket ì€ messaging architecture ë¥¼ í•¨ì¶•í•˜ì§€ë§Œ íŠ¹ì • messaging protocol ì‚¬ìš©ì„ ê°•ì œí•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ê²ƒì€ ë§¤ìš° ì–‡ì€ layer ì´ë©° ë‹¨ìˆœíˆ TCP ìœ„ì—ì„œ ì¼ë ¨ì˜ byte ìŠ¤íŠ¸ë¦¼ë“¤ì„ ë©”ì‹œì§€ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì— ì§€ë‚˜ì§€ ì•ŠëŠ”ë‹¤. ë©”ì‹œì§€ì˜ ì˜ë¯¸ í•´ì„ì€ Application ì— ë§¡ê²¨ë‘” ì±„ ë§ì´ë‹¤.</p><p>HTTP (ì´ê²ƒì€ application level protocol ì´ë‹¤.) ì™€ ë‹¬ë¦¬ WebSocket ì˜ protocol ì€ ë‹¨ìˆœí™” í•˜ì—¬ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ ì–´ë””ë¡œ route í• ì§€ì— ëŒ€í•œ ì¶©ë¶„í•œ ì •ë³´ê°€ ì œê³µë˜ì§€ ì•ŠëŠ” ì €ìˆ˜ì¤€ìœ¼ë¡œ ì œê³µëœë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ WebSocket RFC ì—ì„œëŠ” sub-protocol ë“¤ì˜ ì‚¬ìš©ì„ ì •ì˜í•˜ì˜€ë‹¤. handshake ì‚¬ìš© ì¤‘ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ëŠ” Sec-WebSocket-Protocol í—¤ë”ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³  ì´ë¥¼ í†µí•´ ì„œë¡œ í†µì‹ í•  sub protocol ì„ í•©ì˜í•œë‹¤. WebSocket ì€ sub-protocol ì„ ê°•ì œí•˜ì§€ ì•Šê¸°ì— í•„ìˆ˜ì ì¸ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ ì´ ê²½ìš° client/server ëŠ” ì„œë¡œ message í¬ë§·ì— ëŒ€í•´ í•©ì˜ë˜ì–´ì•¼ í•œë‹¤.</p><p>Spring ì€ STOMP ì§€ì›ì„ ì œê³µí•˜ë©° ì´ëŠ” HTTP ì™€ ìœ ì‚¬í•œ í˜•íƒœë¡œ script ì–¸ì–´ì—ì„œ ì‚¬ìš©ì„ ìœ„í•´ ë§Œë“¤ì–´ì§„ ê²ƒì´ë‹¤. STOMP ëŠ” ë„ë¦¬ ì§€ì›ë˜ê³  WebSocket ì‚¬ìš©ì— ì í•©í•˜ë‹¤.</p><p><strong>4. WebSocket ì„ ì‚¬ìš©í•˜ì—¬ì•¼ í•˜ëŠ”ê°€?</strong></p><p>WebSocket ì€ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ ì ì€ ì§€ì—°ì— ë§¤ìš° ë¹ˆë²ˆí•˜ê²Œ ì´ë²¤íŠ¸ë¥¼ êµí™˜í•´ì•¼ í•  ê²½ìš°ì— ì í•©í•˜ë‹¤. ì´ëŠ” finance, game, collaboration ë“±ì˜ application ì¼ ìˆ˜ ìˆë‹¤. ì´ë“¤ì€ ëª¨ë‘ time delay ì— ë¯¼ê°í•˜ê³  ë§¤ìš° ë¹ˆë²ˆí•˜ê²Œ ë§ì€ ì¢…ë¥˜ì˜ ë©”ì‹œì§€ë¥¼ êµí™˜í•´ì•¼ í•œë‹¤.</p><p>social, news feed ì™€ ê°™ì€ ê²½ìš°ëŠ” ë‹¨ìˆœ polling ìœ¼ë¡œ ì¶©ë¶„í•˜ë‹¤. ì´ë“¤ì€ latency ê°€ ì¤‘ìš”í•œ ìš”ì†Œê°€ ì•„ë‹ˆë‹¤. latency ê°€ ì¤‘ìš”í•˜ë”ë¼ë„ message ì˜ í¬ê¸°ê°€ ì‘ë‹¤ë©´ (network failure check ê°™ì€) long polling ì´ ì¶©ë¶„í•œ ëŒ€ì•ˆì´ ë  ìˆ˜ ìˆë‹¤.</p><p>low latency ì™€ high frequency ê°€ ì¤‘ìš”í•œ ê²½ìš°ì—ëŠ” WebSocket ì´ ì í•©í•˜ë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ê²½ìš°ì—ë„ ëª¨ë“  client-server í†µì‹ ì´ WebSocket ì„ ì´ìš©í•´ì•¼ í•˜ëŠ” ì§€ëŠ” application ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤. ìµœì ì˜ ê²½ìš°ë¥¼ ìƒê°í•˜ì—¬ client ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëŒ€ì•ˆìœ¼ë¡œì„œ WebSocket ê³¼ REST API ë¥¼ ëª¨ë‘ ì œê³µí•´ì•¼ í•  ìˆ˜ë„ ìˆë‹¤. ì´ ê²½ìš° REST í˜¸ì¶œì„ í†µí•´ íŠ¹ì • ë©”ì‹œì§€ë¥¼ WebSocket í´ë¼ì´ì–¸íŠ¸ë“¤ì—ê²Œ ëª¨ë‘ ì „ë‹¬ë  í•„ìš”ê°€ ìˆì„ ìˆ˜ë„ ìˆë‹¤.</p><p>Spring Framework ëŠ” @Controller, @RestController í´ë˜ìŠ¤ì— HTTP í•¸ë“¤ë§ ë©”ì†Œë“œì™€ WebSocket í•¸ë“¤ë§ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê²Œë‹¤ê°€ Spring MVC ìš”ì²­ í•¸ë“¤ë§ ë©”ì†Œë“œëŠ” ëª¨ë“  WebSocket í´ë¼ì´ì–¸íŠ¸ì— ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ê±°ë‚˜ íŠ¹ì • ì‚¬ìš©ìì—ê²Œë§Œ ì „ë‹¬í•˜ëŠ” ê²ƒì„ ì‰½ê²Œ ì œê³µí•œë‹¤.</p><h3 id=websocket-api>WebSocket API</h3><p>Spring Framework ëŠ” ë‹¤ì–‘í•œ WebSocket Engine ì— ì í•©í•˜ê²Œ ì„¤ê³„ë˜ì—ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Tomcat (7.0.47+) or GlassFish (4.0+), WildFly (8.0+) JSR-356 ëŸ°íƒ€ì„ìƒì—ì„œ êµ¬ë™í•˜ê±°ë‚˜ Jetty (9.1+) ì—ì„œì™€ ê°™ì´ native WebSocket ì§€ì› í™˜ê²½ì—ì„œ êµ¬ë™í•  ìˆ˜ ìˆë‹¤.</p><p>ì§ì ‘ì ì¸ WebSocket API ë¥¼ application ê°œë°œì— ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì €ìˆ˜ì¤€ì˜ í–‰ìœ„ê¹Œì§€ ì„¤ê³„í•´ì•¼ í•œë‹¤. ë©”ì‹œì§€ í¬ë§·ì— ëŒ€í•œ ê²ƒ ë˜ëŠ” annotation ì„ í†µí•œ message ë¼ìš°íŒ… ê°™ì€ ê²ƒì„ ì§€ì›í•˜ë„ë¡ application ì—ì„œëŠ” sub-protocol ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìœ¼ë©°, ì´ëŸ¬í•œ ë§¥ë½ì—ì„œ Spring ì€ STOMP over WebSocket ì„ ì§€ì›í•œë‹¤.</p><h4 id=spring-websocket-ì§€ì›-ì‚´í´ë³´ê¸°>Spring WebSocket ì§€ì› ì‚´í´ë³´ê¸°</h4><p><strong>1. WebSocketHandler ì„¤ì •</strong></p><p>Spring ì€ WebSocketHandler ë¥¼ êµ¬í˜„í•¨ìœ¼ë¡œ WebSocket ì„œë²„ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ì§€ì›í•œë‹¤. WebSocketHandler ëŠ” TextWebSocketHandler ë‚˜ BinaryWebSocketHandler ë¡œ ì„¸ë¶„í™” ë˜ì–´ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.socket.WebSocketHandler</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.socket.WebSocketSession</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.socket.TextMessage</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>MyHandler</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>TextWebSocketHandler</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>handleTextMessage</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebSocketSession</span> <span style=color:#000>session</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>TextMessage</span> <span style=color:#000>message</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>íŠ¹ì • URL ì— WebSocketHandler ë¥¼ ì„¤ì •í•˜ëŠ” Java-Config ì„¤ì •</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.socket.config.annotation.EnableWebSocket</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.socket.config.annotation.WebSocketConfigurer</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocket</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerWebSocketHandlers</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebSocketHandlerRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>myHandler</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#4e9a06>&#34;/myHandler&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>WebSocketHandler</span> <span style=color:#000>myHandler</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>MyHandler</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë™ì¼ ì„¤ì •ì„ ìœ„í•œ XML Config ì„¤ì •</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:websocket=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/websocket&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34; 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket/spring-websocket-4.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;websocket:handlers&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:mapping</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/myHandler&#34;</span> <span style=color:#c4a000>handler=</span><span style=color:#4e9a06>&#34;myHandler&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/websocket:handlers&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;myHandler&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.samples.MyHandler&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>ìœ„ì˜ ì„¤ì •ì€ Spring ì˜ DispatcherServlet ì„ ì‚¬ìš©í•˜ëŠ” ì„¤ì •ì´ë‹¤. í•˜ì§€ë§Œ Spring ì€ ë‹¤ë¥¸ Web ê°œë°œ í™˜ê²½ì—ì„œ WebSocketHandler ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ WebSocketHttpRequestHandler ë¥¼ ì§€ì›í•œë‹¤.</p><p><strong>2. WebSocket Handshaking ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ</strong></p><p>ì´ˆê¸° WebSockethandshake ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ëŠ” ê°€ì¥ ì†ì‰¬ìš´ ë°©ë²•ì€ HandshakeInterceptor ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì¸ë° ì´ê²ƒì€ handshake í•˜ëŠ” ê²ƒì— ëŒ€í•œ before ì™€ after ì²˜ë¦¬ë¥¼ ê¸°ìˆ í•  ìˆ˜ ìˆë‹¤. ì´ê²ƒì€ handshake ë¥¼ ì¤€ë¹„í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ê±°ë‚˜ WebSocketSession ì—ì„œ íŠ¹ì • attribute ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤. ì•„ë˜ëŠ” Spring ì—ì„œ ì œê³µë˜ëŠ” interceptor ë¡œ http ì„¸ì…˜ attribute ë¥¼ WebSocketSession ì— ì „ë‹¬í•´ ì£¼ëŠ” ì¼ì„ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocket</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerWebSocketHandlers</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebSocketHandlerRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>MyHandler</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#4e9a06>&#34;/myHandler&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addInterceptors</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>HttpSessionHandshakeInterceptor</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:websocket=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/websocket&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34; 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket/spring-websocket-4.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;websocket:handlers&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:mapping</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/myHandler&#34;</span> <span style=color:#c4a000>handler=</span><span style=color:#4e9a06>&#34;myHandler&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:handshake-interceptors&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.socket.server.support.HttpSessionHandshakeInterceptor&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/websocket:handshake-interceptors&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/websocket:handlers&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;myHandler&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.samples.MyHandler&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>ì¢€ ë” ê³ ê¸‰ ì˜µì…˜ì„ ì ìš©í•˜ë ¤ë©´ DefaultHandshakeHandler ë¥¼ í™•ì¥í•˜ì—¬ì•¼ í•œë‹¤. ì´ê²ƒì€ validating, client origin, sub-protocol í˜‘ì˜ ë° ê¸°íƒ€ ì—¬ëŸ¬ê°€ì§€ë¥¼ í¬í•¨í•˜ê³  ìˆë‹¤. application ì€ íŠ¹ì • WebSocket server engine ì´ë‚˜ ì•„ì§ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë²„ì „ì— ëŒ€í•œ ì§€ì›ì„ ìœ„í•´ì„œ ì»¤ìŠ¤í…€ RequestUpgradeStrategy ë¥¼ ì„¤ì •í•  í•„ìš”ê°€ ìˆë‹¤.</p><p><strong>3. WebSocketHandler Decoration</strong></p><p>Spring ì€ WebSocketHandlerDecorator ê¸°ë³¸ í´ë˜ìŠ¤ë¥¼ ì œê³µí•œë‹¤. ì´ê²ƒì€ WebSocketHandler ì— ì¶”ê°€ì ì¸ í–‰ìœ„ë¥¼ decorate í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤. Logging, Exception Handling WebSocketHandlerDecorator êµ¬í˜„ì´ Java-config ë‚˜ XML config ë¥¼ í†µí•´ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ê³  ìˆë‹¤. ExceptionWebSocketHandlerDecorator ëŠ” WebSocketHandler ì—ì„œ ë°œìƒí•˜ëŠ” ì²˜ë¦¬ë˜ì§€ ì•Šì€ ëª¨ë“  ì˜ˆì™¸ë¥¼ catch í•˜ì—¬ Server error ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ 1011 status code ë¡œ ì‘ë‹µí•œë‹¤.</p><p><strong>4. ë°°í¬ ê³ ë ¤ì‚¬í•­</strong></p><p>Spring WebSocket API ëŠ” Spring MVC application ê³¼ í†µí•©ì´ ì‰½ë‹¤. ê·¸ê²ƒì€ Dispatcher Servlet ì´ HTTP WebSocket handshake ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ HTTP ìš”ì²­ë„ ì„œë¹„ìŠ¤ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. WebSocketHttpRequestHandler ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ HTTP ì²˜ë¦¬ ì‹œë‚˜ë¦¬ì˜¤ (Spring MVC ì´ì™¸ì˜ ë‹¤ë¥¸ Web Framework ì™€ ê°™ì€) ì™€ë„ ì‰½ê²Œ ê²°í•©í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ JSR-356 runtime ì— íŠ¹ë³„í•œ ê³ ë ¤ì‚¬í•­ì´ ìˆë‹¤.</p><p>Java WebSocket API (JSR-356) ëŠ” ë‘ê°€ì§€ ë°°í¬ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•œë‹¤. ì²«ë²ˆì§¸ëŠ” ì‹œì‘ ì‹œ Servlet container classpath scan (Servlet 3 ì˜ ê¸°ëŠ¥) ì— ê´€í•œ ê²ƒì´ê³  ë‹¤ë¥¸ ê²ƒì€ Servlet container ì´ˆê¸°í™”ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ registration API ì— ê´€í•œ ê²ƒì´ë‹¤. ì´ê²ƒ ì¤‘ ì–´ëŠ ê²ƒë„ ëª¨ë“  HTTP ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë‹¨ì¼ front controller ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤. ì¦‰ DispatcherServlet ì€ ì›ì¹™ì ìœ¼ë¡œ WebSocket handshake ì™€ ë‹¤ë¥¸ ëª¨ë“  HTTP ìš”ì²­ì— ëŒ€í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</p><p>ì´ê²ƒì€ JSR-356 ì´ ê°€ì§€ëŠ” ë§¤ìš° ì¤‘ìš”í•œ í•œê³„ì¸ë° Spring ì˜ WebSocket ì§€ì›ì€ JSR-356 runtime í™˜ê²½ì—ì„œë„ ì„œë²„ íŠ¹í™”ì˜ RequestUpgradeStrategy ë¥¼ ì œê³µí•¨ìœ¼ë¡œ ì´ë¥¼ ì§€ì›í•˜ê³  ìˆë‹¤. í˜„ì¬ Spring ì€ Tomcat 7.0.47+, Jetty 9.1+, GlassFish4.0+, WildFly8.0+ ì„ ì§€ì›í•œë‹¤. ì¶”ê°€ì ì¸ ì§€ì›ì€ ë” ë§ì€ WebSocket runtime ì„ ì´ìš©í•  ìˆ˜ ìˆì„ ë•Œ ì¶”ê°€ë  ê²ƒì´ë‹¤.</p><p>ë‘ ë²ˆì§¸ ê³ ë ¤ì‚¬í•­ì€ JSR-356 ì§€ì›ì˜ Servlet container ê°€ SCI scan ì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ê³  ìˆì–´ application êµ¬ë™ì„ ëŠë¦¬ê²Œ (í˜¹ì€ ì–´ë–¤ íŠ¹ì • ìƒí™©ì—ì„œëŠ” ë§¤ìš° ëŠë¦¬ê²Œ) í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ë§Œì•½ JSR-356 ì§€ì› Servlet container version ì—…ê·¸ë ˆì´ë“œì‹œ ëª…ë°±í•œ ì˜í–¥ì´ ëª©ê²©ëœë‹¤ë©´, ì„ íƒì ìœ¼ë¡œ web fragments (SCI scanning) ì„ í™œì„± ë° ë¹„í™œì„±í•  ìˆ˜ ìˆë‹¤. (ì´ëŠ” web.xml ì˜ absolute-ordering ì„ ì‚¬ìš©í† ë¡ í•œë‹¤.) web fragment ìˆœì„œë¥¼ ëª…í™•íˆ í•˜ë„ë¡ web.xml ì—ì„œ absolute-ordering ì„ ì‚¬ìš© í† ë¡ í•œë‹¤. (ì´ëŠ” scanning ì„ ì‚¬ìš©ì¹˜ ì•Šë„ë¡ í•˜ëŠ” ë°©ë²•ì´ë‹¤.)</p><p><strong>5. WebSocket ì—”ì§„ ì„¤ì •í•˜ê¸°</strong></p><p>ê°ê°ì˜ ê¸°ë°˜ì´ ë˜ëŠ” WebSocket engine ë“¤ì€ message buffer size ë‚˜ idle timeout ë“±ì˜ runtime íŠ¹ì„±ì„ ì¡°ì ˆí•  ìˆ˜ ìˆëŠ” configuration properties ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì´ëŠ” Tomcat, WildFly, Glassfish ì—ì„œServletServerContainerFactoryBean ì„ WebSocket java config ì— ì¶”ê°€í•˜ì—¬ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocket</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>ServletServerContainerFactoryBean</span> <span style=color:#000>createWebSocketContainer</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>ServletServerContainerFactoryBean</span> <span style=color:#000>container</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ServletServerContainerFactoryBean</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>container</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setMaxTextMessageBufferSize</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>8192</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>container</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setMaxBinaryMessageBufferSize</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>8192</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>container</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:websocket=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/websocket&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34; 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket/spring-websocket.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework...ServletServerContainerFactoryBean&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;maxTextMessageBufferSize&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;8192&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;maxBinaryMessageBufferSize&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;8192&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>client ì¸¡ WebSocket ì„¤ì •ì„ ìœ„í•´ì„œëŠ” WebSocketContainerFactoryBean(XML) ì´ë‚˜ ContainerProvider.getWebSocketContainer() ë¥¼ ì´ìš©í•œë‹¤.</p><p>Jetty ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ë¯¸ë¦¬ ì„¤ì •ëœ WebSocketServerFactory ë¥¼ í•„ìš”ë¡œ í•˜ê³  ì´ë¥¼ WebSocket java config ë¥¼ í†µí•´ì„œ Spring ì˜ DefaultHandshakeHandler ì— ì¶”ê°€í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocket</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerWebSocketHandlers</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebSocketHandlerRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>echoWebSocketHandler</span><span style=color:#ce5c00;font-weight:700>(),</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;/echo&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>setHandshakeHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>handshakeHandler</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>DefaultHandshakeHandler</span> <span style=color:#000>handshakeHandler</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#000>WebSocketPolicy</span> <span style=color:#000>policy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebSocketPolicy</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebSocketBehavior</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>SERVER</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>policy</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setInputBufferSize</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>8192</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>policy</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setIdleTimeout</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>600000</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>DefaultHandshakeHandler</span><span style=color:#ce5c00;font-weight:700>(</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JettyRequestUpgradeStrategy</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebSocketServerFactory</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>policy</span><span style=color:#ce5c00;font-weight:700>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:websocket=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/websocket&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34; 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket/spring-websocket.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;websocket:handlers&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:mapping</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/echo&#34;</span> <span style=color:#c4a000>handler=</span><span style=color:#4e9a06>&#34;echoHandler&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:handshake-handler</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;handshakeHandler&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/websocket:handlers&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;handshakeHandler&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework...DefaultHandshakeHandler&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;constructor-arg</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;upgradeStrategy&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;upgradeStrategy&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework...JettyRequestUpgradeStrategy&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;constructor-arg</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;serverFactory&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;serverFactory&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.eclipse.jetty...WebSocketServerFactory&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;constructor-arg&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.eclipse.jetty...WebSocketPolicy&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;constructor-arg</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;SERVER&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;inputBufferSize&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;8092&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;idleTimeout&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;600000&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/constructor-arg&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-d54688493603f8e6fe7e2cb7d9d22f8e>27 - STOMP over WebSocket ê°œìš” ë° ë©”ì‹œì§€ ì²˜ë¦¬ íë¦„</h1><div class=lead>STOMPëŠ” ê°„ë‹¨í•œ ë©”ì‹œì§• í”„ë¡œí† ì½œë¡œ, Spring Frameworkì—ì„œ WebSocketê³¼ ê²°í•©í•´ ë©”ì‹œì§€ ì „ì†¡ ë° êµ¬ë… ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. Spring WebSocket ì„¤ì •ì„ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ë©”ì‹œì§€ íë¦„ì„ ê´€ë¦¬í•˜ë©°, ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ê³  broadcastingí•˜ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.</div><h1 id=stomp-over-websocket-messaging-architecture>STOMP Over WebSocket Messaging Architecture</h1><p><a href=http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-stomp>http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-stomp</a></p><p>WebSocket protocol ì€ content ë¥¼ ì •ì˜í•˜ì§€ ì•Šì€ ì±„ 2 ê°€ì§€ ìœ í˜• (text, binary) ì˜ ë©”ì‹œì§€ë¡œ ë¶„ë¥˜í–ˆë‹¤. content ë¥¼ ì •ì˜í•˜ì§€ ì•Šì€ ëŒ€ì‹  client ì™€ ì„œë²„ëŠ” sub-protocol (content ë¥¼ ì •ì˜í•˜ëŠ” ê³ ìˆ˜ì¤€ì˜ protocol) ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ í•©ì˜í•´ì•¼ í•  ìˆ˜ë„ ìˆë‹¤. sub-protocol ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ option ì´ì§€ë§Œ client ì™€ server ëª¨ë‘ ë©”ì‹œì§€ë¥¼ ì–´ë–»ê²Œ í•´ì„í•´ì•¼ í• ì§€ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤.</p><h2 id=1-stomp-ê°œìš”>1. STOMP ê°œìš”</h2><p><a href=http://stomp.github.io/stomp-specification-1.2.html#Abstract>STOMP</a> ëŠ” Ruby, Python, Perl ê³¼ ê°™ì€ ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´ë¥¼ ìœ„í•´ ê³ ì•ˆëœ ë‹¨ìˆœí•œ ë©”ì‹œì§• í”„ë¡œí† ì½œì´ë‹¤. ê·¸ê²ƒì€ ë©”ì‹œì§• í”„ë¡œí† ì½œì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” íŒ¨í„´ë“¤ì˜ ì¼ë¶€ë¥¼ ì œê³µí•œë‹¤. STOMP ëŠ” TCP ë‚˜ WebSocket ê³¼ ê°™ì€ ì‹ ë¢°ì„±ìˆëŠ” ì–‘ë°©í–¥ streaming network protocol ìƒì— ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.</p><p>STOMP ëŠ” HTTP ì— ëª¨ë¸ë§ëœ frame ê¸°ë°˜ í”„ë¡œí† ì½œì´ë‹¤. ë‹¤ìŒì€ frame ì˜ êµ¬ì¡°ì´ë‹¤.</p><pre tabindex=0><code>COMMAND
header1:value1
header2:value2
 
Body^@
</code></pre><p>í´ë¼ì´ì–¸íŠ¸ëŠ” ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸° ìœ„í•´ SEND ëª…ë ¹ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ìˆ˜ì‹  ë©”ì‹œì§€ì— ê´€ì‹¬ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ SUBSCRIBE ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ëŸ° ëª…ë ¹ì–´ë“¤ì€ â€œdestinationâ€ í—¤ë”ë¥¼ ìš”êµ¬í•˜ëŠ”ë° ì–´ë””ì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ì§€ í˜¹ì€ ì–´ë””ì—ì„œ ë©”ì‹œì§€ë¥¼ êµ¬ë…í• ì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.</p><p>ë‹¤ìŒì€ stock shares ë¥¼ êµ¬ë§¤í•˜ê¸° ìœ„í•œ ìš”ì²­ ì „ì†¡ì˜ ì˜ˆì´ë‹¤.</p><pre tabindex=0><code>SEND
destination:/queue/trade
content-type:application/json
content-length:44
 
{&#34;action&#34;:&#34;BUY&#34;,&#34;ticker&#34;:&#34;MMM&#34;,&#34;shares&#34;,44}^@
</code></pre><p>ë‹¤ìŒì€ stock quotes ë¥¼ ì–»ê¸°ìœ„í•œ í´ë¼ì´ì–¸íŠ¸ êµ¬ë…ì˜ ì˜ˆì´ë‹¤.</p><pre tabindex=0><code>SUBSCRIBE
id:sub-1
destination:/topic/price.stock.*
 
^@
</code></pre><p>destination ì˜ ì˜ë¯¸ëŠ” STOMP spec ì—ì„œ íˆ¬ëª…í•˜ê²Œ ë‚¨ê²¨ë‘ì—ˆë‹¤. ê·¸ê²ƒì€ ì–´ë–¤ ë¬¸ìì—´ì´ë“  ë  ìˆ˜ ìˆê³  ê·¸ ì˜ë¯¸ë‚˜ ë¬¸ë²•ì€ ì˜¨ì „íˆ STOMP ì„œë²„ì— ë§¡ê²¨ì§„ë‹¤. ê·¸ëŸ¬ë‚˜ ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒì˜ ê·œì¹™ì„ ì‚¬ìš©í•˜ê³¤ í•œë‹¤.</p><p>â€œtopic/..â€ - publish-subscribe (one to many) â€œqueue/â€ - point-to-point (one to one)</p><p>STOMP ì„œë²„ëŠ” ëª¨ë“  êµ¬ë…ìì—ê²Œ message ë¥¼ broadcasting í•˜ê¸° ìœ„í•´ MESSAGE ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒì€ stock quote ë¥¼ êµ¬ë…ìì—ì„œ ì „ë‹¬í•˜ëŠ” ì˜ˆì´ë‹¤.</p><pre tabindex=0><code>MESSAGE
message-id:nxahklf6-1
subscription:sub-1
destination:/topic/price.stock.MMM
 
{&#34;ticker&#34;:&#34;MMM&#34;,&#34;price&#34;:129.45}^@
</code></pre><p>ì„œë²„ëŠ” ë¶ˆë¶„ëª…í•œ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ì—†ìŒì„ ì•Œì•„ì•¼ í•œë‹¤. ì¦‰ ì„œë²„ì˜ ëª¨ë“  ë©”ì‹œì§€ëŠ” íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ êµ¬ë…ì— ì‘ë‹µí•˜ì—¬ì•¼ í•˜ê³  ì„œë²„ ë©”ì‹œì§€ì˜ â€œsubscription-idâ€ í—¤ë”ëŠ” í´ë¼ì´ì–¸íŠ¸ êµ¬ë…ì˜ â€œidâ€ í—¤ë”ì™€ ì¼ì¹˜í•˜ì—¬ì•¼ í•œë‹¤.</p><p>ì§€ê¸ˆê¹Œì§€ STOMP ì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ ì´í•´ë¥¼ ìœ„í•œ ê²ƒì´ë‹¤. ìƒì„¸í•œ ê²ƒì€ <a href=http://stomp.github.io/stomp-specification-1.2.html>specification</a> ì„ í†µí•´ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤.</p><p>ë‹¤ìŒì€ STOMP over WebSocket ì‚¬ìš© application ì˜ ì¥ì ì„ ìš”ì•½í•œ ê²ƒì´ë‹¤.</p><ul><li>Standard message format</li><li>Application-level protocol with support for common messaging patterns</li><li>Client-side support, e.g. stomp.js, msgs.js</li><li>The ability to interpret, route, and process messages on both client and server-side</li><li>The option to plug a message brokerâ€‰â€”â€‰RabbitMQ, ActiveMQ, many othersâ€‰â€”â€‰to broadcast messages (explained later)</li></ul><p>ìˆœìˆ˜ WebSocket ê³¼ ë¹„êµí•˜ì—¬ STOMP ì‚¬ìš©ì˜ ê°€ì¥ ì¤‘ìš”í•œ ìš”ì†ŒëŠ” Spring Framework ê°€ ë§ˆì¹˜ SpringMVC ê°€ HTTP ì— í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ì œê³µí•˜ëŠ” ê²ƒì²˜ëŸ¼ application ìˆ˜ì¤€ì˜ ì‚¬ìš©ì„ ìœ„í•œ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ì œê³µí•œë‹¤ëŠ” ê²ƒì´ë‹¤.</p><h2 id=2-enable-stomp-over-websocket>2. Enable STOMP over WebSocket</h2><p>Spring Framework ëŠ” spring-messaging ì™€ spring-websocket ëª¨ë“ˆì„ í†µí•´ STOMP over WebSocket ì‚¬ìš©ì„ ì œê³µí•œë‹¤.</p><p>ë‹¤ìŒì€ SockJS fallback option ì„ ì‚¬ìš©í•˜ëŠ” STOMP WebSocket endpoint ì„¤ì •ì˜ ì˜ˆì´ë‹¤. endpoint ëŠ” /app/portfolio URL ê²½ë¡œì— í´ë¼ì´ì–¸íŠ¸ê°€ ì ‘ì†í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.web.socket.config.annotation.StompEndpointRegistry</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocketMessageBroker</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketMessageBrokerConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>configureMessageBroker</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MessageBrokerRegistry</span> <span style=color:#000>config</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>config</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setApplicationDestinationPrefixes</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/app&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>enableSimpleBroker</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/queue&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;/topic&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerStompEndpoints</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>StompEndpointRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEndpoint</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/portfolio&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>withSockJS</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë™ì¼ XML ì„¤ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:websocket=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/websocket&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34; 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket/spring-websocket-4.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;websocket:message-broker</span> <span style=color:#c4a000>application-destination-prefix=</span><span style=color:#4e9a06>&#34;/app&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:stomp-endpoint</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/portfolio&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;websocket:sockjs/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/websocket:stomp-endpoint&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:simple-broker</span> <span style=color:#c4a000>prefix=</span><span style=color:#4e9a06>&#34;/queue, /topic&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        ...
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/websocket:message-broker&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>ë¸Œë¼ìš°ì € ì¸¡ì—ì„œëŠ” stomp.js ë‚˜ sockjs-client ë¥¼ ì‚¬ìš©í•˜ì—¬ ì ‘ì†í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>socket</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>SockJS</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/spring-websocket-portfolio/portfolio&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>stompClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Stomp</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>over</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>socket</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#000>stompClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>connect</span><span style=color:#000;font-weight:700>({},</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>frame</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>SockJS ì—†ëŠ” WebSocket ì‚¬ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>socket</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WebSocket</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/spring-websocket-portfolio/portfolio&#34;</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>stompClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Stomp</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>over</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>socket</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#000>stompClient</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>connect</span><span style=color:#000;font-weight:700>({},</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>frame</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>ìœ„ì˜ stomp í´ë¼ì´ì–¸íŠ¸ëŠ” login ê³¼ passcode í—¤ë”ë¥¼ ì •ì˜í•  í•„ìš”ê°€ ì—†ë‹¤. ì œê³µë˜ë”ë¼ë„ ë¬´ì‹œë˜ê±°ë‚˜ ì„œë²„ì¸¡ì—ì„œ ì¬ì •ì˜ ë  ê²ƒì´ë‹¤. ì¸ì¦ì— ëŒ€í•´ì„œëŠ” <a href=http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-stomp-handle-broker-relay-configure>Section 20.4.8, â€œConnections To Full-Featured Brokerâ€</a> ì™€ <a href=http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-stomp-authentication>Section 20.4.9, â€œAuthenticationâ€</a> ë¥¼ ì°¸ê³ í•˜ë¼</p><h2 id=3-flow-of-messages>3. Flow of Messages</h2><p>STOMP endpoint ê°€ ì„¤ì •ë  ë•Œ, spring application ì€ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ë“¤ì—ê²Œ ë§ˆì¹˜ STOMP broker ì¸ ê²ƒì²˜ëŸ¼ ë™ì‘í•œë‹¤. ë“¤ì–´ì˜¤ëŠ” ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ê³  ë‹¤ì‹œ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•œë‹¤. ì´ ì¥ì—ì„œëŠ” Application ë‚´ì—ì„œ message flow ê°€ ì–´ë– í•œì§€ì— ëŒ€í•œ ê°œëµì ì¸ ê°œìš”ë¥¼ ì œê³µí•œë‹¤.</p><p>spring-messaging ëª¨ë“ˆì€ <a href=https://spring.io/spring-integration>Spring Integration</a> í”„ë¡œì íŠ¸ì— ê¸°ë°˜í•œ ë‹¤ì–‘í•œ ì¶”ìƒí™”ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, messging application ì˜ building block ìœ¼ë¡œ ì‚¬ìš©í•˜ë„ë¡ ì˜ë„ë˜ì—ˆë‹¤.</p><ul><li>Messageâ€‰ â€”â€‰ represents a message with headers and a payload.</li><li>MessageHandler â€” a contract for handling a message.</li><li>MessageChannel â€‰â€” â€‰a contract for sending a message enabling loose coupling between senders and receivers.</li><li>SubscribableChannel â€‰â€” â€‰extends MessageChannel and sends messages to registered MessageHandler subscribers.</li><li>ExecutorSubscribableChannel â€‰â€” â€‰a concrete implementation of SubscribableChannel that can deliver messages asynchronously through a thread pool.</li></ul><p>ì œê³µë˜ëŠ” STOMP over WebSocket ì„¤ì • (Java,XML ëª¨ë‘) ì€ ë‹¤ìŒì˜ 3 ê°€ì§€ channel ë“¤ì„ í¬í•¨í•˜ì—¬ ì‹¤ì œì ì¸ message flow ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ”ë° ì‚¬ìš©ëœë‹¤.</p><ul><li>â€œclientInboundChannelâ€â€‰â€”â€‰for messages from WebSocket clients. Every incoming WebSocket message carrying a STOMP frame is sent through this channel.</li><li>â€œclientOutboundChannelâ€â€‰â€”â€‰for messages to WebSocket clients. Every outgoing STOMP message from the broker is sent through this channel before getting sent to a clientâ€™s WebSocket session.</li><li>â€œbrokerChannelâ€â€‰â€”â€‰for messages to the broker from within the application. Every message sent from the application to the broker passes through this channel.</li></ul><p>â€œclientInboundChannelâ€ ì˜ ë©”ì‹œì§€ëŠ” ì²˜ë¦¬ (ìš”ì²­ ì‹¤í–‰ê³¼ ê°™ì€) ë¥¼ ìœ„í•´ annotated method ë¡œ íë¥´ê±°ë‚˜ broker (êµ¬ë™ê³¼ ê°™ì€) ì— í¬ì›Œë”© ë  ìˆ˜ ìˆë‹¤. STOMP destination ì€ ë‹¨ìˆœí•œ prefix ê¸°ë°˜ ë¼ìš°íŒ…ì„ ìœ„í•´ ì‚¬ìš©ë˜ì–´ì§„ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ â€/appâ€ prefix ëŠ” annotated method ë¡œ ë¼ìš°íŒ…í•˜ê³  â€/topicâ€ ì´ë‚˜ â€/queueâ€ ëŠ” broker ì— ë¼ìš°íŒ…ë˜ëŠ” ê²ƒì´ë‹¤.</p><p>ë©”ì§€ì‹œ ì²˜ë¦¬ annotated method ê°€ return type ì„ ê°–ì„ ë•ŒëŠ” ê·¸ return value ëŠ” Spring Message ì˜ payload ë¡œì„œ â€œbrokerChannelâ€ ì— ì „ì†¡ëœë‹¤. ê·¸ëŸ¬ë©´ broker ëŠ” ë©”ì‹œì§€ë¥¼ client ë“¤ì—ê²Œ broadcasting í•œë‹¤. ë©”ì‹œì§€ë¥¼ destination ì— ì „ì†¡í•˜ëŠ” ê²ƒì€ messaging template ì˜ ë„ì›€ìœ¼ë¡œ application ë‚´ ì–´ë””ì—ì„œë‚˜ ìˆ˜í–‰ë  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, HTTP POST ì²˜ë¦¬ ë©”ì†Œë“œëŠ” ë©”ì‹œì§€ë¥¼ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ë“¤ì—ê²Œ broadcast í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ë˜ëŠ” service component ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ stock quotes ë¥¼ broadcast í•  ìˆ˜ ìˆë‹¤.</p><p>ë‹¤ìŒì€ ë©”ì‹œì§€ íë¦„ì„ ë³´ì—¬ì£¼ëŠ” ë‹¨ìˆœí•œ ì˜ˆì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocketMessageBroker</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketMessageBrokerConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerStompEndpoints</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>StompEndpointRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEndpoint</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/portfolio&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>configureMessageBroker</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MessageBrokerRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setApplicationDestinationPrefixes</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/app&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>enableSimpleBroker</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/topic/&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>GreetingController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@MessageMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/greeting&#34;</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>handle</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>greeting</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;[&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>getTimestamp</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;: &#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>greeting</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ë‹¤ìŒì€ ìœ„ ì˜ˆì œì˜ ë©”ì‹œì§€ íë¦„ì— ëŒ€í•œ ì„¤ëª…ì´ë‹¤.</p><ul><li>WebSocket clients connect to the WebSocket endpoint at â€/portfolioâ€. * Subscriptions to â€/topic/greetingâ€ pass through the â€œclientInboundChannelâ€ and are forwarded to the broker.</li><li>Greetings sent to â€/app/greetingâ€ pass through the â€œclientInboundChannelâ€ and are forwarded to the GreetingController.</li><li>The controller adds the current time and the return value is passed through the â€œbrokerChannelâ€ as message to â€/topic/greetingâ€ (destination is selected based on a convention but can be overridden via @SendTo).</li><li>The broker in turn broadcasts messages to subscribers and they pass through the â€œclientOutboundChannelâ€.</li></ul><p>ë‹¤ìŒ ì¥ì—ì„œ argument ì™€ return value ì˜ ì¢…ë¥˜ë¥¼ í¬í•¨í•œ annotated method ì˜ ìƒì„¸í•œ ë‚´ìš©ì„ ì œê³µí•œë‹¤.</p><h2 id=4-annotation-message-handling>4. Annotation Message Handling</h2><p>@MessageMapping annotation ì€ @Controller ì™€ @RestController annotated class ì˜ ë©”ì†Œë“œì— ì ìš©í•  ìˆ˜ ìˆë‹¤. ì´ê²ƒì€ ë©”ì†Œë“œë¥¼ path-like message destination ì— ë§¤í•‘í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ì´ê²ƒì€ ë˜í•œ controller ë‚´ì˜ ëª¨ë“  annotated method ë“¤ê³¼ ê³µìœ ë˜ëŠ” ë§¤í•‘ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ type-level @MessageMapping ê³¼ ê²°í•©í•  ìˆ˜ ìˆë‹¤.</p><p>Destination mapping ì€ Ant-style pattern (e.g. â€/foo*â€, â€/foo/**â€) ê³¼ template variable (e.g. â€/foo/{id}â€, ì´ê²ƒì€ @DestinationVariable ë©”ì†Œë“œ ì¸ìë¥¼ í†µí•´ ì ‘ê·¼ë  ìˆ˜ ìˆë‹¤.) ì„ í¬í•¨í•  ìˆ˜ ìˆë‹¤. ì´ì²˜ëŸ¼ SpringMVC ì‚¬ìš©ì ì¹œí™”ì ì¸ë°, ì‹¤ì§ˆì ìœ¼ë¡œ SpringMVC ê°€ ê·¸ëŸ¬í•˜ë“¯ AntPathMatcher ëŠ” pattern ê¸°ë°˜ì˜ destination mapping ê³¼ template variable ì¶”ì¶œì— ì‚¬ìš©ëœë‹¤.</p><p>@MessageMapping ë©”ì†Œë“œì—ì„œ ë‹¤ìŒì˜ method ì¸ìê°€ ì§€ì›ëœë‹¤.</p><ul><li>Message method argument to get access to the complete message being processed.</li><li>@Payload-annotated argument for access to the payload of a message, converted with a org.springframework.messaging.converter.MessageConverter. The presence of the annotation is not required since it is assumed by default. Payload method arguments annotated with Validation annotations (like @Validated) will be subject to JSR-303 validation.</li><li>@Header-annotated arguments for access to a specific header value along with type conversion using an org.springframework.core.convert.converter.Converter if necessary.</li><li>@Headers-annotated method argument that must also be assignable to java.util.Map for access to all headers in the message.</li><li>MessageHeaders method argument for getting access to a map of all headers.</li><li>MessageHeaderAccessor, SimpMessageHeaderAccessor, or StompHeaderAccessor for access to headers via typed accessor methods.</li><li>@DestinationVariable-annotated arguments for access to template variables extracted from the message destination. Values will be converted to the declared method argument type as necessary.</li><li>java.security.Principal method arguments reflecting the user logged in at the time of the WebSocket HTTP handshake.</li></ul><p>@MessageMapping ë©”ì†Œë“œì˜ return value ëŠ” org.springframework.messaging.converter.MessageConverter ë¥¼ í†µí•´ ë³€í™˜ë˜ê³  ìƒˆë¡œìš´ ë©”ì‹œì§€ì˜ body ë¡œ ì‚¬ìš©ëœë‹¤. ì´ ìƒˆë¡œìš´ ë©”ì‹œì§€ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ â€œbrokerChannelâ€ ì— client ë©”ì‹œì§€ì™€ ê°™ì€ destination ì´ì§€ë§Œ ê¸°ë³¸ê°’ â€/topicâ€ prefix ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ë‹¬ëœë‹¤. @SendTo message level annotation ì€ ë‹¤ë¥¸ destination ì„ ì§€ì •í•˜ê³ ì í•  ë•Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.</p><p>@SubscribeMapping annotation ì€ @Controller ë©”ì†Œë“œì— êµ¬ë… ìš”ì²­ì„ ë§¤í•‘í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ì´ê²ƒì€ method level ì— ì§€ì›ë˜ì§€ë§Œ, type level ì˜ @MessageMapping annotation ê³¼ ê²°í•©í•˜ì—¬ ê°™ì€ controller ë‚´ì˜ ëª¨ë“  message handling method ë“¤ê³¼ì˜ ê³µìœ  ë§¤í•‘ì„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.</p><p>ê¸°ë³¸ì ìœ¼ë¡œ @SubscribeMapping ë©”ì†Œë“œì˜ return value ëŠ” broker ì— ì „ë‹¬ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°”ë¡œ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ë“¤ì— ë©”ì‹œì§€ë¡œì„œ ì „ë‹¬ëœë‹¤. ì´ê²ƒì€ request-reply message êµí™˜ì— ìœ ìš©í•˜ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, application UI ê°€ ì´ˆê¸°í™” ë  ë•Œ application data ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ë‹¤. ëŒ€ì•ˆìœ¼ë¡œì„œ @SubscribeMapping ë©”ì†Œë“œê°€ @SendTo ê°€ ì ìš©ë˜ëŠ” ê²½ìš° ê²°ê³¼ message ëŠ” ì§€ì •ëœ ëŒ€ìƒ destination ì„ ì‚¬ìš©í•˜ì—¬ â€œbrokerChannelâ€ ì— ì „ë‹¬ëœë‹¤.</p><h2 id=5-sending-messages>5. Sending Messages</h2><p>Application ì˜ ì–´ë–¤ ë¶€ë¶„ì—ì„œë¼ë„ ì ‘ì†ëœ client ë“¤ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ ì í•  ë•Œ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ? ì–´ë– í•œ application component ë¼ë„ â€œbrokerChannelâ€ ì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìœ„í•œ ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ SimpMessagingTemplate ì„ ì£¼ì…ë°›ì•„ì„œ ë©”ì‹œì§€ ì „ì†¡ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ì´ê²ƒì€ ë‹¤ìŒì˜ ì˜ˆì œë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>GreetingController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>SimpMessagingTemplate</span> <span style=color:#000>template</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Autowired</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>GreetingController</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>SimpMessagingTemplate</span> <span style=color:#000>template</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>template</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>template</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/greetings&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>POST</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>greet</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>greeting</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>String</span> <span style=color:#000>text</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;[&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>getTimestamp</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;]:&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>greeting</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>this</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>template</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>convertAndSend</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/topic/greetings&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>text</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=6-simple-broker>6. Simple Broker</h2><p>ê¸°ë³¸ ì œê³µë˜ëŠ” ë‹¨ìˆœí•œ message broker ëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„°ì˜ êµ¬ë… ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ê·¸ê²ƒì„ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³  ì¼ì¹˜í•˜ëŠ” destination ì„ ê°€ì§€ëŠ” ì—°ê²°ëœ client ë“¤ì— ë©”ì‹œì§€ë¥¼ brodcasting í•œë‹¤. broker ëŠ” Ant-style destination pattern êµ¬ë…ì„ í¬í•¨í•˜ëŠ” ë™ì‹œì— path-like destination ì„ ì§€ì›í•œë‹¤.</p><h2 id=7-full-featured-broker>7. Full-Featured Broker</h2><p>Simple broker ê°€ ì´ˆê¸° ì‹œì‘ì„ ìœ„í•´ì„œëŠ” í›Œë¥­í•˜ì§€ë§Œ STOMP ëª…ë ¹ì˜ subset ë“¤ë§Œì„ ì§€ì›í•˜ê³  (e.g. no acks, receipts, etc) ë‹¨ìˆœ ë©”ì‹œì§€ ì „ì†¡ loop ì— ì˜ì¡´í•˜ë©°, clustering ì— ì í•©í•˜ì§€ ì•Šë‹¤. ëŒ€ì‹  application ì€ full-featured message broker ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì—…ê·¸ë ˆì´ë“œ í•  ìˆ˜ ìˆë‹¤.</p><p>ì í•©í•œ message broker ì„ íƒ ( <a href=http://www.rabbitmq.com/stomp.html>RabbitMQ</a>, <a href=http://activemq.apache.org/stomp.html>ActiveMQ</a>, others) ì„ ìœ„í•´ STOMP ë¬¸ì„œë¥¼ í™•ì¸í•˜ë¼. ê·¸ê²ƒì„ ì„¤ì¹˜í•˜ê³  STOMP ì§€ì›ì„ í™œì„±í™”í•˜ì—¬ broker ë¥¼ êµ¬ë™í•˜ë¼. ê·¸ ë‹¤ìŒ Spring configuration ì—ì„œ simple broker ëŒ€ì‹  STOMP broker relay ë¥¼ í™œì„±í™” í•˜ë¼.</p><p>ë‹¤ìŒì€ full-featured broker ë¥¼ í™œì„±í™”í•˜ëŠ” ì„¤ì •ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocketMessageBroker</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketMessageBrokerConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerStompEndpoints</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>StompEndpointRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEndpoint</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/portfolio&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>withSockJS</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>configureMessageBroker</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>MessageBrokerRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>enableStompBrokerRelay</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/topic/&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;/queue/&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setApplicationDestinationPrefixes</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/app&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:websocket=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/websocket&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34; 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket/spring-websocket-4.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;websocket:message-broker</span> <span style=color:#c4a000>application-destination-prefix=</span><span style=color:#4e9a06>&#34;/app&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:stomp-endpoint</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/portfolio&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;websocket:sockjs/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/websocket:stomp-endpoint&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:stomp-broker-relay</span> <span style=color:#c4a000>prefix=</span><span style=color:#4e9a06>&#34;/topic,/queue&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/websocket:message-broker&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>ìœ„ì˜ ì„¤ì •ì—ì„œ â€œSTOMP broker relayâ€ ëŠ” Spring <a href=http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/messaging/MessageHandler.html>MessageHandler</a> ì¸ë° ì´ê²ƒì€ ì™¸ë¶€ broker ì— ë©”ì‹œì§€ë“¤ì„ forwarding í•¨ìœ¼ë¡œì¨ ë©”ì‹œì§€ë“¤ì„ ì²˜ë¦¬í•œë‹¤. ê·¸ë ‡ê²Œ í•˜ê¸° ìœ„í•´ broker ì— TCP ì—°ê²°ì„ ë§ºê³  ëª¨ë“  ë©”ì‹œì§€ë¥¼ broker ì— forwarding í•˜ê³  broker ë¡œ ë¶€í„° ìˆ˜ì‹ ëœ ë©”ì‹œì§€ë¥¼ WebSocket session ì„ í†µí•´ client ì— ì—­ forwarding (ë˜ëŒë ¤ì¤€ë‹¤.) í•œë‹¤. ë³¸ì§ˆì ìœ¼ë¡œ ê·¸ê²ƒì€ ë§ˆì¹˜ ì–‘ë°©í–¥ìœ¼ë¡œ message ë¥¼ forwarding í•˜ëŠ” â€œrelayâ€ ì²˜ëŸ¼ ë™ì‘í•œë‹¤.</p><p>org.projectreactor:reactor-net ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ì—¬ TCP connection ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.</p><p>ê²Œë‹¤ê°€ application components (e.g. HTTP request handling method, business service, etc) ëŠ” ë˜í•œ ë©”ì‹œì§€ë¥¼ broker relay ì— ì „ì†¡í•  ìˆ˜ ìˆë‹¤. Section 20.4.5, â€œSending Messagesâ€ ì—ì„œ subscribed WebSocket í´ë¼ì´ì–¸íŠ¸ë“¤ì— ë©”ì‹œì§€ë¥¼ broadcast í•˜ëŠ” ê²ƒì´ ì„¤ëª…ë˜ì–´ ìˆë‹¤.</p><p>ì‚¬ì‹¤ìƒ broker relay ëŠ” ê°•ë ¥í•˜ê³  scalabale í•œ message brodcasting ì„ í™œì„±í™” í•œë‹¤.</p><h2 id=8-connections-to-full-featured-broker>8. Connections To Full-Featured Broker</h2><p>STOMP broker relay ëŠ” broker ì— ëŒ€í•œ ë‹¨ì¼ â€œsystemâ€ TCP connection ì„ ìœ ì§€í•œë‹¤. ì´ connection ì€ receiving message ê°€ ì•„ë‹Œ server ì¸¡ application ì— ê¸°ì¸í•˜ëŠ” message ë“¤ë§Œì„ ìœ„í•´ ì‚¬ìš©ëœë‹¤. ì´ëŸ¬í•œ ì ‘ì†ì„ ìœ„í•´ STOMP credentials ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. (STOMP frame login ê³¼ passcode í—¤ë”) ì´ê²ƒì€ Java config ì™€ XML ëª¨ë‘ì—ì„œ systemLogin/systemPasscode ì†ì„±ìœ¼ë¡œ ë…¸ì¶œëœë‹¤. (ê¸°ë³¸ê°’ì€ guest/guest ì´ë‹¤.)</p><p>STOMP broker relay ëŠ” ë˜í•œ ëª¨ë“  ì ‘ì†ëœ WebSocket client ë¥¼ ìœ„í•´ ë³„ë„ì˜ TCP ì—°ê²°ì„ ìƒì„±í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ë¥¼ ëŒ€ì‹ í•´ ëª¨ë“  TCP ì—°ê²°ì„ ìœ„í•´ STOMP credetial ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ì´ê²ƒì€ Java config ì™€ XML ëª¨ë‘ì—ì„œ clientLogin/clientPasscode ì†ì„±ìœ¼ë¡œ ë…¸ì¶œëœë‹¤. (ê¸°ë³¸ê°’ì€ guest/guest ì´ë‹¤.)</p><p>STOMP broker relay ëŠ” ë˜í•œ â€œsystemâ€ TCP connection ìƒì—ì„œ message broker ë¡œë¶€í„°ì˜/ë¡œ hearbeat ì„ ì „ì†¡í•˜ê³  ìˆ˜ì‹ í•œë‹¤. heartbeat ì „ì†¡/ìˆ˜ì‹ ì˜ interval ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ë° ê¸°ë³¸ê°’ì€ 10 ì´ˆì´ë‹¤. ë§Œì•½ broker ì— ëŒ€í•œ ì—°ê²°ì´ ëŠì–´ì§€ë©´ broker relay ëŠ” ì¬ì ‘ì† ì‹œë„ë¥¼ ì„±ê³µí•  ë•Œê¹Œì§€ 5 ì´ˆë§ˆë‹¤ ê³„ì†í•œë‹¤.</p><p>Spring Bean ì€ <code>ApplicationListener&lt;BrokerAvailabilityEvent></code> ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ë° ì´ë¥¼ í†µí•´ broker ì— ëŒ€í•œ â€œsystemâ€ connection ì´ ëŠê¸°ê³  ì¬ì ‘ì†ë  ë•Œ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, stock quote ë¥¼ broadcasting í•˜ëŠ” Stock Quote service ëŠ” ì–´ë– í•œ active â€œsystemâ€ connection ì´ ì—†ì„ ë•Œ ë©”ì‹œì§€ ì „ì†¡ì‹œë„ë¥¼ ì¤‘ë‹¨í•  ìˆ˜ ìˆë‹¤.</p><p>STOMP broker relay ëŠ” virtualHost ì†ì„±ìœ¼ë¡œ ì„¤ì •ë  ìˆ˜ ìˆë‹¤. ì´ ì†ì„±ì˜ ê°’ì€ ëª¨ë“  CONNECT frame ì˜ host header ì— ì„¤ì •ë  ê²ƒì´ê³  ì˜ˆë¥¼ ë“¤ì–´ TCP connection ì´ ë§ºì–´ì§„ ì‹¤ì œ host ê°€ cloud-based STOMP service ë¥¼ ì œê³µí•˜ëŠ” host ì™€ ë‹¤ë¥¸ cloud í™˜ê²½ì—ì„œ ìœ ìš©í•  ìˆ˜ ìˆë‹¤.</p><h2 id=9-authentication>9. Authentication</h2><p>WebSocket-style application ì—ì„œ ëˆ„ê°€ ë©”ì‹œì§€ë¥¼ ë³´ëƒˆëŠ”ì§€ ì•„ëŠ”ê²ƒì€ ë•Œë•Œë¡œ ìœ ìš©í•˜ë‹¤. ê·¸ë˜ì„œ ëª‡ê°€ì§€ ì¸ì¦ í˜•íƒœê°€ ì‚¬ìš©ì identity ë¥¼ í˜•ì„±í•˜ê³  ê·¸ê²ƒì„ í˜„ì¬ session ì— ì—°ê²°í•˜ëŠ”ë° í•„ìš”í•˜ë‹¤.</p><p>Web application ì€ ì´ë¯¸ HTTP ê¸°ë°˜ì˜ ì¸ì¦ì„ ì‚¬ìš©í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Spring Security ëŠ” ë³´í†µ application ì˜ HTTP URL ì„ ë³´í˜¸í•  ìˆ˜ ìˆë‹¤. WebSocket session ì´ HTTP handshake ë¡œ ì‹œì‘í•˜ê¸° ë•Œë¬¸ì— STOMP/WebSocket ì— ë§¤í•‘ëœ URL ì€ ì´ë¯¸ ë³´í˜¸ë˜ê³  ì¸ì¦ì„ ìš”êµ¬í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ê²Œë‹¤ê°€ WebSocket ì—°ê²°ì„ ì‹œì‘í•˜ëŠ” page ëŠ” ê·¸ ìŠ¤ìŠ¤ë¡œ ê±°ì˜ ë³´í˜¸ë˜ëŠ” ê²ƒì´ê³  ì‹¤ì œ handshake ì‹œê¹Œì§€ ê·¸ ì‚¬ìš©ìëŠ” ì¸ì¦ë˜ì–´ì ¸ì•¼ í•œë‹¤.</p><p>WebSocket hanshake ê°€ í˜•ì„±ë˜ê³  ìƒˆë¡œìš´ WebSocket session ì´ ìƒì„±ë  ë•Œ Spring WebSocket ì§€ì›ì€ ìë™ì ìœ¼ë¡œ HTTP request ë¡œ ë¶€í„° WebSocket session ìœ¼ë¡œ java.security.Principal ì„ ì „ë‹¬í•œë‹¤. ì´í›„ WebSocket session ìƒì˜ application ì„ í†µí•œ ëª¨ë“  message flow ëŠ” ì‚¬ìš©ì ì •ë³´ê°€ í¬í•¨ë˜ì–´ì§„ë‹¤. ê·¸ê²ƒì€ message ì˜ header ì— ì¡´ì¬í•œë‹¤. Controller ë©”ì†Œë“œëŠ” javax.security.Principal íƒ€ì…ì˜ ë©”ì†Œë“œ ì¸ìë¥¼ ì¶”ê°€í•¨ìœ¼ë¡œ í˜„ì¬ ì‚¬ìš©ìì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</p><p>ë¹„ë¡ STOMP CONNECT frame ì´ ì¸ì¦ì„ ìœ„í•œ â€œloginâ€ ê³¼ â€œpasscodeâ€ í—¤ë”ë¥¼ ê°€ì§€ê³  ìˆë‹¤í•˜ë”ë¼ë„, Spring ì˜ STOMP WebSocket ì§€ì›ì€ ê·¸ê²ƒë“¤ì„ ë¬´ì‹œí•˜ê³  ì‚¬ìš©ìê°€ HTTP ë¥¼ í†µí•´ ê¸° ì¸ì¦ë˜ì—ˆê¸°ë¥¼ ê¸°ëŒ€í•œë‹¤.</p><p>ì–´ë–¤ ê²½ìš°ì—ëŠ” ì‚¬ìš©ìê°€ ê³µì‹ì ìœ¼ë¡œ ì¸ì¦ë˜ì§€ ì•Šì•˜ì„ ë•Œì¼ì§€ë¼ë„ WebSocket session ì— identity ë¥¼ ë¶€ì—¬í•˜ëŠ”ê²ƒì´ ìœ ìš©í•  ìˆ˜ë„ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´, mobile app ì€ ìµëª…ì˜ ì‚¬ìš©ìì— ì–´ë–¤ identity (ì•„ë§ˆë„ ì§€ë¦¬ì  ìœ„ì¹˜ì— ê¸°ë°˜í•˜ì—¬) ë¥¼ ë¶€ì—¬í•˜ê¸°ë„ í•œë‹¤. ì´ë•Œì— ì‚¬ìš©ì ì •ì˜ handshake handler ê°€ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. (Section 20.2.4, â€œDeployment Considerationsâ€ ì—ì„œ ì˜ˆì œë¥¼ í™•ì¸í•˜ë¼)</p><h2 id=10-user-destinations>10. User Destinations</h2><p>Application ì€ íŠ¹ì • ì‚¬ìš©ìë¥¼ ì§€ì •í•˜ì—¬ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë‹¤. ì—°ê²°ëœ ì‚¬ìš©ìê°€ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•˜ê¸° ìœ„í•´ ê·¸ë“¤ì€ ì¸ì¦ë˜ì–´ì ¸ì•¼ í•œë‹¤. ê·¸ë˜ì•¼ ê·¸ë“¤ì˜ session ì´ ì‹¤ì œ user name ê³¼ ì—°ê²°ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ì•ì„  section ì—ì„œ ì¸ì¦ì— ëŒ€í•´ í™•ì¸í•˜ë¼</p><p>Spring ì˜ STOMP ì§€ì›ì€ /user/ ì ‘ë‘ì–´ë¡œ destination ì„ ì‹ë³„í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í´ë¼ì´ì–¸íŠ¸ê°€ /user/position-updates destination ì— subscribe í•  ìˆ˜ ìˆë‹¤. ì´ destination ì€ UserDestinationMessageHandler ì— ì˜í•´ ì²˜ë¦¬ë˜ê³  ì‚¬ìš©ì session ì— unique í•œ destination ìœ¼ë¡œ ë³€í™˜ëœë‹¤. (e.g. /user/position-updates-123) ì´ê²ƒì€ ì¼ë°˜ì ìœ¼ë¡œ ëª…ëª…ëœ destination ì— subscribing í¸ì˜ë¥¼ ì œê³µí•˜ëŠ” ë™ì‹œì— /user/position-updates ì— subscribe í•˜ëŠ” ì–´ë–¤ ë‹¤ë¥¸ ì‚¬ìš©ìì™€ ì¶©ëŒí•˜ì§€ ì•ŠìŒì„ ë³´ì¥í•œë‹¤.</p><p>ì „ì†¡ ì¸¡ì—ì„œ ë©”ì‹œì§€ëŠ” /user/{username}/position-updates ì™€ ê°™ì€ destination ì— ì „ì†¡ë  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë©´ UserDestinationMessageHandler ì— ì˜í•´ ì§€ì •í•œ ì‚¬ìš©ì ëª…ì— ì†í•œ unique destination ê³¼ ê°™ë„ë¡ ë²ˆì—­ë  ê²ƒì´ë‹¤.</p><p>ì´ê²ƒì€ application ë‚´ì˜ ì–´ë–¤ component ë„ name ê³¼ ì¼ë°˜ì ì¸ destination ë§Œ ì•Œë©´ íŠ¹ì • ì‚¬ìš©ìì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ì´ê²ƒì´ ì™¸ë¶€ message broker ì™€ ê°™ì´ ì‚¬ìš©ë  ë•Œ ì‚¬ìš©ì session ì´ ë„˜ì¹˜ë©´ ëª¨ë“  unique í•œ ì‚¬ìš©ì queue ê°€ ì‚­ì œë˜ë„ë¡ í•˜ê¸° ìœ„í•´ inactive queue ë¥¼ ë‹¤ë£¨ëŠ” ë°©ë²•ì— ëŒ€í•´ broker ë¬¸ì„œë¥¼ í™•ì¸í•˜ë¼. ì˜ˆë¥¼ ë“¤ì–´ RabbitMQ ëŠ” /exchange/amq.direct/position-updates ì™€ ê°™ì€ destination ì´ ì‚¬ìš©ë  ë•Œ auto-delete queue ë¥¼ ìƒì„±í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ /user/exchange/amq.direct/position-updates ì— subscrbe í•˜ëŠ”ê²ƒì´ ê·¸ëŸ¬í•œ ê²½ìš°ì´ë‹¤. ActiveMQ ëŠ” inactive destination ì„ ì œê±°í•˜ê¸° ìœ„í•œ configuration options ì´ ìˆë‹¤.</p><h2 id=11-applicationcontext-events>11. ApplicationContext Events</h2><p>STOMP messaging ì§€ì›ì€ ë‹¤ìŒì˜ ApplicationContext ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤. ì´ëŸ¬í•œ ì´ë²¤íŠ¸ë“¤ì¤‘ í•˜ë‚˜ í˜¹ì€ ê·¸ ì´ìƒì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ Spring ê´€ë¦¬ component ëŠ” ApplicationListener ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ì´ë²¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p>BrokerAvailabilityEventâ€‰â€”â€‰broker ê°€ available/inavailable ë  ë•Œ ë‚˜íƒ€ë‚œë‹¤. â€œsimpleâ€ broker ëŠ” ì‹œì‘ì‹œ ì¦‰ì‹œ available ë˜ê³  application êµ¬ë™ì¤‘ ìœ ì§€ë˜ì§€ë§Œ STOMP â€œbroker relayâ€ ëŠ” ë§Œì•½ broker ê°€ ì¬ì‹œì‘ë˜ë©´ full featured broker ì— ëŒ€í•œ ì—°ê²°ì„ ìƒì„ ì§€ë„ ëª¨ë¥¸ë‹¤. broker relay ëŠ” reconnect logic ì„ ê°€ì§€ê³  ìˆê³  broker ì— ëŒ€í•œ â€œsystemâ€ connection ì„ broker ê°€ ëŒì•„ì˜¤ë©´ ì¬ì„¤ì • í•  ê²ƒì´ë‹¤. ê·¸ ê²°ê³¼ ì´ event ëŠ” ìƒíƒœê°€ connected ì—ì„œ disconnected ê°€ ë  ë•Œë‚˜ ê·¸ ë°˜ëŒ€ì¼ë•Œë§ˆë‹¤ ë°œìƒí•œë‹¤. SimpMessagingTemplate ì„ ì‚¬ìš©í•˜ëŠ” Components ëŠ” ì´ ì´ë²¤íŠ¸ì— subscribe í•˜ì—¬ì•¼ í•˜ë©° broker ê°€ ì´ìš©ë¶ˆê°€ì¼ ë•Œ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ì§€ ë§ì•„ì•¼ í•œë‹¤. ì–´ë–¤ ê²½ìš°ì—ì„œëŠ” ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ë•Œ MessageDeliveryException ì„ ì²˜ë¦¬í•˜ë„ë¡ ì¤€ë¹„ë˜ì–´ì•¼ í•œë‹¤. SessionConnectEventâ€‰â€”â€‰ìƒˆë¡œìš´ í´ë¼ì´ì–¸íŠ¸ session ì„ ë‚˜íƒ€ë‚´ëŠ” STOMP CONNECT ê°€ ìˆ˜ì‹ ë  ë•Œ ë‚˜íƒ€ë‚œë‹¤. ì´ ì´ë²¤íŠ¸ëŠ” session id , user information ë° client ê°€ ë³´ëƒˆì„ ì§€ ëª¨ë¥´ëŠ” ì–´ë–¤ ì‚¬ìš©ì ì •ì˜ header ë¥¼ í¬í•¨í•œë‹¤. ì´ê²ƒì€ client sessions ì„ ì¶”ì í•˜ëŠ”ë° ìœ ìš©í•˜ë‹¤. ì´ ì´ë²¤íŠ¸ì— subscribe í•˜ëŠ” Components ëŠ” SimpMessageHeaderAccessor ë‚˜ StompMessageHeaderAccessor ë¥¼ ì‚¬ìš©í•˜ì—¬ ë©”ì‹œì§€ë¥¼ wrapping í•  ìˆ˜ ìˆë‹¤. SessionConnectedEventâ€‰â€”â€‰broker ê°€ SessionConnectEvent ì´í›„ CONNECT ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ STOMP CONNECTED frame ì„ ì „ì†¡í–ˆì„ ë•Œ ì§§ê²Œ ë°œìƒí•œë‹¤. ì´ ì‹œì ì— STOMP session ì€ ì™„ì „íˆ ì—°ê²°ë˜ì—ˆìŒìœ¼ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆë‹¤. SessionDisconnectEventâ€‰â€”â€‰STOMP session ì´ ëë‚¬ì„ ë•Œ ë°œìƒí•œë‹¤. DISCONNECT ëŠ” client ë¡œ ë¶€í„° ì „ì†¡ë˜ê±°ë‚˜ WebSocket session ì´ closed ë  ë•Œ ìë™ì ìœ¼ë¡œ ë°œìƒë˜ì–´ì§ˆ ìˆ˜ ìˆë‹¤. ì–´ë–¤ ê²½ìš°ì— ì´ ì´ë²¤íŠ¸ëŠ” ì„¸ì…˜ë‹¹ í•œë²ˆ ì´ìƒ ë°œìƒí• ìˆ˜ë„ ìˆë‹¤. Components ëŠ” ë³µìˆ˜ì˜ disconnect events ì— ëŒ€í•´ idempotent(ë©±ë“±) í•´ì•¼ í•œë‹¤. full-featured broker ë¥¼ ì‚¬ìš©í•  ë•Œ, STOMP â€œbroker relayâ€ ëŠ” ìë™ì ìœ¼ë¡œ broker ê°€ ì¼ì‹œì ìœ¼ë¡œ ì´ìš©ë¶ˆê°€í•œ â€œsystemâ€ connection ì„ ì¬ì ‘ì† í•œë‹¤. ê·¸ëŸ¬ë‚˜ Client connections ëŠ” ìë™ì ìœ¼ë¡œ ì¬ì ‘ì† ë˜ì§€ ì•ŠëŠ”ë‹¤. heartbeats ì´ í™œì„±í™” ë˜ì–´ ìˆë‹¤ë©´, client ëŠ” ì¼ë°˜ì ìœ¼ë¡œ 10ì´ˆ ì•ˆì— broker ê°€ ì‘ë‹µí•˜ì§€ ì•ŠìŒì„ ì•Œê²Œ ë  ê²ƒì´ë‹¤. Clients ëŠ” ìŠ¤ìŠ¤ë¡œ reconnect logic ì„ êµ¬í˜„í•´ì•¼í•  í•„ìš”ê°€ ìˆë‹¤.</p><h2 id=12-configuration-and-performance>12. Configuration and Performance</h2><p>ì„±ëŠ¥ì— ëŒ€í•œ ì€ì´ì•Œì€ ì—†ë‹¤. ë§ì€ ìš”ì¸ (ë©”ì‹œì§€ size, volume, application ë©”ì†Œë“œê°€ blocking ì„ ìš”í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ì§€ ì—¬ë¶€, network ì†ë„ ê°™ì€ ì™¸ë¶€ìš”ì†Œ ë° ê¸°íƒ€ë“±ë“±) ì´ ì˜í–¥ì„ ë¼ì¹œë‹¤. ì´ section ì˜ ëª©ì ì€ scaling ì— ëŒ€í•œ ìƒê°ê³¼ ë”ë¶ˆì–´ ì´ìš©ê°€ëŠ¥í•œ configuration options ì˜ ê°œìš”ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ë‹¤.</p><p>messaging application ì—ì„  messages ëŠ” thread pool ì— ê¸°ë°˜í•œ ë¹„ë™ê¸° ìˆ˜í–‰ì„ ìœ„í•´ channels ì„ í†µí•´ ì „ë‹¬ëœë‹¤. ì´ëŸ° application ì„ ì„¤ì •í•˜ëŠ” ê²ƒì€ channels ê³¼ messages flow ì— ëŒ€í•œ ì§€ì‹ì´ ìš”êµ¬ëœë‹¤. ê·¸ë˜ì„œ Section 20.4.3, â€œFlow of Messagesâ€ ë¥¼ ë¦¬ë·°í•´ë³´ê¸° ë°”ë€ë‹¤.</p><p>ì‹œì‘í•˜ê¸° ì¢‹ì€ ìœ„ì¹˜ëŠ” â€œclientInboundChannelâ€ ê³¼ â€œclientOutboundChannelâ€ ë¥¼ ì§€ì§€í•˜ëŠ” thread pools ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì´ ë‘˜ì€ ì‚¬ìš©ê°€ëŠ¥í•œ processor ìˆ˜ì˜ 2ë°°ë¡œ ì„¤ì •ëœë‹¤.</p><p>ë§‰ì•½ annotated method ì—ì„œ ë©”ì‹œì§€ ì²˜ë¦¬ê°€ ì£¼ë¡œ CPU ì†Œë¹„ì— ê¸°ì¸í•˜ë©´ â€œclientInboundChannelâ€ ì˜ thread ìˆ˜ëŠ” processor ìˆ˜ì— ê°€ê¹ê²Œ ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤. ë§Œì•½ ì‘ì—…ì´ IO ì†Œë¹„ì— ê¸°ì¸í•˜ê³  database ë‚˜ ë‹¤ë¥¸ external system ì— blocking ì„ ìš”í•œë‹¤ë©´ thread pool size ëŠ” ì¦ê°€ë˜ì–´ì•¼ í•  í•„ìš”ê°€ ìˆë‹¤.</p><p>ThreadPoolExecutor ëŠ” 3 ê°€ì§€ ì¤‘ìš”í•œ property ë¥¼ ê°–ëŠ”ë‹¤. ê·¸ê²ƒì€ core ì™€ max thread pool size ì™€ ì´ìš©ê°€ëŠ¥í•œ thread ê°€ ì—†ì„ ë•Œ ì‘ì—…ì„ ì €ì¥í•˜ê¸° ìœ„í•œ queue capacity ì´ë‹¤.</p><p>ì¼ë°˜ì ì¸ í˜¼ë™ì´ ì˜¤ëŠ” ì§€ì ì€ core pool size (e.g. 10) ì™€ max pool size (e.g. 20) ì„¤ì •ì´ 10 ì—ì„œ 20 threads ë¥¼ ê°€ì§€ëŠ” thread pool ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì´ë‹¤. ì‚¬ì‹¤ capacity ê°€ ê·¸ ê¸°ë³¸ê°’ì¸ Integer.MAX_VALUE ì¸ì±„ë¡œ ë‚¨ê²¨ë‘ë©´ thread pool ì€ ëª¨ë“  ì¶”ê°€ì ì¸ ì‘ì—…ì´ queue ì— ìŒ“ì¼ ê²ƒì´ê¸° ë•Œë¬¸ì— ê²°ì½” core pool size ìœ„ë¡œ ì¦ê°€í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.</p><p>ì´ëŸ¬í•œ properties ë“¤ì´ ì–´ë–»ê²Œ ì‘ìš©í•˜ê³  ë‹¤ì–‘í•œ queuing strategies ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ThreadPoolExecutor ì˜ Javadoc ì„ í™•ì¸í•˜ë¼.</p><p>â€œclientOutboundChannelâ€ ì¸¡ì—ì„œ thread pool ì€ ì˜¨ì „íˆ WebSocket clients ì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ëŠ” ê²ƒê³¼ ê´€ë ¨ìˆë‹¤. ë§Œì•½ clients ê°€ ë¹ ë¥¸ network ì— ìˆë‹¤ë©´ ìŠ¤ë ˆë“œ ìˆ˜ëŠ” ì´ìš©ê°€ëŠ¥í•œ processors ìˆ˜ì— ê°€ê¹ê²Œ ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤. ë§Œì•½ ê·¸ë“¤ì´ ëŠë¦¬ê±°ë‚˜ low bandwidth ìƒì— ìˆë‹¤ë©´ ê·¸ë“¤ì€ ë©”ì‹œì§€ ì†Œë¹„ë¥¼ ìœ„í•´ ë” ì˜¤ë˜ ì ìœ í•  ê²ƒì´ê³  thread pool ì— ë¶€ë‹´ì„ ì¤„ ê²ƒì´ë‹¤. ê·¸ë˜ì„œ thread pool size ì¦ê°€ê°€ í•„ìš”í•  ìˆ˜ë„ ìˆì„ ê²ƒì´ë‹¤.</p><p>â€œclientInboundChannelâ€ ì— ëŒ€í•œ ë¶€í•˜ëŠ” ì˜ˆìƒê°€ëŠ¥í•˜ë‹¤â€‰â€”â€‰ê²°êµ­ ê·¸ê²ƒì€ application ì´ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ì— ê¸°ì¸í•œë‹¤.â€”â€‰â€clientOutboundChannelâ€ ì„ ì–´ë–»ê²Œ ì„¤ì •í•´ì•¼ í•˜ëŠ”ì§€ëŠ” application ì œì–´ë¥¼ ë„˜ì–´ì„œëŠ” ìš”ì¸ì— ê¸°ì¸í•˜ê¸° ë•Œë¬¸ì— ì¢€ë” ì–´ë µë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ ë©”ì‹œì§€ ì „ì†¡ê³¼ ê´€ë ¨í•œ ë‘ê°€ì§€ ì¶”ê°€ì ì¸ properties ê°€ ìˆë‹¤. ê·¸ê²ƒì€ â€œsendTimeLimitâ€ ì™€ â€œsendBufferSizeLimitâ€ ì´ë‹¤. ì´ê²ƒì€ ì–¼ë§ˆë‚˜ ì˜¤ë˜ ê·¸ ì „ì†¡ì´ í—ˆë½ë˜ëŠ”ê°€ì™€ ì–¼ë§ˆë‚˜ ë§ì€ ë°ì´í„°ê°€ client ì— ë©”ì‹œì§€ ì „ì†¡ì‹œ buffer ë˜ëŠ”ì§€ë¥¼ ì„¤ì •í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.</p><p>ì¼ë°˜ì ì¸ ìƒê°ì€ ì–´ë–¤ ì£¼ì–´ì§„ ì‹œê°„ì— ë‹¨ í•˜ë‚˜ì˜ thread ë§Œì´ client ì— ë©”ì‹œì§€ ì „ì†¡ì„ ìœ„í•´ ì‚¬ìš©ë˜ì–´ì ¸ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ëª¨ë“  ì¶”ê°€ì ì¸ ë©”ì‹œì§€ëŠ” ë™ì‹œì— ë²„í¼ë§ ë˜ê³  ì´ëŸ¬í•œ properties ê°€ ì–¼ë§ˆë‚˜ ì˜¤ë˜ ë©”ì‹œì§€ ì „ì†¡ì— ì ìœ ê°€ í—ˆë½ë˜ëŠ”ê°€ì™€ ì–¼ë§ˆë‚˜ ë§ì€ ë°ì´í„°ê°€ ë™ì‹œì— ë²„í¼ë§ ë˜ëŠ”ê°€ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¤‘ìš”í•œ ì¶”ê°€ì ì¸ ì„¸ë¶€ì‚¬í•­ì€ XML schema ì˜ Javadoc ì„ ì°¸ê³ í•˜ë¼.</p><p>ë‹¤ìŒì€ ì„¤ì • ì˜ˆì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocketMessageBroker</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketMessageBrokerConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>configureWebSocketTransport</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebSocketTransportRegistration</span> <span style=color:#000>registration</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registration</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setSendTimeLimit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>15</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#0000cf;font-weight:700>1000</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>setSendBufferSizeLimit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>512</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#0000cf;font-weight:700>1024</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:websocket=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/websocket&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34; 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket/spring-websocket-4.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;websocket:message-broker&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:transport</span> <span style=color:#c4a000>send-timeout=</span><span style=color:#4e9a06>&#34;15000&#34;</span> <span style=color:#c4a000>send-buffer-size=</span><span style=color:#4e9a06>&#34;524288&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>&lt;!-- ... --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/websocket:message-broker&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>ìœ„ì˜ WebSocket ì „ì†¡ ì„¤ì •ì€ ë“¤ì–´ì˜¤ëŠ” STOMP messages ì— í—ˆë½ë˜ëŠ” ìµœëŒ€ ì‚¬ì´ì¦ˆë¥¼ ì„¤ì •í•˜ëŠ”ë° ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ë¹„ë¡ ì´ë¡ ì ìœ¼ë¡œ WebSocket message ê°€ size ì— ì œí•œì´ ì—†ì§€ë§Œ, ì‹¤ì œ WebSocket servers ëŠ” í•œê³„ë¥¼ ë¶€ì—¬í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Tomcat ì—ì„œ 8K ì´ê³  Jetty ì—ì„œ 64K ì´ë‹¤. ì´ëŸ° ì´ìœ ë¡œ stomp.js ê°™ì€ STOMP clients ëŠ” ì»¤ë‹¤ë€ STOMP messages ë¥¼ 16K boundaries ë¡œ ë¶„ë¦¬í•˜ê³  ê·¸ë“¤ì„ ë³µìˆ˜ê°œì˜ WebSocket messages ë¡œ ì „ì†¡í•œ í›„ ì„œë²„ê°€ buffer í•´ì„œ ì¬ì¡°í•©í•˜ë„ë¡ í•œë‹¤.</p><p>Spring ì˜ STOMP over WebSocket ì§€ì›ì€ ì´ê²ƒì„ ìˆ˜í–‰í•œë‹¤. ê·¸ë˜ì„œ applications ì€ STOMP messages ë¥¼ ìœ„í•´ WebSocket server ê³ ìœ ì˜ message sizes ë¥¼ ë¬´ì‹œí•œ ì±„ maximum size ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. WebSocket message size ê°€ ë§Œì•½ ìµœì†Œ 16K WebSocket messages ì „ì†¡ì„ ë³´ì¥í•˜ì—¬ì•¼ í•œë‹¤ë©´ ìë™ì ìœ¼ë¡œ ì¡°ì •ë˜ì–´ì§ˆ ê²ƒì„ ëª…ì‹¬í•˜ë¼.</p><p>ë‹¤ìŒì€ ì„¤ì •ì˜ˆì‹œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocketMessageBroker</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketMessageBrokerConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>configureWebSocketTransport</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebSocketTransportRegistration</span> <span style=color:#000>registration</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registration</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setMessageSizeLimit</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>128</span> <span style=color:#ce5c00;font-weight:700>*</span> <span style=color:#0000cf;font-weight:700>1024</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:websocket=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/websocket&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34; 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket/spring-websocket-4.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;websocket:message-broker&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:transport</span> <span style=color:#c4a000>message-size=</span><span style=color:#4e9a06>&#34;131072&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>&lt;!-- ... --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/websocket:message-broker&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>scaling ì— ëŒ€í•œ ì¤‘ìš”í•œ point ëŠ” ë³µìˆ˜ê°œì˜ application instances ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. í˜„ì¬ simple broker ë¡œëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤. ê·¸ëŸ¬ë‚˜ RabbitMQ ê°™ì€ full-featured broker ë¥¼ ì‚¬ìš©í•  ë•Œ, ê° application instance ëŠ” broker ì— ì—°ê²°í•˜ê³  í•˜ë‚˜ì˜ application instance ë¡œë¶€í„°ì˜ messages broadcast ëŠ” ì–´ë–¤ ë‹¤ë¥¸ application instances ë¥¼ í†µí•´ ì—°ê²°ëœ WebSocket clients ì— ê·¸ broker ë¥¼ í†µí•´ broadcast í•  ìˆ˜ ìˆë‹¤.</p><h2 id=13-testing-annotated-controller-methods>13. Testing Annotated Controller Methods</h2><p>Spring ì˜ STOMP over WebSocket ì§€ì›ì— 2ê°€ì§€ ì£¼ìš”í•œ ì ‘ê·¼ì´ ìˆë‹¤. ì²«ë²ˆì§¸ëŠ” controller ì˜ ê¸°ëŠ¥ê³¼ annotated message handling method ì˜ ê¸°ëŠ¥ì„ ê²€ì¦í•˜ëŠ” server-side tests ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ë‹¤. ë‘ë²ˆì§¸ëŠ” client ì™€ server êµ¬ë™ê³¼ ê´€ë ¨í•œ ì „ì²´ end-to-end tests ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ë‹¤.</p><p>2 ê°€ì§€ ì ‘ê·¼ì€ ìƒí˜¸ ë³´ì™„ì ì´ì§€ ì•Šë‹¤. ê·¸ì™€ëŠ” ë°˜ëŒ€ë¡œ ì „ì²´ test ì „ëµì— ê°ê° ìœ„ì¹˜í•œë‹¤. Server-side tests ëŠ” ì¢€ë” ì§‘ì¤‘ë˜ê³  ì‘ì„±í•˜ê³  ìœ ì§€í•˜ê¸°ê°€ ì‰½ë‹¤. ë°˜ë©´ì— End-to-end integration tests ëŠ” ì¢€ ë” ì™„ë²½í•˜ê³  í…ŒìŠ¤íŠ¸ê°€ ë” ë§ì§€ë§Œ ê·¸ê²ƒë“¤ì€ ì‘ì„±ê³¼ ìœ ì§€ì— ë” ë§ì´ ê´€ë ¨ë˜ì–´ ì§„ë‹¤.</p><p>ê°€ì¥ ë‹¨ìˆœí•œ server-side tests ëŠ” controller unit tests ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ¬ë‚˜ ì´ê²ƒì€ ì¶©ë¶„íˆ ìœ ìš©í•˜ì§€ ì•Šë‹¤. ì™œëƒí•˜ë©´ controller ì˜ ë§ì€ ë¶€ë¶„ì´ annotations ì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ìˆœìˆ˜í•œ unit tests ëŠ” ê·¸ê²ƒì„ í…ŒìŠ¤íŠ¸í•˜ì§€ ëª»í•œë‹¤.</p><p>ì´ìƒì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í•˜ì˜ controllers ëŠ” ë§ˆì¹˜ SpringMVC Test framework ì—ì„œ HTTP ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” controller ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì ‘ê·¼ê°™ì´ runtime ì—ì„œ ì²˜ëŸ¼ í˜¸ì¶œë˜ì–´ì•¼ í•œë‹¤. ì¦‰ êµ¬ë™ì¤‘ì¸ Servlet container ì—†ì´ Spring Framework ê°€ annotated controllers ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤. Spring MVC Test ì™€ ê°™ì´ 2ê°€ì§€ ê°€ëŠ¥í•œ ëŒ€ì•ˆì´ ìˆë‹¤. ê·¸ê²ƒì€ â€œcontext-basedâ€ ë‚˜ â€œstandaloneâ€ setup ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.</p><p>Spring TestContext framework ì˜ ë„ì›€ìœ¼ë¡œ ì‹¤ì œ Spring configuration ë¡œë“œí•˜ê³  â€œclientInboundChannelâ€ ë¥¼ í…ŒìŠ¤íŠ¸ field ë¡œ ì£¼ì…ë°›ì•„ì„œ, ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•œë‹¤. ìˆ˜ë™ì ìœ¼ë¡œ controllers ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ í•„ìš”í•œ ìµœì†Œí•œì˜ Spring framework infrastructure ë¥¼ ì„¤ì •í•œë‹¤. (SimpAnnotationMethodMessageHandler) ê·¸ë¦¬ê³  ë©”ì‹œì§€ë¥¼ controller ì— ì§ì ‘ ì „ë‹¬í•œë‹¤. ì´ ë‘ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ëŠ” tests for the stock portfolio sample application ì—ì„œ ì‹œì—°ë˜ê³  ìˆë‹¤.</p><p>ë‘ë²ˆì§¸ ì ‘ê·¼ì€ end-to-end integration tests ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ìœ„í•´ WebSocket server ë¥¼ embedded mode ë¡œ êµ¬ë™í•  í•„ìš”ê°€ ìˆê³  STOMP frame ì„ í¬í•¨í•˜ëŠ” ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ëŠ” WebSocket client ë¡œì„œ ì„œë²„ì— ì ‘ì†í•œë‹¤. stock portfolio sample application ì— ëŒ€í•œ test ëŠ” embedded WebSocket ì„œë²„ë¡œì„œ Tomcat ì„ ì‚¬ìš©í•˜ê³  test ëª©ì ì˜ ê°„ë‹¨í•œ STOMP client ë¥¼ ì‚¬ìš©í•˜ëŠ” ì ‘ê·¼ì„ ë³´ì—¬ì¤€ë‹¤.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-43e62e63dc735ca18e8286a5e96a43cf>28 - SockJS Fallback Options</h1><div class=lead>Springì€ WebSocketì´ ì§€ì›ë˜ì§€ ì•ŠëŠ” í™˜ê²½ì—ì„œ SockJS í”„ë¡œí† ì½œì„ ì‚¬ìš©í•´ WebSocket APIë¥¼ ì—ë®¬ë ˆì´ì…˜í•˜ëŠ” fallback ì˜µì…˜ì„ ì œê³µí•œë‹¤.</div><h1 id=sockjs-fallback-options>SockJS Fallback Options</h1><p><a href=http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-fallback>http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-fallback</a></p><p>WebSocket ì´ ì•„ì§ê¹Œì§€ ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›ë˜ì§€ ì•Šê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ í”„ë½ì‹œ ì œì•½ë“±ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì´ì— Spring ì€ fallback ì˜µì…˜ì„ ì œê³µí•˜ëŠ”ë° ì´ëŠ” SockJS protocol ì— ê¸°ë°˜ìœ¼ë¡œ WebSocket API ë¥¼ emulate í•œë‹¤.</p><h2 id=1-sockjs-ê°œìš”>1. SockJS ê°œìš”</h2><p>SockJS ëŠ” application ìœ¼ë¡œ í•˜ì—¬ê¸ˆ WebSocket API ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ìˆë‹¤. ë§Œì•½ WebSocket ì‚¬ìš©ì´ ë¶ˆê°€í•œ ê²½ìš°ì—ë„ ì´ë¥¼ fallback option ìœ¼ë¡œ ì œê³µí•˜ì—¬ ì–´ë– í•œ ì½”ë“œ ë³€í™”ì—†ì´ WebSocket API ë¥¼ ì‚¬ìš©í† ë¡ í•œë‹¤.</p><h3 id=sockjs-êµ¬ì„±>SockJS êµ¬ì„±</h3><ul><li><a href=https://github.com/sockjs/sockjs-protocol>SockJS protocol</a></li><li><a href=https://github.com/sockjs/sockjs-client>SockJS client</a> - javascript library</li><li>SockJS ì„œë²„ êµ¬í˜„ - spring-websocket ëª¨ë“ˆì„ í†µí•´ ì œê³µ</li></ul><p>SockJS ëŠ” ì—¬ëŸ¬ê°€ì§€ í…Œí¬ë‹‰ì„ ì´ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ë¸Œë¼ìš°ì € ë° ë¸Œë¼ìš°ì € ë²„ì „ì„ ì§€ì›í•œë‹¤. ì „ì†¡ íƒ€ì…ì€ ë‹¤ìŒì˜ 3ê°€ì§€ë¡œ ë¶„ë¥˜ëœë‹¤.
<strong>WebSocket, HTTP Streaming, HTTP Long Polling</strong>. ì´ë“¤ ê°ê°ì„ ì‚´í´ë³´ë ¤ë©´ ì—¬ê¸° ë¥¼ ì°¸ì¡°í•œë‹¤.</p><p>SockJS client ëŠ” ì„œë²„ì˜ ê¸°ë³¸ ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ì„œ â€œGET /infoâ€ ë¥¼ í˜¸ì¶œí•œë‹¤. ê·¸ ì´í›„ì— SockJS ëŠ” ì–´ë–¤ ì „ì†¡ íƒ€ì…ì„ ì‚¬ìš©í• ì§€ë¥¼ ê²°ì •í•œë‹¤. WebSocket ì€ ìµœìš°ì„ ì±…ì´ë©°, ì´í›„ë¡œ HTTP Streaming > HTTP (long) polling ì´ ì‚¬ìš©ëœë‹¤.</p><p>ëª¨ë“  ì „ì†¡ ìš”ì²­ì€ ë‹¤ìŒì˜ URL êµ¬ì¡°ë¥¼ ê°–ëŠ”ë‹¤.</p><p><code>http://host:port/myApp/myEndpoint/{server-id}/{session-id}/{transport}</code></p><ul><li>{server-id} - í´ëŸ¬ìŠ¤í„°ì—ì„œ ìš”ì²­ì„ routing í•˜ëŠ”ë° ì‚¬ìš©í•˜ë‚˜ ì´ì™¸ì—ëŠ” ì˜ë¯¸ê°€ ì—†ë‹¤.</li><li>{session-id} - SockJS session ì— ì†Œì†í•˜ëŠ” HTTP ìš”ì²­ê³¼ ì—°ê´€ì„±ì´ ìˆë‹¤.</li><li>{transport} - ì „ì†¡íƒ€ì… ex> websocket, xhr-streaming, ê¸°íƒ€ ë“±ë“±</li></ul><p>WebSocket ì „ì†¡ì€ WebSocket handshaking ì„ ìœ„í•œ ì˜¤ì§ í•˜ë‚˜ì˜ HTTP ìš”ì²­ì„ í•„ìš”ë¡œ í•œë‹¤. ëª¨ë“  ë©”ì‹œì§€ë“¤ì€ ê·¸ ì´í›„ì— ì‚¬ìš©í–ˆë˜ socket ì„ í†µí•´ êµí™˜ëœë‹¤.</p><p>HTTP ì „ì†¡ì€ ì¢€ ë” ë§ì€ ìš”ì²­ì„ í•„ìš”ë¡œ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Ajax/XHR streaming ì€ server ì—ì„œ client ë¡œì˜ ë©”ì‹œì§€ë¥¼ ìœ„í•´ í•˜ë‚˜ì˜ long-running ìš”ì²­ì´ ìˆê³  ì¶”ê°€ì ì¸ HTTP POST ìš”ì²­ì€ client ì—ì„œ server ë¡œì˜ ë©”ì‹œì§€ë¥¼ ìœ„í•´ ì‚¬ìš©ëœë‹¤. Long polling ì€ server ê°€ client ë¡œì˜ ì‘ë‹µ í›„ì— í˜„ì¬ì˜ ìš”ì²­ì„ ëë‚´ëŠ” ê²ƒì„ ì œì™¸í•˜ê³ ëŠ” XHR streaming ê³¼ ìœ ì‚¬í•˜ë‹¤.</p><p>SockJS ëŠ” ìµœì†Œí•œì˜ message framing ì„ ì¶”ê°€í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ server ëŠ” â€œoâ€ (open frame) ë¥¼ ì´ˆê¸°ì— ì „ì†¡í•˜ê³ , ë©”ì‹œì§€ëŠ” <code>[â€œmessage1â€,â€message2â€]</code> ì™€ ê°™ì€ JSON-encoded ë°°ì—´ë¡œì„œ ì „ë‹¬ë˜ë©°, ë¬¸ì â€œhâ€ (hearbeat frame) ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 25ì´ˆê°„ ë©”ì‹œì§€ íë¦„ì´ ì—†ëŠ” ê²½ìš°ì— ì „ì†¡í•˜ê³  â€œcâ€ (close frame) ëŠ” í•´ë‹¹ ì„¸ì…˜ì„ ì¢…ë£Œí•œë‹¤.</p><p>ì´ì— ëŒ€í•œ ìì„¸í•œ ì´í•´ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. SockJS ëŠ” debug flag ë¥¼ ì œê³µí•˜ê³ , ì „ì†¡íƒ€ì…ì„ ê³ ì •í•˜ì—¬ ê°ê°ì— ëŒ€í•´ì„œ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤. ì„œë²„ëŠ” â€œorg.springframework.web.socketâ€ ì— TRACE ë¡œê¹…ì„ í™œì„±í™” í•˜ì—¬ ë¡œê·¸ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.</p><h2 id=2-sockjs-í™œì„±í™”>2. SockJS í™œì„±í™”</h2><p>SockJS ëŠ” ì„¤ì •ì„ í†µí•´ ì‰½ê²Œ í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocket</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerWebSocketHandlers</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>WebSocketHandlerRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addHandler</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>myHandler</span><span style=color:#ce5c00;font-weight:700>(),</span> <span style=color:#4e9a06>&#34;/myHandler&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>withSockJS</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>WebSocketHandler</span> <span style=color:#000>myHandler</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>MyHandler</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xmlns:websocket=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/websocket&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34; 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        http://www.springframework.org/schema/websocket/spring-websocket-4.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;websocket:handlers&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:mapping</span> <span style=color:#c4a000>path=</span><span style=color:#4e9a06>&#34;/myHandler&#34;</span> <span style=color:#c4a000>handler=</span><span style=color:#4e9a06>&#34;myHandler&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;websocket:sockjs/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/websocket:handlers&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;myHandler&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.samples.MyHandler&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><p>ìœ„ì˜ ì„¤ì •ì€ Spring MVC ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê²ƒìœ¼ë¡œ DispatcherServlet ì„¤ì •ì— í¬í•¨ë˜ì–´ì ¸ì•¼ í•œë‹¤. (application context ë¥¼ ê³„ì¸µì ìœ¼ë¡œ ê°€ì ¸ê°ˆ ê²½ìš°) ê·¸ëŸ¬ë‚˜ Spring WebSocket ì´ SpringMVC ì´ì™¸ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì œê³µë˜ë“¯, SockJS ë„ ê·¸ëŸ¬í•˜ë‹¤. ì´ëŠ” <a href=http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/socket/sockjs/support/SockJsHttpRequestHandler.html>SockJsHttpRequestHandler</a> ë¥¼ í†µí•´ì„œ ì œê³µëœë‹¤.</p><p>browser (í´ë¼ì´ì–¸íŠ¸) ì¸¡ì—ì„œëŠ” W3C WebSocket API ë¥¼ emulate í•˜ëŠ” <a href=https://github.com/sockjs/sockjs-client>sockjs-client</a> ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë²„ì™€ í†µì‹ í•˜ì—¬ ìµœì ì˜ ì „ì†¡íƒ€ì…ì„ ì„ íƒí•œë‹¤. ì´ ì™¸ì—ë„ í¬í•¨í•  ì „ì†¡íƒ€ì…ì„ ì§€ì •í•˜ëŠ” ëª‡ê°€ì§€ ì„¤ì •ì„ ì œê³µí•œë‹¤.</p><h2 id=3-ie-8-9-ì—ì„œì˜-http-streaming-ajaxxhr-vs-iframe>3. IE 8, 9 ì—ì„œì˜ HTTP Streaming (Ajax/XHR vs IFrame)</h2><p>IE 8/9 ëŠ” ëŒ€ì¤‘ì ìœ¼ë¡œ ì‚¬ìš©ë˜ê³  ìˆë‹¤. ì´ê²ƒì€ SockJS ê°€ í•„ìš”í•œ í•µì‹¬ì ì¸ ì´ìœ ì´ë‹¤.</p><p>SockJS ëŠ” Ajax/XHR Streaming ì„ Microsoft ì˜ <a href=http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx>XDomainRequest</a> ë¥¼ í†µí•´ ì§€ì›í•˜ê³  ìˆë‹¤. ì´ê²ƒì€ ì„œë¡œ ë‹¤ë¥¸ ë„ë©”ì¸ ê°„ì—ë„ ë™ì‘í•˜ì§€ë§Œ cookie ì „ì†¡ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. Cookie ëŠ” Java Application ì—ì„œ ë§¤ìš° í•„ìˆ˜ì ì´ë‹¤. ê·¸ëŸ¬ë‚˜ SockJS í´ë¼ì´ì–¸íŠ¸ëŠ” Java ë§Œì„ ìœ„í•œ ê²ƒì´ ì•„ë‹Œ ë§ì€ ì„œë²„ íƒ€ì…ì„ ìœ„í•´ ì‚¬ìš©ë˜ë„ë¡ ê³ ì•ˆë˜ì—ˆê¸° ë•Œë¬¸ì— Cookie ë¥¼ ì¤‘ìš”í•˜ê²Œ ë‹¤ë£°ì§€ ì—¬ë¶€ë¥¼ ì•Œë ¤ì£¼ì–´ì•¼ í•œë‹¤. SockJS í´ë¼ì´ì–¸íŠ¸ëŠ” Ajax/XHR Streaming ì„ ì„ íƒí•˜ê±°ë‚˜ ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ iframe ê¸°ë°˜ì˜ technique ì„ ì‚¬ìš©í•œë‹¤.</p><p>SockJS í´ë¼ì´ì–¸íŠ¸ë¡œ ë¶€í„°ì˜ ìµœì´ˆ ìš”ì²­ì¸ &lsquo;/info&rsquo; ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì „ì†¡ íƒ€ì… ì„ íƒì„ ìœ„í•œ ì •ë³´ë¥¼ ìœ„í•œ ìš”ì²­ì´ë‹¤. ìƒì„¸í•œ ë‚´ìš© ì¤‘ í•˜ë‚˜ëŠ” ì„œë²„ application ì´ cookie ì— ì˜ì¡´ (authentication ëª©ì ì´ë‚˜ session clustering with stick mode ë“±) í•˜ëŠ”ì§€ ì—¬ë¶€ì´ë‹¤. Spring ì˜ SockJS ì§€ì›ì€ sessionCookieNeeded ë¼ëŠ” ì†ì„±ì„ í¬í•¨í•œë‹¤. ì´ê²ƒì€ Java application ì´ JSESSIONID cookie ì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™” ëœë‹¤. ë§Œì•½ ì´ ê¸°ëŠ¥ì„ OFF í•œë‹¤ë©´ ë¹„ë¡œì„œ SockJS í´ë¼ì´ì–¸íŠ¸ëŠ” xdr-streaming ì„ IE 8/9 ì—ì„œ ì‚¬ìš©í† ë¡ ì„ íƒë˜ì–´ ì§„ë‹¤.</p><p>iframe ê¸°ë°˜ì˜ ì „ì†¡ì„ ì‚¬ìš©í•œë‹¤ë©´ browser ê°€ HTTP ì‘ë‹µí—¤ë”ì¸ X-Frame-Option ì´ DENY, SAMEORIGIN, ALLOW-FROM <code>&lt;origin></code> ë¡œ ì„¤ì •ë¨ì— ë”°ë¼ iframe ì‚¬ìš©ì„ ë¸”ë½ì‹œí‚¬ìˆ˜ ìˆìŒì„ ì—¼ë‘ì— ë‘ì–´ì•¼ í•œë‹¤. ì´ëŸ¬í•œ í—¤ë”ëŠ” clickjacking ì´ë¼ ì•Œë ¤ì§„ ê³µê²©ì„ ë°©ì–´í•˜ê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤.</p><p>Spring Security 3.2+ ì—ì„œ X-Frame-Options í—¤ë”ë¥¼ ëª¨ë“  ì‘ë‹µì— ì„¤ì •í•˜ë„ë¡ ì§€ì›í•˜ê³  ìˆë‹¤. ì¦‰ Spring Security Java Config ì—ì„œ ì´ ê°’ì„ DENY ë¡œ ê¸°ë³¸ì„¤ì •í•œë‹¤. Spring Security XML ì„¤ì •ì—ì„œëŠ” ì´ í—¤ë”ë¥¼ ì„¤ì •í•˜ì§€ ì•Šì§€ë§Œ ì°¨í›„ì— ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë  ì—¬ì§€ê°€ ìˆë‹¤.</p><p>Spring Security ì˜ Section 7.1. Default Security Headers ì—ì„œ X-Frame-Options í—¤ë” ì„¤ì •ì— ëŒ€í•œ ìƒì„¸ ë¬¸ì„œë¥¼ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤. ì´ì— ëŒ€í•œ ì¶”ê°€ì ì¸ ë°°ê²½ì„ ë³´ê³ ì í•œë‹¤ë©´ <a href=https://jira.spring.io/browse/SEC-2501>SEC-2501</a> ì„ ì‚´í´ë³¸ë‹¤.</p><p>X-Frame-Option ì‘ë‹µí—¤ë”ë¥¼ ì¶”ê°€í•œë‹¤ë©´ (Spring Security ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ê·¸ë ‡ê²Œ ëœë‹¤.) í—¤ë” ê°’ì„ SAMEORIGIN ì´ë‚˜ ALLOW-FROM <code>&lt;origin></code> ìœ¼ë¡œ ì„¤ì •í•  í•„ìš”ê°€ ìˆë‹¤. ì´ì™€ ë”ë¶ˆì–´ Spring SockJS ì§€ì›ì€ SockJS í´ë¼ì´ì–¸íŠ¸ì˜ location ì„ ì•Œì•„ì•¼ í•  í•„ìš”ê°€ ìˆë‹¤. ì™œëƒí•˜ë©´ client ê°€ iframe ìƒì—ì„œ ë¡œë“œë  ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ iframe ì€ SockJS í´ë¼ì´ì–¸íŠ¸ (sockJS.js) ë¥¼ CDN location ìœ¼ë¡œë¶€í„° ë‹¤ìš´ë˜ë„ë¡ ì„¤ì •ë˜ì–´ ìˆë‹¤. ì´ë¥¼ same origin ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤.</p><p>Java Config ì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. XML ì—ì„œëŠ” <code>&lt;websocket:sockjs></code> ì—ì„œ ì„¤ì •í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebSocket</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>WebSocketConfig</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>WebSocketConfigurer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>registerStompEndpoints</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>StompEndpointRegistry</span> <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>registry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEndpoint</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/portfolio&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>withSockJS</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setClientLibraryUrl</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://localhost:8080/myapp/js/sockjs-client.js&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>ì´ˆê¸° ê°œë°œì¤‘ì—ëŠ” SockJS client devel mode ë¥¼ í™œì„±í™” í•˜ë¼. ì´ëŠ” SockJS request (iframe ê°™ì€) ë¥¼ ë¸Œë¼ìš°ì €ê°€ ìºì‹œí•˜ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤. ì´ì— ëŒ€í•œ ë°©ë²•ì€ <a href=https://github.com/sockjs/sockjs-client>SockJS client</a> page ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><h2 id=4-heartbeat-messages>4. Heartbeat Messages</h2><p>SockJS í”„ë¡œí† ì½œì€ server ê°€ hearbeat message ë¥¼ ì „ì†¡í•˜ë„ë¡ í•˜ì—¬ proxies ê°€ connection ì„ hung ìœ¼ë¡œ ì¸ì‹í•˜ì§€ ëª»í•˜ë„ë¡ í•  í•„ìš”ê°€ ìˆë‹¤. Spring SockJS ì„¤ì •ì€ heartbeatTime ì†ì„±ì„ ê°€ì§€ëŠ”ë° ë¹ˆë„ë¥¼ ì¡°ì •í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤. ê¸°ë³¸ê°’ì€ í•´ë‹¹ ì»¤ë„¥ì…˜ì— ì–´ë–¤ ë©”ì‹œì§€ë„ ì—†ëŠ” 25ì´ˆë¥¼ ì‚¬ìš©í•œë‹¤. ì´ 25ì´ˆëŠ” <a href=http://tools.ietf.org/html/rfc6202>IETF ê¶Œê³ ì•ˆ</a> ì„ ë”°ë¥´ê³  ìˆë‹¤.</p><p>STOMP over WebSocket/SockJS ë¥¼ ì‚¬ìš©í•  ë•Œ ë§Œì•½ STOMP í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ heartbeat êµí™˜ì— í•©ì˜í•œë‹¤ë©´ SockJS heartbeat ì€ ë¹„í™œì„±í™” ëœë‹¤.</p><p>Spring SockJS ì§€ì›ì€ heartbeat ì‘ì—…ì„ ìŠ¤ì¼€ì¤„ë§í•˜ê¸° ìœ„í•´ TaskScheduler ë¥¼ ì„¤ì •í•˜ë„ë¡ í•˜ê³  ìˆë‹¤. TaskScheduler ëŠ” ì´ìš©ê°€ëŠ¥í•œ processor ì˜ ìˆ˜ì— ë”°ë¥¸ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ëœ thread pool ë¡œë¶€í„° ê°€ì ¸ì˜¤ëŠ”ë° ì´ëŠ” íŠ¹ì •í•œ ìš”êµ¬ì— ì í•©í•œ ê°’ì„ ì„¤ì •í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.</p><h2 id=5-servlet-3-async-requests>5. Servlet 3 Async Requests</h2><p>HTTP streaming ê³¼ HTTP long polling SockJS ì „ì†¡ì€ ì»¤ë„¥ì…˜ì„ ë³´í†µì˜ ê²½ìš°ë³´ë‹¤ ì˜¤ë˜ open ë˜ë„ë¡ í•œë‹¤. ì´ê²ƒì— ëŒ€í•œ ê°œìš”ëŠ” <a href=https://spring.io/blog/2012/05/08/spring-mvc-3-2-preview-techniques-for-real-time-updates/>ë‹¤ìŒ</a> ì—ì„œ í™•ì¸í•œë‹¤.</p><p>Servlet Container ì—ì„œ ì´ê²ƒì€ Servlet 3 async ì§€ì›ì„ í†µí•´ ìˆ˜í–‰ë˜ëŠ”ë° ì´ê²ƒì€ ìš”ì²­ì„ ì²˜ë¦¬ì¤‘ì¸ Servlet ìŠ¤ë ˆë“œë¥¼ ë¹ ì ¸ë‚˜ì˜¤ê³  ë‹¤ë¥¸ Servlet ìŠ¤ë ˆë“œì—ì„œ ì‘ë‹µì„ ê¸°ë¡í•˜ë„ë¡ í•œë‹¤.</p><p>Servlet API ê°€ ê°€ì§€ëŠ” íŠ¹ì • ì´ìŠˆê°€ ìˆëŠ”ë° ê·¸ê²ƒì€ í´ë¼ì´ì–¸íŠ¸ì˜ ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì‚¬ë¼ì§ì— ì–´ë– í•œ ì•Œë¦¼ë„ ì œê³µí•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤. ( <a href=https://java.net/jira/browse/SERVLET_SPEC-44>SERVLET_SPEC-44</a> ì°¸ê³ ) ê·¸ëŸ¬ë‚˜ Servlet container ëŠ” ì‘ë‹µì„ write í•˜ê¸° ìœ„í•œ ì´ì–´ì§€ëŠ” ì‹œë„ì— ì˜ˆì™¸ë¥¼ ë°œìƒí•œë‹¤. Spring SockJS ì§€ì›ì€ ê¸°ë³¸ 25ì´ˆ ê°„ê²©ì˜ heartbeat message ë¥¼ ì „ì†¡í•˜ë¯€ë¡œ ì´ë¥¼ í†µí•´ ë³´í†µ client disconnect ëŠ” ì£¼ê¸° ì•ˆì— ë°œê²¬ë˜ì–´ ì§„ë‹¤. (ì£¼ê¸°ë¥¼ ì§§ê²Œ í•˜ë©´ ë” ë¹¨ë¦¬ ì•Œê²Œë¨)</p><p>ê²°ë¡ ì ìœ¼ë¡œ, Network IO failure ì€ client disconnect ì— ëŒ€í•´ì„œ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•  ì—¬ì§€ê°€ ìˆë‹¤. ì´ê²ƒì€ ë¡œê·¸ë¥¼ stack trace ë¡œ ì±„ìš°ê²Œ ë  ìˆ˜ë„ ìˆë‹¤. Spring ì€ ì´ëŸ¬í•œ client disconnect ë¥¼ ì‹ë³„í•˜ê¸°ìœ„í•´ ìµœì„ ì˜ ë…¸ë ¥ì„ í•˜ê³  ì´ì— ë”°ë¥¸ ìµœì†Œí•œì˜ ë©”ì‹œì§€ë¥¼ ê¸°ë¡í•˜ë ¤ê³  ë…¸ë ¥í•œë‹¤. (ì´ ë¡œê·¸ëŠ” AbstractSockJsSession ì— ì •ì˜ëœ DISCONNECTED_CLIENT_LOG_CATEGORY ë¡œê·¸ ì¹´í…Œê³ ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤. ë§Œì•½ stack trace ë¥¼ ë³´ê³ ì í•œë‹¤ë©´ í•´ë‹¹ ë¡œê·¸ ì¹´í…Œê³ ë¦¬ë¥¼ TRACE ë¡œ ì„¤ì •í•˜ë¼)</p><h2 id=6-cors-headers-for-sockjs>6. CORS Headers for SockJS</h2><p>SockJS protocol ì€ XHR streaming ê³¼ polling ì „ì†¡ì— cross-domain ì§€ì›ì„ ìœ„í•œ CORS í—¤ë”ë¥¼ ì‚¬ìš©í•œë‹¤. ê·¸ë˜ì„œ CORS í—¤ë”ê°€ ì‘ë‹µì—ì„œ ë°œê²¬ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ CORS í—¤ë”ë“¤ì´ ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤. ë§Œì•½ Servlet Filter ë“±ì„ í†µí•´ì„œ CORS í—¤ë”ê°€ ì´ë¯¸ ì„¤ì •ëœë‹¤ë©´ Spring SockJsService ëŠ” ì´ë¥¼ ìŠ¤í‚µí•œë‹¤.</p><p>ë‹¤ìŒì€ SockJS ì— ì˜í•´ ê¸°ëŒ€ë˜ëŠ” header ì™€ ê°’ë“¤ì´ë‹¤.</p><ul><li>â€œAccess-Control-Allow-Originâ€ - intitialized from the value of the â€œoriginâ€ request header or â€œ*â€.</li><li>â€œAccess-Control-Allow-Credentialsâ€ - always set to true.</li><li>â€œAccess-Control-Request-Headersâ€ - initialized from values from the equivalent request header.</li><li>â€œAccess-Control-Allow-Methodsâ€ - the HTTP methods a transport supports (see TransportType enum).</li><li>â€œAccess-Control-Max-Ageâ€ - set to 31536000 (1 year).</li></ul><p>ì •í™•í•œ êµ¬í˜„ì„ ë³´ê³ ì í•œë‹¤ë©´ AbstractSockJsService.addCorsHeaders() ì™€ TransportType enum ì„ ì†ŒìŠ¤ì—ì„œ ì‚´í´ë³´ë¼.</p><p>ëŒ€ì•ˆìœ¼ë¡œì„œ CORS ì„¤ì •ì€ SockJS endpoint prefix ë¥¼ ì œì™¸ URL ëª©ë¡ìœ¼ë¡œ ê³ ë ¤í•œë‹¤ë©´, Spring SockJsService ê°€ ê·¸ê²ƒì„ ì²˜ë¦¬í† ë¡ í•œë‹¤.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-86ef8b41b494dd5887eb46c6b99cc161>29 - UI - bootstrap</h1><div class=lead>Bootstrapì€ ë°˜ì‘í˜• ì›¹ ë””ìì¸ì„ ì‰½ê²Œ êµ¬í˜„í•˜ê¸° ìœ„í•œ í”„ë¡ íŠ¸ì—”ë“œ í”„ë ˆì„ì›Œí¬ë¡œ, ë‹¤ì–‘í•œ CSS, JavaScript ì»´í¬ë„ŒíŠ¸ì™€ UI í…œí”Œë¦¿ì„ ì œê³µí•˜ì—¬ ë¹ ë¥´ê²Œ ì›¹ì‚¬ì´íŠ¸ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ, ë‹¤ì–‘í•œ UI ì»´í¬ë„ŒíŠ¸, ëª¨ë‹¬ê³¼ ê°™ì€ ë™ì  ê¸°ëŠ¥ë“¤ì„ ì§€ì›í•˜ë©°, ëª¨ë°”ì¼ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ê³„ë˜ì–´ ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ì—ì„œ ìµœì í™”ëœ í™”ë©´ì„ ì œê³µí•œë‹¤.</div><h1 id=ui---bootstrap>UI - bootstrap</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©(Bootstrap)ì€ ì›¹ë””ìì¸ì„ ì‰½ê²Œ í•˜ê¸° ìœ„í•´ íŠ¸ìœ„í„°ì—ì„œ ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ê³µê°œí•œ í”„ëŸ°íŠ¸ ì—”ë“œ í”„ë ˆì„ì›Œí¬ë¡œ, ìœ ì—°í•œ HTML, CSS, JavaScript í…œí”Œë¦¿ê³¼ UIì»´í¬ë„ŒíŠ¸, ì¸í„°ë ‰ì…˜ì„ ì œê³µí•˜ì—¬ ì† ì‰½ê²Œ ì›¹ ì‚¬ì´íŠ¸ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” ì‹œì‘ì ì´ ëœë‹¤.</p><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ ì¥ì ì€ í¬ê²Œ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>ë¶€íŠ¸ìŠ¤íŠ¸ë© 3 ì´í›„ë¶€í„° ëª¨ë°”ì¼ ì¤‘ì‹¬ì˜ í”„ë ˆì„ì›Œí¬ì´ë‹¤</li><li>ë‹¤ì–‘í•œ ë¸Œë¼ìš°ì €ë“¤ì„ ì§€ì›í•œë‹¤.</li><li>ë°˜ì‘í˜• ì›¹ì— ìµœì í™” ë˜ì–´ìˆë‹¤. ë¶€íŠ¸ìŠ¤íŠ¸ë©ì€ ìŠ¤ë§ˆíŠ¸í°, íƒœë¸”ë¦¿, ë°ìŠ¤í¬íƒ‘ì— ìµœì í™” ë˜ì–´ cssê°€ ì¡°ì •ì´ ëœë‹¤.</li><li>ì‹œì‘ì´ ìš©ì´í•˜ë‹¤. HTML, CSSë§Œ ì•Œê³  ìˆì–´ë„ ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.</li></ul><p>ì´ëŸ¬í•œ ì¥ì ë“¤ë¡œ ì¸í•´ í‘œì¤€í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” ì‹¤í–‰í™˜ê²½ UIë¡œ bootstrapì„ ì„ ì •í•˜ì˜€ë‹¤.</p><p>ë³¸ ê°€ì´ë“œì—ì„œëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ ê¸°ë³¸ì ì¸ ì†Œê°œì™€ ëª‡ ê°€ì§€ì˜ ì˜ˆì œë¥¼ ì œê³µí•œë‹¤.</p><p>ìì„¸í•œ ë‚´ìš©ì€ ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‚¬ì´íŠ¸ì˜ <a href=http://getbootstrap.com/>ê°€ì´ë“œ</a>ë‚˜ w3schoolsì˜ <a href=http://www.w3schools.com/bootstrap/bootstrap_get_started.asp>íŠœí† ë¦¬ì–¼</a>ì„ ì°¸ì¡°í•˜ë„ë¡ í•œë‹¤.</p><h2 id=ì‹œì‘í•˜ê¸°>ì‹œì‘í•˜ê¸°</h2><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë© ê´€ë ¨ CSSì™€ JavaScriptë¥¼ ì¶”ê°€í•´ ì£¼ì–´ì•¼ í•œë‹¤. ì¶”ê°€í•˜ëŠ” ë°©ë²•ì€ ë‘ê°€ì§€ë¡œ ë¶€íŠ¸ìŠ¤íŠ¸ë©ì„ ë‹¤ìš´ë¡œë“œ í•˜ì—¬ ì‚¬ìš©í•˜ê±°ë‚˜, ë‹¤ìš´ë¡œë“œ í•˜ì§€ ì•Šì„ ê²½ìš° CDN ë§í¬ë¥¼ ì¶”ê°€í•˜ì—¬ ì‚¬ìš© í•œë‹¤.</p><p>â€» ì£¼ì˜ì‚¬í•­ : ë¶€íŠ¸ìŠ¤íŠ¸ë©ì„ ì‚¬ìš©í•˜ë ¤ë©´ <strong>jQuery</strong>ê°€ í•„ìš”í•˜ë¯€ë¡œ ë°˜ë“œì‹œ ë³„ë„ë¡œ ì¶”ê°€í•˜ì—¬ ì£¼ì–´ì•¼ í•œë‹¤.</p><ul><li>ë‹¤ìš´ë¡œë“œ<ul><li><a href=http://getbootstrap.com/getting-started/#download>ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‚¬ì´íŠ¸</a>ì˜ ë©”ë‰´ ì¤‘ ì‹œì‘í•˜ê¸° > ë‹¤ìš´ë¡œë“œ í•­ëª©ì—ì„œ ì›í•˜ëŠ” ì¢…ë¥˜ì˜ ë‹¤ìš´ë¡œë“œë¥¼ ì§„í–‰í•œë‹¤.</li><li>ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‚¬ì´íŠ¸ì—ì„œëŠ” ì—¬ëŸ¬ê°€ì§€ ë‹¤ìš´ë¡œë“œë¥¼ ì œê³µí•˜ëŠ”ë°, ë³¸ ê°€ì´ë“œì—ì„œëŠ” <strong>í”„ë¦¬ì»´íŒŒì¼ ëœ ë¶€íŠ¸ìŠ¤íŠ¸ë©</strong>ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì§„í–‰í•˜ì˜€ë‹¤.<ul><li>í”„ë¦¬ì»´íŒŒì¼ ëœ ë¶€íŠ¸ìŠ¤íŠ¸ë© : ì»´íŒŒì¼ë˜ê³  ìµœì†Œí™”ëœ CSS, ìë°”ìŠ¤í¬ë¦½íŠ¸, í°íŠ¸ ì œê³µ. ë¬¸ì„œë‚˜ ì›ë³¸ íŒŒì¼ë“¤ì€ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŒ</li></ul></li></ul></li><li>ë¶€íŠ¸ìŠ¤íŠ¸ë© CDN<ul><li>MaxCDNì—ì„œ ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ CSS ì™€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ CDNìœ¼ë¡œ ì§€ì›í•œë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´, ì•„ë˜ì˜ ë¶€íŠ¸ìŠ¤íŠ¸ë© CDN ë§í¬ë“¤ì„ ì¶”ê°€í•˜ë©´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë‹¤ìŒ <a href=http://getbootstrap.com/getting-started/#download-cdn>ë§í¬(download-cdn)</a>ë¥¼ í™•ì¸ í•œë‹¤.</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- ìµœì‹  ì»´íŒŒì¼ ë° ìµœì†Œí™”ëœ ìµœì‹  CSS --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>        <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- ì˜µì…˜ í…Œë§ˆ --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css&#34;</span> 
</span></span><span style=display:flex><span>        <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- jQuery library ë¶€íŠ¸ìŠ¤íŠ¸ë©ì„ ì‚¬ìš©í•˜ë ¤ë©´ jQueryê°€ í•„ìš”í•¨--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!-- ìµœì‹  ì»´íŒŒì¼ ë° ìµœì†Œí™”ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>        <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h3 id=íŒŒì¼-êµ¬ì¡°>íŒŒì¼ êµ¬ì¡°</h3><p>í”„ë¦¬ ì»´íŒŒì¼ ëœ ë¶€íŠ¸ìŠ¤íŠ¸ë©ì„ ë‹¤ìš´ë¡œë“œí•˜ê³ , ì••ì¶•ì„ í•´ì œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.</p><pre tabindex=0><code>bootstrap/
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ bootstrap.css
â”‚   â”œâ”€â”€ bootstrap.css.map
â”‚   â”œâ”€â”€ bootstrap.min.css
â”‚   â”œâ”€â”€ bootstrap-theme.css
â”‚   â”œâ”€â”€ bootstrap-theme.css.map
â”‚   â””â”€â”€ bootstrap-theme.min.css
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ bootstrap.js
â”‚   â””â”€â”€ bootstrap.min.js
â””â”€â”€ fonts/
    â”œâ”€â”€ glyphicons-halflings-regular.eot
    â”œâ”€â”€ glyphicons-halflings-regular.svg
    â”œâ”€â”€ glyphicons-halflings-regular.ttf
    â”œâ”€â”€ glyphicons-halflings-regular.woff
    â””â”€â”€ glyphicons-halflings-regular.woff2
</code></pre><p>ìœ„ì˜ êµ¬ì¡°ëŠ” ì–´ëŠ ì›¹í”„ë¡œì íŠ¸ì—ë„ ì‰½ê²Œ ì ìš©í•˜ê¸° ìœ„í•œ ê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœë‹¤. ì»´íŒŒì¼ ëœ CSSì™€ JavaScript(bootstrap.<em>)ë¥¼ ì œê³µí•˜ê³ , ì»´íŒŒì¼ ë˜ê³  ìµœì†Œí™”ëœ CSSì™€ JavaScript(bootstrap.min.</em>) ë„ ì œê³µí•œë‹¤.</p><p>ê·¸ë¦¬ê³  Glyphicons ì˜ í°íŠ¸ íŒŒì¼ë“¤ê³¼ ë¶€ê°€ì ì¸ ë¶€íŠ¸ìŠ¤íŠ¸ë© í…Œë§ˆ íŒŒì¼ë“¤ë„ ê°™ì´ ì¡´ì¬í•œë‹¤.</p><h2 id=ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜-íŠ¹ì§•>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ íŠ¹ì§•</h2><h3 id=html5>HTML5</h3><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì€ HTML5ì˜ HTMLìš”ì†Œì™€ CSSì†ì„±ì„ ìš”êµ¬í•˜ê¸° ë•Œë¬¸ì— HTML5 doctypeì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. í•­ìƒ í˜ì´ì§€ì˜ ì‹œì‘ë¶€ë¶„ì— <strong>HTML5 doctype</strong>ê³¼ <code>&lt;head></code>ë‚´ì— <strong>lang</strong> ì†ì„±ê³¼ <strong>character set</strong>ì„ ì¶”ê°€í•´ ì£¼ì–´ì•¼ í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span> 
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h3 id=ëª¨ë°”ì¼-ì¹œí™”ì >ëª¨ë°”ì¼ ì¹œí™”ì </h3><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©2 ì—ì„œëŠ” ëª¨ë°”ì¼ ì¹œí™”ì ì¸ ìŠ¤íƒ€ì¼ì„ í”„ë ˆì„ì›Œí¬ì˜ coreë¡œ ì¶”ê°€í–ˆëŠ”ë°, ë¶€íŠ¸ìŠ¤íŠ¸ë©3 ë¶€í„°ëŠ” ì‹œì‘ë¶€í„° ëª¨ë°”ì¼ ì¹œí™”ì ìœ¼ë¡œ ì„¤ê³„ ë˜ì—ˆë‹¤.</p><p>ë‹¤ìŒì€ í˜ì´ì§€ì˜ ë Œë”ë§ê³¼ í™•ëŒ€/ì¶•ì†Œë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê²ƒìœ¼ë¡œ, <code>&lt;head></code> ë‚´ì— <code>viewport</code> ë©”íƒ€ íƒœê·¸ë¥¼ ì¶”ê°€í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><ul><li><strong>width=device-width</strong><ul><li>deviceì˜ í™”ë©´ í­(width)ì— ë”°ë¼ í˜ì´ì§€ì˜ í™”ë©´ í­ì„ ì„¤ì •í•œë‹¤.(deviceë§ˆë‹¤ ë‹¬ë¼ì§)</li></ul></li><li><strong>initial-scale=1</strong><ul><li>í˜ì´ì§€ê°€ ì²˜ìŒ ë¸Œë¼ìš°ì €ì— ë¡œë“œ ë  ë•Œ ì´ˆê¸° zoom levelì„ ì„¤ì •í•œë‹¤.</li></ul></li><li><strong>user-scalable=no</strong><ul><li>ëª¨ë°”ì¼ ê¸°ê¸°ì˜ Zoomê¸°ëŠ¥ì„ ëŒ ìˆ˜ ìˆë‹¤.</li></ul></li></ul><h3 id=ì»¨í…Œì´ë„ˆ>ì»¨í…Œì´ë„ˆ</h3><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì€ ì‚¬ì´íŠ¸ ì „ì²´ì˜ ì½˜í…ì¸ ë¥¼ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆ ìš”ì†Œê°€ í•„ìš”í•˜ë‹¤.</p><p>ë‹¤ìŒì˜ ë‘ ì˜ˆì œëŠ” ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ì˜ˆì œì´ë‹¤.</p><p>â€» jsfiddle.netì„ ì´ìš©í•˜ì—¬ ì•„ë˜ì˜ ì˜ˆì œì½”ë“œë¥¼ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë§í¬ë¡œ ì œê³µ.</p><h4 id=ì˜ˆì œ-1--container>ì˜ˆì œ 1 : container</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Bootstrap Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h1</span><span style=color:#000;font-weight:700>&gt;</span>My First Bootstrap Page<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h1</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>This is some text.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ê²°ê³¼ ë³´ê¸° : <a href="https://jsfiddle.net/ymxvbzo7/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=ymxvbzo7">https://jsfiddle.net/ymxvbzo7/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=ymxvbzo7</a></p><h4 id=ì˜ˆì œ-2--container-fluid>ì˜ˆì œ 2 : container-fluid</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Bootstrap Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container-fluid&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h1</span><span style=color:#000;font-weight:700>&gt;</span>My First Bootstrap Page<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h1</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>This is some text.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ê²°ê³¼ ë³´ê¸° : <a href="https://jsfiddle.net/y1hL9vqd/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=y1hL9vqd">https://jsfiddle.net/y1hL9vqd/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=y1hL9vqd</a></p><p><img src=../images/bootstrap-myfirstbootstrap-sample1.png alt=bootstrap-myfirstbootstrap-sample1></p><p><img src=../images/bootstrap-myfirstbootstrap-sample2.png alt=bootstrap-myfirstbootstrap-sample2></p><p>ìœ„ì˜ ê·¸ë¦¼ì²˜ëŸ¼ ë‘ ì˜ˆì œì˜ ê²°ê³¼ë³´ê¸°ì˜ í™”ë©´ì˜ í­ì„ ì¢Œìš°ë¡œ ëŠ˜ë ¤ë³´ë©´, ë‘ ì˜ˆì œì˜ ì°¨ì´ì ì„ ì•Œ ìˆ˜ ìˆë‹¤.</p><p>ì²«ë²ˆì§¸ ì˜ˆì œëŠ” ê³ ì • í­ ì»¨í…Œì´ë„ˆ(<code>&lt;div class="container"></code>)ë¥¼ ì‚¬ìš©í•˜ì˜€ê³ , ë‘ë²ˆì§¸ ì˜ˆì œëŠ” ìµœëŒ€ í­ ì»¨í…Œì´ë„ˆ(<code>&lt;div class="container-fluid"></code>)ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œì´ë‹¤.</p><p>ê·¸ ë°–ì— ì„¸ë¶€ ë‚´ìš©ì€ <a href=http://getbootstrap.com/css/#overview-container>ë§í¬</a>ë¥¼ ì°¸ì¡°í•˜ë„ë¡ í•œë‹¤.</p><h3 id=ê·¸ë¦¬ë“œ-ì‹œìŠ¤í…œ>ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ</h3><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì€ ë°˜ì‘í˜•, í˜ì´ì§€ ë ˆì´ì•„ì›ƒì„ ìœ„í•´ ìì²´ì ì¸ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œì„ ì œê³µí•œë‹¤.</p><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œì€ <strong>12ì—´ì˜ ê·¸ë¦¬ë“œ</strong>(12-column grid)ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, deviceë‚˜ viewportì˜ í¬ê¸°ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì—´ì´ ì ì ˆí•œ í¬ê¸°ë¡œ ë°°ì—´ë˜ê²Œ í•œë‹¤.</p><h4 id=ê³ ë ¤ì‚¬í•­>ê³ ë ¤ì‚¬í•­</h4><ul><li>í–‰(row)ì€ ë°˜ë“œì‹œ <strong>.container</strong>(ê³ ì •í­) ë‚˜ <strong>.container-fluid</strong>(ì „ì²´í­) ì•ˆì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤.</li><li>ì—´(column)ë“¤ì€ ìˆ˜í‰ê·¸ë£¹ì„ ë§Œë“œëŠ”ë° í–‰ì„ ì´ìš©í•œë‹¤.</li><li>ì½˜í…ì¸ ëŠ” ì—´ ì•ˆì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ì—´ ë“¤ë§Œì´ í–‰ì˜ ë°”ë¡œ ì•„ë˜ì— ì˜¬ ìˆ˜ ìˆë‹¤.</li><li><strong>.row</strong>ì™€ <strong>.col-xs-4</strong> ê°™ì€ ì‚¬ì „ ì •ì˜ëœ ê·¸ë¦¬ë“œ í´ë˜ìŠ¤ë“¤ì„ í†µí•´ ê°„í¸í•˜ê²Œ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</li><li>ì—´ì€ <strong>padding</strong> ìœ¼ë¡œ ì—¬ë°±ì„ ì¤„ ìˆ˜ ìˆë‹¤. íŒ¨ë”©ì€ í–‰ ë‚´ì—ì„œ ì²« ì—´ê³¼ ë§ˆì§€ë§‰ ì—´ì„ ìœ„í•´ <strong>.row</strong> ë‚´ì— ìŒìˆ˜ ë§ˆì§„ìœ¼ë¡œ offset ë˜ì–´ ìˆë‹¤.</li><li>ê·¸ë¦¬ë“œ ì—´ì€ <strong>12</strong>ê°œì˜ ê°€ëŠ¥í•œ ì—´ë“¤ì„ ì›í•˜ëŠ” ë§Œí¼ ëª…ì‹œí•˜ëŠ” ê²ƒìœ¼ë¡œ ë§Œë“¤ì–´ì§„ë‹¤.( ex) ê°™ì€ í¬ê¸°ì˜ 3ê°œ ì—´ : <strong>.col-xs-4</strong> ë¥¼ 3ê°œ ì‚¬ìš©)</li></ul><p>ê¸°íƒ€ì‚¬í•­ì€ <a href=http://getbootstrap.com/css/#grid-intro>ë§í¬</a> ë‚´ìš©ì„ ì°¸ì¡°í•˜ë„ë¡ í•œë‹¤.</p><h4 id=ê·¸ë¦¬ë“œ-ì˜µì…˜>ê·¸ë¦¬ë“œ ì˜µì…˜</h4><table><thead><tr><th></th><th>ë§¤ìš° ì‘ì€ ê¸°ê¸° ëª¨ë°”ì¼ í°( &lt; 768px)</th><th>ì‘ì€ ê¸°ê¸° íƒœë¸”ë¦¿ (â‰¥768px)</th><th>ì¤‘ê°„ ê¸°ê¸° ë°ìŠ¤í¬íƒ‘ (â‰¥992px)</th><th>í° ê¸°ê¸° ë°ìŠ¤í¬íƒ‘ (â‰¥1200px)</th></tr></thead><tbody><tr><td>ê·¸ë¦¬ë“œ ì ìš©</td><td>í•­ìƒ</td><td>ë¶„ê¸°ì ë³´ë‹¤ í¬ë©´ ì ìš©</td><td></td><td></td></tr><tr><td>ì»¨í…Œì´ë„ˆ ë„ˆë¹„</td><td>ì—†ìŒ (auto)</td><td>750px</td><td>970px</td><td>1170px</td></tr><tr><td>í´ë˜ìŠ¤ ì ‘ë‘ì‚¬</td><td>.col-xs-</td><td>.col-sm-</td><td>.col-md-</td><td>.col-lg-</td></tr><tr><td>ì»¬ëŸ¼ ìˆ˜</td><td>12</td><td></td><td></td><td></td></tr><tr><td>ì»¬ëŸ¼ ë„ˆë¹„</td><td>Auto</td><td>~62px</td><td>~81px</td><td>~97px</td></tr><tr><td>ì‚¬ì´ ë„ˆë¹„</td><td>30px (ì»¬ëŸ¼ì˜ ì–‘ìª½ì— 15px ì”©)</td><td></td><td></td><td></td></tr></tbody></table><p>ì„¸ë¶€ë‚´ìš©ì€ <a href=http://getbootstrap.com/css/#grid-options>ë§í¬</a>ì˜ í‘œë¥¼ ì°¸ì¡°í•œë‹¤.</p><h4 id=ê¸°ë³¸ì ì¸-ë¶€íŠ¸ìŠ¤íŠ¸ë©-ê·¸ë¦¬ë“œ-êµ¬ì¡°>ê¸°ë³¸ì ì¸ ë¶€íŠ¸ìŠ¤íŠ¸ë© ê·¸ë¦¬ë“œ êµ¬ì¡°</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;row&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;col-sm-4&#34;</span><span style=color:#000;font-weight:700>&gt;</span>.col-sm-4<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;col-sm-4&#34;</span><span style=color:#000;font-weight:700>&gt;</span>.col-sm-4<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;col-sm-4&#34;</span><span style=color:#000;font-weight:700>&gt;</span>.col-sm-4<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><ul><li>í–‰(row)ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.(<code>&lt;div class="row"></code>)</li><li>í–‰ ì•ˆì— ì ì ˆí•œ ìˆ˜ì˜ ì—´(column)ì„ ì¶”ê°€í•œë‹¤. (<code>&lt;div class="col-sm-4">.col-sm-4&lt;/div></code>)</li><li>í–‰ ì•ˆì˜ ì—´ì˜ ìˆ˜ëŠ” í•­ìƒ 12ì—´ì„ ë§ì¶°ì•¼ í•œë‹¤.</li></ul><h4 id=ê·¸ë¦¬ë“œ-ì˜ˆì œ--stacked-to-horizontal>ê·¸ë¦¬ë“œ ì˜ˆì œ : Stacked-to-horizontal</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Bootstrap Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h1</span><span style=color:#000;font-weight:700>&gt;</span>Grid<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h1</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>This example demonstrates a 50%/50% split on small, medium and large devices. On extra small devices, it will stack (100% width).<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Resize the browser window to see the effect.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;row&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;col-sm-6&#34;</span> <span style=color:#c4a000>style</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;background-color:yellow;&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>br</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;col-sm-6&#34;</span> <span style=color:#c4a000>style</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;background-color:pink;&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto.    
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p><img src=../images/bootstrap-grid-sample.png alt=bootstrap-grid-sample></p><p>ê²°ê³¼ ë³´ê¸° : <a href="https://jsfiddle.net/eh5kmtt9/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=eh5kmtt9">https://jsfiddle.net/eh5kmtt9/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=eh5kmtt9</a></p><p>ê²°ê³¼ì°½ì˜ ì¢Œìš°í­ì„ í™•ëŒ€ ë° ì¶•ì†Œë¥¼ í•´ë³´ë©´, í™”ë©´ ì‚¬ì´ì¦ˆì— ë§ì¶°ì„œ ì—´(column)ì´ ìŒ“ì´ê±°ë‚˜(stack) ìˆ˜í‰ì´ ë˜ê²Œ ëŠ˜ì–´ë‚˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.ì´ì™€ ê°™ì´ ì† ì‰½ê²Œ ë°˜ì‘í˜•ì„ ì§€ì›í•˜ê³ , í˜ì´ì§€ ë ˆì´ì•„ì›ƒì„ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.</p><p>ê·¸ ë°–ì˜ ì˜ˆì œë“¤ì€ ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‚¬ì´íŠ¸ <a href=http://getbootstrap.com/css/#grid>ê·¸ë¦¬ë“œ ë¶€ë¶„</a>ì—ì„œ ë‚´ìš©ì„ í™•ì¸í•˜ë„ë¡ í•œë‹¤.</p><h3 id=ë‹¤ì–‘í•œ-ìŠ¤íƒ€ì¼ì˜-css>ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ì˜ CSS</h3><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì€ ê¹”ë”í•˜ê³  ì˜ ì •ëˆëœ ëŠë‚Œì˜ ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ì˜ CSSë¥¼ ì œê³µí•œë‹¤. ìì„¸í•œ ë‚´ìš©ì€ <a href=http://getbootstrap.com/css/>ë§í¬</a>ì˜ ë‚´ìš©ì„ í™•ì¸í•˜ë„ë¡ í•œë‹¤.</p><h4 id=í…Œì´ë¸”>í…Œì´ë¸”</h4><p>ë‹¤ìŒì€ ë¶€íŠ¸ìŠ¤íŠ¸ë©ì—ì„œ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì ìš©í•œ í…Œì´ë¸” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Bootstrap Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>Contextual Classes<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Contextual classes can be used to color table rows or table cells. The classes that can be used are: .active, .success, .info, .warning, and .danger.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>table</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;table&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>thead</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>Firstname<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>Lastname<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>Email<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>th</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>thead</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tbody</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;success&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>John<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>Doe<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>example1@example.com<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;danger&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>Mary<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>Moe<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>example2@example.com<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>tr</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;info&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>July<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>Dooley<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>example3@example.com<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>td</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tr</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>tbody</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>table</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ê²°ê³¼ë³´ê¸° : <a href="https://jsfiddle.net/r60oymr2/3/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=r60oymr2">https://jsfiddle.net/r60oymr2/3/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=r60oymr2</a></p><p><img src=../images/bootstrap-table-sample.png alt=bootstrap-table-sample></p><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” í…Œì´ë¸” ë””ìì¸ ì¤‘ í•˜ë‚˜ì´ë‹¤.</p><h4 id=í¼>í¼</h4><p>ë‹¤ìŒì€ ë¶€íŠ¸ìŠ¤íŠ¸ë©ì—ì„œ ì œê³µí•˜ëŠ” í¼ì˜ ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Bootstrap Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>Inline form<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Make the viewport larger than 768px wide to see that all of the form elements are inline, left aligned, and the labels are alongside.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-inline&#34;</span> <span style=color:#c4a000>role</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-group&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>label</span> <span style=color:#c4a000>for</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Email:<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>label</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-control&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;email&#34;</span> <span style=color:#c4a000>placeholder</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Enter email&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-group&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>label</span> <span style=color:#c4a000>for</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Password:<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>label</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;form-control&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;pwd&#34;</span> <span style=color:#c4a000>placeholder</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Enter password&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;checkbox&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>label</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;checkbox&#34;</span><span style=color:#000;font-weight:700>&gt;</span> Remember me<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>label</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;submit&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-default&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Submit<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ê²°ê³¼ë³´ê¸° : <a href="https://jsfiddle.net/4006oqs0/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=4006oqs0">https://jsfiddle.net/4006oqs0/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=4006oqs0</a></p><p><img src=../images/bootstrap-form-sample.png alt=bootstrap-form-sample></p><p>ìœ„ì˜ ì˜ˆì œëŠ” ì¸ë¼ì¸ í¼(inline form)ì´ ì ìš© ëœ ì˜ˆì œë¡œ, í™”ë©´ì˜ í­ì— ë”°ë¼ ì…ë ¥ì°½ì˜ ìœ„ì¹˜ê°€ ë³€í™”í•œë‹¤.</p><h4 id=ë²„íŠ¼>ë²„íŠ¼</h4><p>ë‹¤ìŒì€ ë¶€íŠ¸ìŠ¤íŠ¸ë©ì—ì„œ ì œê³µí•˜ëŠ” ë²„íŠ¼ ë””ìì¸ì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Bootstrap Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>Button<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#8f5902;font-style:italic>&lt;!-- Standard button --&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-default&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Default<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#8f5902;font-style:italic>&lt;!-- Provides extra visual weight and identifies the primary action in a set of buttons --&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-primary&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Primary<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#8f5902;font-style:italic>&lt;!-- Indicates a successful or positive action --&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-success&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Success<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#8f5902;font-style:italic>&lt;!-- Contextual button for informational alert messages --&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-info&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Info<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#8f5902;font-style:italic>&lt;!-- Indicates caution should be taken with this action --&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-warning&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Warning<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#8f5902;font-style:italic>&lt;!-- Indicates a dangerous or potentially negative action --&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-danger&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Danger<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#8f5902;font-style:italic>&lt;!-- Deemphasize a button by making it look like a link while maintaining button behavior --&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-link&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Link<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ê²°ê³¼ë³´ê¸° : <a href="https://jsfiddle.net/ysohpdqh/5/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=ysohpdqh">https://jsfiddle.net/ysohpdqh/5/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=ysohpdqh</a></p><p><img src=../images/bootstrap-button-sample.png alt=bootstrap-button-sample></p><h3 id=ì»´í¬ë„ŒíŠ¸>ì»´í¬ë„ŒíŠ¸</h3><p>ë¶€íŠ¸ìŠ¤íŠ¸ë©ì—ì„œëŠ” iconography, dropdown, input group, navigation, alerts ë“±ì˜ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œê³µí•˜ê³  ìˆë‹¤. ë³¸ ê°€ì´ë“œì—ì„œëŠ” ëª‡ ê°€ì§€ ì»´í¬ë„ŒíŠ¸ë§Œ ì†Œê°œí•œë‹¤.</p><p>ê·¸ ë°–ì˜ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ ë“¤ì€ <a href=http://getbootstrap.com/components/>ë§í¬</a>ë¥¼ í†µí•´ í™•ì¸ í•˜ë„ë¡ í•œë‹¤.</p><h4 id=glyphicons>Glyphicons</h4><p>250ê°œ ì´ìƒì˜ ê¸°í˜¸ê°€ Glyphicon Halflings ì„¸íŠ¸ë¡œ í°íŠ¸ í¬ë§·ì— í¬í•¨ë˜ì–´ ìˆë‹¤.</p><p><img src=../images/bootstrap-glyphicons.png alt=bootstrap-glyphicons></p><h5 id=ì‚¬ìš©ë°©ë²•>ì‚¬ìš©ë°©ë²•</h5><p>ì‚¬ìš©í•  ë¶€ë¶„ì— ë‹¤ìŒ êµ¬ë¬¸ì„ ì‚½ì…í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;glyphicon glyphicon-search&#34;</span> <span style=color:#c4a000>aria-hidden</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ìœ„ì˜ êµ¬ë¬¸ì—ì„œ ì›í•˜ëŠ” Glyphiconì˜ <strong>class</strong>ë¥¼ êµì²´í•˜ì—¬ ì‚¬ìš©í•œë‹¤.</p><p>ë‹¤ìŒì€ Glyphiconì„ ì‚¬ìš©í•œ ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Bootstrap Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>Glyphicon Examples<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Envelope icon: <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;glyphicon glyphicon-envelope&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Envelope icon as a link:
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;glyphicon glyphicon-envelope&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Search icon: <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;glyphicon glyphicon-search&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Search icon on a button:
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-default&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;glyphicon glyphicon-search&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;</span> Search
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Search icon on a styled button:
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-info&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;glyphicon glyphicon-search&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;</span> Search
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Print icon: <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;glyphicon glyphicon-print&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Print icon on a styled link button:
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-success btn-lg&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;glyphicon glyphicon-print&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;</span> Print 
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ê²°ê³¼ë³´ê¸° : <a href="https://jsfiddle.net/t1tresaj/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=t1tresaj">https://jsfiddle.net/t1tresaj/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=t1tresaj</a></p><p><img src=../images/bootstrap-glyphicons-sample.png alt=bootstrap-glyphicons-sample></p><h4 id=í˜ì´ì§€ë„¤ì´ì…˜pagination>í˜ì´ì§€ë„¤ì´ì…˜(Pagination)</h4><p>í˜ì´ì§€ë„¤ì´ì…˜ ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ì´íŠ¸ë‚˜ ì•±ì„ ìœ„í•œ í˜ì´ì§€ë„¤ì´ì…˜ ë§í¬ë¥¼ ì œê³µí•œë‹¤.</p><h5 id=ì‚¬ìš©ë°©ë²•-1>ì‚¬ìš©ë°©ë²•</h5><p>í˜ì´ì§€ë„¤ì´ì…˜ì˜ ê²½ìš° ìˆœì„œê°€ ì—†ëŠ” ëª©ë¡(<code>unordered list</code>, <code>&lt;ul></code> )ì— <strong>.pagination</strong> class í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•œë‹¤.</p><p>ë‹¤ìŒì€ í˜ì´ì§€ë„¤ì´ì…˜ì„ ì‚¬ìš©í•œ ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Bootstrap Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>Pagination - Active State<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Add class .active to let the user know which page he/she is on:<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>ul</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;pagination&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#&#34;</span><span style=color:#000;font-weight:700>&gt;</span>1<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;active&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#&#34;</span><span style=color:#000;font-weight:700>&gt;</span>2<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#&#34;</span><span style=color:#000;font-weight:700>&gt;</span>3<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#&#34;</span><span style=color:#000;font-weight:700>&gt;</span>4<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#&#34;</span><span style=color:#000;font-weight:700>&gt;</span>5<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>li</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>ul</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ê²°ê³¼ë³´ê¸° : <a href="https://jsfiddle.net/L860z1cy/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=L860z1cy">https://jsfiddle.net/L860z1cy/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=L860z1cy</a></p><p><img src=../images/bootstrap-pagination-sample.png alt=bootstrap-pagination-sample></p><p>ìœ„ì˜ ì˜ˆì œì—ì„œ <strong>ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ</strong>(<code>list item</code>, <code>&lt;li></code>)ì— <strong>.active</strong> classë¥¼ ì¶”ê°€í•˜ë©´, í•´ë‹¹ ë§í¬ëŠ” í™œì„± ìƒíƒœê°€ ëœë‹¤.</p><p>í´ë¦­í•  ìˆ˜ ì—†ëŠ” ë§í¬ì¼ ê²½ìš° .disableì„ ì‚¬ìš©í•˜ë©´ ë¹„í™œì„± ìƒíƒœë¡œ ëœë‹¤.</p><h3 id=ìë°”ìŠ¤í¬ë¦½íŠ¸>ìë°”ìŠ¤í¬ë¦½íŠ¸</h3><p>ë¶€íŠ¸ìŠ¤íŠ¸ë© ë‚´ì— ì¡´ì¬í•˜ëŠ” UI ì»´í¬ë„ŒíŠ¸ì— ë™ì ì¸ ì¸í„°ë™ì…˜ì´ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ëŠ” 12ê°œê°€ ë„˜ëŠ” jQuery pluginì„ í†µí•˜ì—¬ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆë„ë¡ ë˜ì–´ìˆë‹¤.</p><p>ë‹¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì£¼ì˜í•  ì ì€ ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ì€ jQueryì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— jQueryëŠ” ë°˜ë“œì‹œ í”ŒëŸ¬ê·¸ì¸ íŒŒì¼ ì „ì— í¬í•¨ë˜ì–´ì•¼ í•œë‹¤.</p><p>ë³¸ ê°€ì´ë“œì—ì„œëŠ” ëª¨ë‹¬(modal)ì— ëŒ€í•œ ê°€ì´ë“œë§Œ ì œê³µí•œë‹¤.</p><h4 id=ëª¨ë‹¬modal>ëª¨ë‹¬(Modal)</h4><p>ëª¨ë‹¬ í”ŒëŸ¬ê·¸ì¸ì€ í˜„ì¬ í˜ì´ì§€ì˜ ìƒë‹¨ì— í‘œì‹œë˜ëŠ” ëŒ€í™” ìƒì / íŒì—… ì°½ì´ë‹¤.</p><ul><li>ë‹¤ë¥¸ ëª¨ë‹¬ì´ ë³´ì´ëŠ” ë™ì•ˆì— ëª¨ë‹¬ì€ ì—´ë¦¬ì§€ ì•ŠëŠ”ë‹¤.</li><li>ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ê°€ ëª¨ë‹¬ì˜ ëª¨ìŠµì´ë‚˜ ê¸°ëŠ¥ì— ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•Šë„ë¡ í•­ìƒ ëª¨ë‹¬ì˜ HTML ì½”ë“œë¥¼ ë¬¸ì„œ ìƒë‹¨ì— ìœ„ì¹˜í•œë‹¤.</li><li>ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œëŠ” ì œì•½ì‚¬í•­ì´ ìˆë‹¤.</li><li>í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš© ì‹œ ê°œë³„ì (<strong>modal.js</strong>)ìœ¼ë¡œ includeí•˜ê±°ë‚˜, ì „ì²´(<strong>bootstrap.js</strong> ë˜ëŠ” <strong>bootstrap.min.js</strong>)ë¥¼ includeí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li></ul><h5 id=ì‚¬ìš©ë²•>ì‚¬ìš©ë²•</h5><p>ë‹¤ìŒì€ ê¸°ë³¸ì ì¸ modalì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” ì˜ˆì œì´ë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span> <span style=color:#c4a000>lang</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ko&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>Bootstrap Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>charset</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;utf-8&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&#34;</span> 
</span></span><span style=display:flex><span>         <span style=color:#c4a000>integrity</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&#34;</span> <span style=color:#c4a000>crossorigin</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;anonymous&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;container&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>Modal Example<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#8f5902;font-style:italic>&lt;!-- Trigger the modal with a button --&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-info btn-lg&#34;</span> <span style=color:#c4a000>data-toggle</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal&#34;</span> <span style=color:#c4a000>data-target</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;#myModal&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Open Modal<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#8f5902;font-style:italic>&lt;!-- Modal --&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal fade&#34;</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;myModal&#34;</span> <span style=color:#c4a000>role</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;dialog&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal-dialog&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#8f5902;font-style:italic>&lt;!-- Modal content--&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal-content&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal-header&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;close&#34;</span> <span style=color:#c4a000>data-dismiss</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal&#34;</span><span style=color:#000;font-weight:700>&gt;</span><span style=color:#ce5c00>&amp;times;</span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h4</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal-title&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Modal Header<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>h4</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal-body&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>Some text in the modal.<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal-footer&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                     <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>button</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;button&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;btn btn-default&#34;</span> <span style=color:#c4a000>data-dismiss</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;modal&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Close<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>button</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>               <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>         <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>ê²°ê³¼ë³´ê¸° : <a href="https://jsfiddle.net/eqfmxd3e/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=eqfmxd3e">https://jsfiddle.net/eqfmxd3e/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=eqfmxd3e</a></p><p><img src=../images/bootstrap-modal-sample.png alt=bootstrap-modal-sample></p><p>ìœ„ì˜ ì˜ˆì œì˜ êµ¬ì¡°ë¥¼ ë³´ë©´ í¬ê²Œ <strong>Triger</strong>, <strong>Modal</strong>, <strong>Modal content</strong>ë¡œ êµ¬ì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><ul><li>Trigger<ul><li>ëª¨ë‹¬ ìœˆë„ìš°ë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ íŠ¸ë¦¬ê±°ê°€ í•„ìš”í•˜ë‹¤.</li><li>ë³´í†µ ë²„íŠ¼ì´ë‚˜ ë§í¬ë¥¼ íŠ¸ë¦¬ê±°ë¡œ ì‚¬ìš©í•œë‹¤.</li><li>ë‘ ê°œì˜ <strong>data-</strong>* ì†ì„±ì„ include í•´ì•¼ í•œë‹¤.<ul><li>data-toggle=<strong>modal</strong> : ëª¨ë‹¬ ìœˆë„ìš°ë¥¼ ì—°ë‹¤.</li><li>data-target=<strong>#myModal</strong> : ëª¨ë‹¬ ìœˆë„ìš°ë¥¼ ì—´ id</li></ul></li></ul></li><li>Modal<ul><li>ëª¨ë‹¬ì˜ ë¶€ëª¨ <code>&lt;div></code>ì—ëŠ” ëª¨ë‹¬(<strong>myModal</strong>)ì„ íŠ¸ë¦¬ê±° í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” <strong>data-target</strong>ì˜ ì†ì„± ê°’ê³¼ ë™ì¼í•œ IDë¥¼ ê°€ì ¸ì•¼ í•œë‹¤.</li><li><strong>.modal</strong> í´ë˜ìŠ¤ëŠ” contentì—ì„œ modalì˜ <code>&lt;div></code>ë¥¼ ì‹ë³„í•˜ê³ , ê·¸ê²ƒì„ focusë¡œ ê°€ì ¸ì˜¨ë‹¤.</li><li><strong>.fade</strong> í´ë˜ìŠ¤ëŠ” ëª¨ë‹¬ ì•ˆê³¼ ë°–ìœ¼ë¡œ fade ì „í™˜ íš¨ê³¼ë¥¼ ì¶”ê°€í•´ ì¤€ë‹¤. ë§Œì•½ íš¨ê³¼ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì´ í´ë˜ìŠ¤ë¥¼ ì‚­ì œí•œë‹¤.</li><li><strong>role=dialog</strong> ì†ì„±ì€ ìŠ¤í¬ë¦° ë¦¬ë”ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒë“¤ì— ëŒ€í•œ ì ‘ê·¼ì„±ì„ í–¥ìƒì‹œí‚¨ë‹¤.</li><li><strong>.modal-dialog</strong> í´ë˜ìŠ¤ëŠ” ëª¨ë‹¬ì˜ ì ì ˆí•œ í­ê³¼ ì—¬ë°±ì„ ì„¤ì •í•œë‹¤.</li></ul></li><li>Modal content<ul><li><strong>modal-content</strong> í´ë˜ìŠ¤ì˜ <code>&lt;div></code>ëŠ” ëª¨ë‹¬ì˜ ìŠ¤íƒ€ì¼(border, background-color ë“±â€¦)ì„ ì§€ì •í•œë‹¤. ì—¬ê¸°ì— ëª¨ë‹¬ì˜ header, body, footerë¥¼ ì¶”ê°€í•œë‹¤.</li><li><strong>.modal-header</strong> í´ë˜ìŠ¤ëŠ” ëª¨ë‹¬ì˜ header ìŠ¤íƒ€ì¼ì„ ì •ì˜í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤.</li><li>header ì•ˆì˜ <code>&lt;button></code>ì—ëŠ” <strong>data-dismiss=modal</strong> ì†ì„±ì´ ì •ì˜ë˜ì–´ ìˆëŠ”ë° ì´ëŠ” í´ë¦­í•˜ë©´ ëª¨ë‹¬ì„ ë‹«ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.</li><li><strong>.close</strong> í´ë˜ìŠ¤ëŠ” ë‹«ê¸° ë²„íŠ¼ì˜ ìŠ¤íƒ€ì¼ì´ë‹¤.</li><li><strong>.modal-title</strong> í´ë˜ìŠ¤ëŠ” headerì˜ ì ì ˆí•œ ë¼ì¸ ë†’ì´ì˜ ìŠ¤íƒ€ì¼ì´ë‹¤.</li><li><strong>.modal-body</strong> í´ë˜ìŠ¤ëŠ” ëª¨ë‹¬ì˜ body ìŠ¤íƒ€ì¼ì„ ì •ì˜í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤. ì—¬ê¸°ì— ë‹¤ë¥¸ HTML markup(paragraphs, images, videos, ë“±â€¦)ë“¤ì„ ì¶”ê°€í•œë‹¤.</li><li><strong>.modal-footer</strong> í´ë˜ìŠ¤ëŠ” ëª¨ë‹¬ì˜ footer ìŠ¤íƒ€ì¼ì„ ì •ì˜í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ìš°ì¸¡ ì •ë ¬ë¡œ ë˜ì–´ìˆë‹¤.</li></ul></li></ul><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li><a href=http://getbootstrap.com/>ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‚¬ì´íŠ¸</a></li><li><a href=https://getbootstrap.kr/>ë¶€íŠ¸ìŠ¤íŠ¸ë© í•œê¸€ë²ˆì—­ ì‚¬ì´íŠ¸</a></li><li><a href=http://www.w3schools.com/bootstrap/default.asp>w3schools bootstrap Tutorial</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b243bf573fb36b506ca8d9b28e282192>30 - UX/UI Controller Component</h1><div class=lead>ì „ìì •ë¶€ëŠ” ìŠ¤ë§ˆíŠ¸ ì „ìì •ë¶€ ê¸°ë°˜ ì‹œìŠ¤í…œ êµ¬ì¶•ì„ ìœ„í•´ UI/UX Controller Component, HTML5, CSS3, JavaScript Module App Frameworkë¥¼ í™œìš©í•˜ë©°, jQuery Mobileì„ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ì±„íƒí•˜ì—¬ ì´ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•œë‹¤. UI ë ˆì´ì–´ì—ì„œëŠ” í„°ì¹˜ ìµœì í™”ëœ UI ì»¨íŠ¸ë¡¤ëŸ¬ ì»´í¬ë„ŒíŠ¸ì™€ ëª¨ë°”ì¼ íŠ¹í™” HTML5 íƒœê·¸, CSS3ë¥¼ í†µí•´ ìœ ì—°í•œ ì‚¬ìš©ì í™˜ê²½ì„ ì œê³µí•˜ë©°, JavaScriptì™€ JSON êµ¬ì¡°ë¡œ íš¨ìœ¨ì ì¸ UX/UI ì»¨íŠ¸ë¡¤ì„ ì§€ì›í•œë‹¤.</div><h1 id=uxui-controller-component>UX/UI Controller Component</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ì „ìì •ë¶€ì—ì„œ íš¨ìœ¨ì ì¸ ìŠ¤ë§ˆíŠ¸ ì „ìì •ë¶€ ê¸°ë°˜ì‹œìŠ¤í…œì˜ êµ¬ì¶•â€¢ìš´ì˜ì„ í†µí•´ ì „ìì •ë¶€ì˜ ì„œë¹„ìŠ¤ í’ˆì§ˆ UX ë ˆì´ì–´ëŠ” UI/UX Controller Component, JavaScript Module App Framework, HTML5, CSS3 ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤. ì˜¤í”ˆì†ŒìŠ¤ëŠ” JQuery Mobileì„ ì±„íƒí•˜ì˜€ìœ¼ë©° jQuery Mobileì€ html5, CSS3, javascriptë¥¼ ì œê³µí•œë‹¤. ì˜¤í”ˆ ì†ŒìŠ¤ë¥¼ Customizing í•˜ì—¬ UIë ˆì´ì–´ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš© í•˜ë©° ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤ UI/UX Controller Component ëª¨ë°”ì¼ ì›¹ ì‚¬ìš©ì í™˜ê²½(UX/UI)ì— ëŒ€í•œ ìœ ì—°í•œ ëŒ€ì‘ì„ ìœ„í•´ Touch Optimized ëœ í•„ìˆ˜ UI ì»¨íŠ¸ë¡¤ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œê³µí•œë‹¤. HTML5ëŠ” ëª¨ë°”ì¼ ì›¹ í˜ì´ì§€ êµ¬ì„± ì‹œ ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” ë§ˆí¬ì—… ì–¸ì–´ë¡œì„œ ëª¨ë°”ì¼ íŠ¹í™” íƒœê·¸ ë°‘ ë””ë°”ì´ìŠ¤ APIë¥¼ ì œê³µí•œë‹¤. CSS3ëŠ” ëª¨ë°”ì¼ ê¸°ê¸° ë° ë¸Œë¼ìš°ì €ì— ë”°ë¼ ì í•©í•œ ì»´í¬ë„ŒíŠ¸ê°€ ë³´ì—¬ì§€ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. ë˜í•œ JavaScript Module App Framework UX/UI controller componentì˜ íš¨ìœ¨ì„±ì„ ë³´ì¥í•˜ëŠ” javascript ë°‘ Json êµ¬ì¡°ë¥¼ ì œê³µí•œë‹¤.</p><h2 id=ì„¤ëª…>ì„¤ëª…</h2><p>UX ì²˜ë¦¬ ë ˆì´ì–´ëŠ” ëª¨ë°”ì¼ í™˜ê²½ì„ í™”ë©´ì„ ë‹´ë‹¹í•˜ëŠ” ë ˆì´ì–´ë¡œ í™”ë©´ êµ¬ì„±ì„ ìœ„í•œ Button, Panel, Internal/Externel Link, Process Dialog/Bar, Menu, Date/Time Picker, Check, Radio, Label/Text, TABS, Form, Grid, List View ICon, Selector, Collapsible Blockë¥¼ ì œê³µí•œë‹¤.ëª¨ë°”ì¼ í™”ë©´ì— íŠ¹í™”ëœ 16ê°œì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œê³µí•œë‹¤</p><h3 id=ëª¨ë°”ì¼-í˜ì´ì§€-ì„ ì–¸>ëª¨ë°”ì¼ í˜ì´ì§€ ì„ ì–¸</h3><p>jQuery Mobile ì€ HTML5ì˜ doctype ìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ì•¼ í•˜ë©°, jQueryMobileì—ì„œ ì‚¬ìš©í•˜ëŠ” CSS, JS(jQuery, jQueryMobile)ë¥¼ Import í•¨ìœ¼ë¡œì„œ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.</p><p>jQuery Mobileì€ jQuery Coreë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p><h4 id=ëª¨ë°”ì¼-page-header>ëª¨ë°”ì¼ Page Header</h4><p>Pageì˜ Header ì„ ì–¸ ë¶€ë¶„ì— ëª¨ë°”ì¼ ì‹¤í–‰í™˜ê²½ì„ importí•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>eGovFrame<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>title</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>meta</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;viewport&#34;</span> <span style=color:#c4a000>content</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/css/egovframework/mbl/cmm/jquery.mobile-1.3.2.css&#34;</span><span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>link</span> <span style=color:#c4a000>rel</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;stylesheet&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/css/egovframework/mbl/cmm/EgovMobile-1.3.2.css&#34;</span> <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/js/egovframework/mbl/cmm/jquery-1.9.1.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/js/egovframework/mbl/cmm/jquery.mobile-1.3.2.min.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/js/egovframework/mbl/cmm/EgovMobile-1.3.2.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>head</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> ...
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>html</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h4 id=ëª¨ë°”ì¼-page-body>ëª¨ë°”ì¼ Page Body</h4><p>jQuery Mobile ì˜ Page êµ¬ì¡°ëŠ” divë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œí˜„í•˜ë©° html5ì˜ â€˜data-*&rsquo; ì†ì„±ì„ ì´ìš©í•˜ì—¬ êµ¬ì¡°ë¥¼ êµ¬ë¶„í•œë‹¤.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>data-role</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>â€œpageâ€</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>data-role</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>â€œheaderâ€</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>data-role</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>â€œcontentâ€</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>data-role</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>â€œfooterâ€</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><h4 id=ëª¨ë°”ì¼-page-link>ëª¨ë°”ì¼ Page Link</h4><p>jQuery Mobile ì€ í•˜ë‚˜ì˜ í˜ì´ì§€ë¥¼ &lt;div data-role=â€œpageâ€> ë‹¨ìœ„ë¡œ ê´€ë¦¬ í•˜ë©° í•œ HTML ë‚´ì— ì—¬ëŸ¬ &lt;div data-role=â€œpageâ€> ê°€ ìˆì„ ê²½ìš° ì œì¼ ìƒë‹¨ì˜ div pageë¥¼ ì²« í™”ë©´ìœ¼ë¡œ ì¸ì‹í•œë‹¤. ì´ë“¤ ë‚´ë¶€ í˜ì´ì§€ ê°„ ì´ë™ì€ ë§í¬ ì†ì„±ì— #pageNameì„ ì‚¬ìš©í•´ì„œ ê°€ëŠ¥ í•˜ë‹¤. jQuery Mobile ì€ ì™¸ë¶€ í˜ì´ì§€ ì´ë™ì‹œ anchor íƒœê·¸ì˜ ë§í¬ë¥¼ ê°€ë¡œì±„ì„œ Ajax ë¡œ í•´ë‹¹ URL í˜¸ì¶œ í›„ í˜¸ì¶œ ëœ Page ì˜ &lt;div data-role=â€œpageâ€> ì˜ì—­ë§Œ ê°€ì ¸ì™€ì„œ í˜¸ì¶œ í•œ HTML í˜ì´ì§€ì˜ DOM ì— í•´ë‹¹ ë‚´ìš©ì„ ì¶”ê°€ í•œë‹¤.</p><ul><li>Ajax ë¡œ í˜¸ì¶œëœ page ì˜ CSS, JS ëŠ” ê°€ì ¸ ì˜¤ì§€ ì•Šê¸° ë•Œë¬¸ì— í˜¸ì¶œí•œ PageëŠ” í˜¸ì¶œëœ Page ì˜ JS, CSSë¥¼ í¬í•¨í•˜ê³  ìˆì–´ì•¼ í•œë‹¤.</li><li>ì™¸ë¶€í˜ì´ì§€ ì´ë™ ì‹œ ajax í†µì‹ ì„ í•˜ê³  ì‹¶ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” data-ajax=â€œfalseâ€ë¥¼ ì‚¬ìš©í•œë‹¤.</li></ul><h3 id=ux-component>UX Component</h3><table><thead><tr><th><strong>ì»´í¬ë„ŒíŠ¸</strong></th><th><strong>ì œê³µê¸°ëŠ¥</strong></th></tr></thead><tbody><tr><td><strong>Button</strong></td><td><strong>ì„¤ëª…</strong>: ëª…ë ¹ ìˆ˜í–‰, ì˜µì…˜ ì„ íƒ, ë‹¤ë¥¸ ëŒ€í™” ìƒì ì—´ê¸° ë“±ì— ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì œê³µ</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: ë‘¥ê·¼ í˜•(radius: 1em), ì‚¬ê°í˜•(radius: 0em)</td></tr><tr><td></td><td><strong>ë°°ì¹˜</strong>: vertical group, horizontal group</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td></td><td><strong>ë†’ì´</strong>: normal(39px), small (28px)</td></tr><tr><td></td><td><strong>ë„“ì´</strong>: í™”ë©´ì— ë§ê²Œ , í…ìŠ¤íŠ¸ì— ë§ê²Œ</td></tr><tr><td><strong>Panel</strong></td><td><strong>ì„¤ëª…</strong>: Header/footer ì™€ í•¨ê»˜ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ìš”ì†Œ</td></tr><tr><td></td><td><strong>ë¬´ëŠ¬</strong>: ê²©ì í˜•íƒœ ë¬´ëŠ¬ ì œê³µ</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íšŒìƒ‰, ì—°í•œíšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Internal / External Link</strong></td><td><strong>ì„¤ëª…</strong>: í‘œì¤€ ë§í¬ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©° ê¸°ë³¸ì ìœ¼ë¡œ Ajax ë¥¼ ì‚¬ìš©í•œ ë§í¬ ë°©ì‹ ì œê³µ</td></tr><tr><td></td><td><strong>ë§í¬</strong>: í˜ì´ì§€ ë‚´ë¶€ë§í¬, ë„ë©”ì¸ ë‚´ë¶€ ë§í¬, ì™¸ë¶€ ë§í¬, ì´ë©”ì¼ ë§í¬, í° ë§í¬, ì—ëŸ¬ í˜ì´ì§€ ë§í¬</td></tr><tr><td><strong>Label / Text</strong></td><td><strong>ì„¤ëª…</strong>: ìƒ‰ìƒ, ë°°ì¹˜, í¬ê¸°, í°íŠ¸ë¥¼ ì§€ì • í•  ìˆ˜ ìˆëŠ” ê°€ì´ë“œ ì œê³µ</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ì´ˆë¡, ë¹¨ê°•, íŒŒë‘</td></tr><tr><td></td><td><strong>ë°°ì¹˜</strong>: ì™¼ìª½, ì¤‘ê°„, ì˜¤ë¥¸ìª½</td></tr><tr><td></td><td><strong>í¬ê¸°</strong>: 15px, 25px, 30px</td></tr><tr><td></td><td><strong>í°íŠ¸</strong>: helvetica, verdana, tahoma</td></tr><tr><td><strong>Tabs</strong></td><td><strong>ì„¤ëª…</strong>: Headerì™€ footer ì— ì‚¬ìš©ë˜ë©° íƒ­ ë²„íŠ¼ìœ¼ë¡œ ë¬¸ì„œê°„ ì´ë™ ê¸°ëŠ¥ ì œê³µ</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: round tab(radius: 0.250em), normal tab(radius: 0em)</td></tr><tr><td></td><td><strong>ë°°ì¹˜</strong>: 1, 1/2, 1/3, 1/4, 1/5, 1/2 ë‹¤ì¤‘í–‰ tab</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Form</strong></td><td><strong>ì„¤ëª…</strong>: HTML Form ìš”ì†Œë¥¼ ëª¨ë°”ì¼ í™˜ê²½ì— ìµœì í™”í•˜ì—¬ ì œê³µ</td></tr><tr><td></td><td><strong>ìš”ì†Œ</strong>: Text inputs, Search inputs, Sliders, Switches, Radio buttons, Check boxes, Selectors</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Menu</strong></td><td><strong>ì„¤ëª…</strong>: Dialog, Grid, List, Collapsible ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë©”ë‰´ êµ¬ì„± ê¸°ëŠ¥ ì œê³µ</td></tr><tr><td></td><td><strong>íš¨ê³¼</strong>: slide, slideup, slidedown, pop, fade, flip, turn, flow, slidefade</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: Dialog, Grid, List, Collapsible</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Processing Dialog / Bar</strong></td><td><strong>ì„¤ëª…</strong>: í˜ì´ì§€ ì „í™˜ ê°„ ì§„í–‰ ìƒíƒœë¥¼ í™•ì¸ í•  ìˆ˜ ìˆëŠ” Progress Dialog/Bar ì œê³µ</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: Processing Dialog, Processing Bar</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Dialog</strong></td><td><strong>ì„¤ëª…</strong>: ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” Dialog ê¸°ëŠ¥ ì œê³µ</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: Dialog, Action Sheet, Overlay, Alert, Prompt, Confirm</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Grid View</strong></td><td><strong>ì„¤ëª…</strong>: Grid í˜•íƒœë¡œ ì»¨í…ì¸ ë¥¼ ë°°ì¹˜í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ ì œê³µ</td></tr><tr><td></td><td><strong>ë°°ì¹˜</strong>: 1/2, 1/3, 1/4, 1/5, ê°€ë³€ Grid View</td></tr><tr><td><strong>Table / List View</strong></td><td><strong>ì„¤ëª…</strong>: Table/List í˜•íƒœë¡œ ì»¨í…ì¸ ë¥¼ ë°°ì¹˜í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ ì œê³µ</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: Read-only list, Link list</td></tr><tr><td></td><td><strong>ê¸°ëŠ¥</strong>: Nested List, Numbered List, Split Button, List Divider, Count Bubble, Thumbnail, List icon, Content Formatting, Search Filter Bar, Change Mode List, Checked List</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Date / Time Picker</strong></td><td><strong>ì„¤ëª…</strong>: ë‚ ì§œì™€ ì‹œê°„ì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” Picker ì œê³µ</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: Android Date Picker, Popup Calendar, Android Time Picker, Flip Picker(Date, Time)</td></tr><tr><td><strong>Check/ Radio</strong></td><td><strong>ì„¤ëª…</strong>: Check/Radio í˜•íƒœë¡œ í•­ëª©ì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ ì œê³µ</td></tr><tr><td></td><td><strong>ë°°ì¹˜</strong>: vertical group, horizontal group</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Icon</strong></td><td><strong>ì„¤ëª…</strong>: ëª¨ë°”ì¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì•„ì´ì½˜ ì œê³µ</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: arrow-l, arrow-r, arrow-u, arrow-d, delete, plus, minus, check, gear, refresh, forward, back, grid, star, alert, info, search, home, phone, mail, gps, audio, camera, file, mic, explorer</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Selector / Switch</strong></td><td><strong>ì„¤ëª…</strong>: Selector/Switch í˜•íƒœë¡œ í•­ëª©ì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ ì œê³µ</td></tr><tr><td></td><td><strong>íš¨ê³¼</strong>: pop-up, list</td></tr><tr><td></td><td><strong>ê¸°ëŠ¥</strong>: ë‹¤ì¤‘ì„ íƒ, ë‹¨ì¼ ì„ íƒ</td></tr><tr><td></td><td><strong>ëª¨ì–‘</strong>: ë‘¥ê·¼ í˜•(radius: 1em), ì‚¬ê°í˜•(radius: 0em)</td></tr><tr><td></td><td><strong>ë„“ì´</strong>: í™”ë©´ì— ë§ê²Œ, í…ìŠ¤íŠ¸ì— ë§ê²Œ</td></tr><tr><td></td><td><strong>íš¨ê³¼</strong>: Shadow ì ìš©, Shadow ì œê±°</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: ë¹„ê·¸ë£¹, ê·¸ë£¹</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr><tr><td><strong>Collapsible Block</strong></td><td><strong>ì„¤ëª…</strong>: ì½˜í…ì¸  ì˜ì—­ì„ ì ‘ì—ˆë‹¤ í¼ ìˆ˜ ìˆëŠ” ì»¨íŠ¸ë¡¤ ê¸°ëŠ¥ ì œê³µ</td></tr><tr><td></td><td><strong>í˜•íƒœ</strong>: normal, Group, Nested</td></tr><tr><td></td><td><strong>ìƒ‰ìƒ</strong>: ê²€ì •, íŒŒë‘, íšŒìƒ‰, í°ìƒ‰, ë…¸ë‘, ë¹¨ê°•, ì´ˆë¡</td></tr></tbody></table><h3 id=ux-ì»´í¬ë„ŒíŠ¸ë³„-ë¸Œë¼ìš°ì €-í˜¸í™˜ì„±-ì¤€ìˆ˜-ì§€ì¹¨-ê¸°ì¤€>UX ì»´í¬ë„ŒíŠ¸ë³„ ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ì¤€ìˆ˜ ì§€ì¹¨ ê¸°ì¤€</h3><ol><li>ê·¼ê±° ê¸°ì¤€: ì „ìì •ë¶€ì„œë¹„ìŠ¤ í˜¸í™˜ì„± ì¤€ìˆ˜ì§€ì¹¨(í–‰ì •ì•ˆì „ë¶€ê³ ì‹œ ì œ2010-40í˜¸, 2010. 6. 24)</li><li>ê°œì • ì´ìœ : ëª¨ë°”ì¼ ì „ìì •ë¶€ ì„œë¹„ìŠ¤ ì œê³µì‹œ ì ‘ê·¼ì„± ì œê³ ë“±ì„ ìœ„í•˜ì—¬ ê³µê³µê¸°ê´€ì´ ì¤€ìˆ˜í•´ì•¼ í•  ì‚¬í•­ì„ ê·œì •</li><li>ì£¼ìš” ê°œì • ë‚´ìš©<ul><li>êµ­ë¯¼ë“¤ì´ ë‹¤ì–‘í•œ ëª¨ë°”ì¼ ê¸°ê¸°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ëª¨ë°”ì¼ â€˜ì•±â€™ë°©ì‹ë³´ë‹¤ ëª¨ë°”ì¼â€™ì›¹â€™ë°©ì‹ì„ ê¶Œê³ </li><li>ëª¨ë°”ì¼ ì›¹ ë°©ì‹ ê°œë°œì„ ìœ„í•œ ê¸°ìˆ  í‘œì¤€ ì§€ì¹¨<ul><li>ìµœì†Œ3ì¢… ì´ìƒ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ë™ë“±í•œ ì„œë¹„ìŠ¤ ì œê³µ</li><li>êµ­ì œ í‘œì¤€í™” ê¸°êµ¬ì—ì„œ ì œê³µí•˜ëŠ” í‘œì¤€ ì‚¬ìš© ì˜ë¬´í™”</li></ul></li></ul></li><li>ì „ìì •ë¶€ ëª¨ë°”ì¼ ì„œë¹„ìŠ¤ ì œê³µ ì›ì¹™<ul><li>ë‹¤ì–‘í•œ ìŠ¤ë§ˆíŠ¸í° ì‚¬ìš©ìë“¤ì´ ëª¨ë‘ í˜œíƒì„ ë°›ì„ ìˆ˜ ìˆë„ë¡ ëª¨ë°”ì¼ ì›¹ ë°©ì‹ì˜ ê°œë°œì„ ê¶Œì¥</li><li>ëª¨ë°”ì¼ ê³µí†µì»´í¬ë„ŒíŠ¸ ë³„ ì§€ì› ë¸Œë¼ìš°ì €(í˜¸í™˜ì„±) ì°¸ì¡°</li></ul></li></ol><h3 id=ux-ì»´í¬ë„ŒíŠ¸-ë³„-ì§€ì›-ë¸Œë¼ìš°ì €-í˜¸í™˜ì„±>UX ì»´í¬ë„ŒíŠ¸ ë³„ ì§€ì› ë¸Œë¼ìš°ì € (í˜¸í™˜ì„±)</h3><p><strong>í…ŒìŠ¤íŠ¸ ë””ë°”ì´ìŠ¤</strong></p><p><img src=../images/img_test_device_wbg.png alt=img_test_device></p><p><strong>í…ŒìŠ¤íŠ¸ ë¸Œë¼ìš°ì €</strong></p><p><img src=../images/test_browser.png alt=test_browser></p><p><strong>ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ ì‚¬ìš©ìê²½í—˜(UX)ì§€ì› ë¸Œë¼ìš°ì € ë‚´ìš©</strong></p><p><img src=../images/table_support.png alt=table_support></p><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><p><a href=http://m.egovframe.go.kr/mguide3.5/>ëª¨ë°”ì¼ ì‹¤í–‰í™˜ê²½ ì‚¬ìš©ìê²½í—˜(UX)ì§€ì›ê¸°ëŠ¥ ê°€ì´ë“œ</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-7293ece693e0270846af1dfc6d4eca30>31 - HTML5 CSS3.0 JavaScript Module App Framework ê¸°ë³¸ í™œìš©</h1><div class=lead>ì „ìì •ë¶€ëŠ” íš¨ìœ¨ì ì¸ ìŠ¤ë§ˆíŠ¸ ì „ìì •ë¶€ ì‹œìŠ¤í…œ êµ¬ì¶•ì„ ìœ„í•´ UI/UX Controller Component, HTML5, CSS3, JavaScript Module App Frameworkë¥¼ ì œê³µí•˜ë©°, ì´ ê³¼ì •ì—ì„œ jQuery Mobileì„ í™œìš©í•˜ì—¬ ëª¨ë°”ì¼ ì›¹ ì‚¬ìš©ì ê²½í—˜ì„ ìµœì í™”í•œë‹¤. Ajax ê¸°ë°˜ì˜ í˜ì´ì§€ ì´ë™ ë° ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ì™€ ë©”ì„œë“œë¥¼ ì§€ì›í•˜ì—¬ ë°˜ì‘í˜• ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ìš©ì´í•˜ê²Œ í•œë‹¤.</div><h1 id=html5-css30-javascript-module-app-framework-ê¸°ë³¸-í™œìš©>HTML5 CSS3.0 JavaScript Module App Framework ê¸°ë³¸ í™œìš©</h1><h2 id=ê°œìš”>ê°œìš”</h2><p>ì „ìì •ë¶€ì—ì„œ íš¨ìœ¨ì ì¸ ìŠ¤ë§ˆíŠ¸ ì „ìì •ë¶€ ê¸°ë°˜ ì‹œìŠ¤í…œì˜ êµ¬ì¶•â€¢ìš´ì˜ì„ ìœ„í•´ ì „ìì •ë¶€ì˜ ì„œë¹„ìŠ¤ í’ˆì§ˆ UX ë ˆì´ì–´ë¡œ <strong>UI/UX Controller Component</strong>, <strong>HTML5</strong>, <strong>CSS3</strong>, <strong>JavaScript Module App Framework</strong> ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
ì˜¤í”ˆì†ŒìŠ¤ëŠ” JQuery Mobileì„ ì±„íƒí•˜ì˜€ìœ¼ë©° jQuery Mobileì€ html5, CSS3, javascriptë¥¼ ì œê³µí•œë‹¤. ì´ë¥¼ Customizing í•˜ì—¬ UI ë ˆì´ì–´ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©° ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><ul><li><strong>UI/UX Controller Component</strong> : ëª¨ë°”ì¼ ì›¹ ì‚¬ìš©ì í™˜ê²½(UX/UI)ì— ëŒ€í•œ ìœ ì—°í•œ ëŒ€ì‘ì„ ìœ„í•´ Touch Optimized ëœ í•„ìˆ˜ UI ì»¨íŠ¸ë¡¤ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œê³µí•œë‹¤.</li><li><strong>HTML5</strong> : ëª¨ë°”ì¼ ì›¹ í˜ì´ì§€ êµ¬ì„± ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë§ˆí¬ì—… ì–¸ì–´ë¡œì„œ ëª¨ë°”ì¼ íŠ¹í™” íƒœê·¸ ë° ë””ë°”ì´ìŠ¤ APIë¥¼ ì œê³µí•œë‹¤.</li><li><strong>CSS3</strong> : ëª¨ë°”ì¼ ê¸°ê¸° ë° ë¸Œë¼ìš°ì €ì— ë”°ë¼ ì í•©í•œ ì»´í¬ë„ŒíŠ¸ê°€ ë³´ì´ê²Œ í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</li><li><strong>JavaScript Module App Framework</strong> : UX/UI controller componentì˜ íš¨ìœ¨ì„±ì„ ë³´ì¥í•˜ëŠ” javascript ë° Json êµ¬ì¡°ë¥¼ ì œê³µí•œë‹¤.</li></ul><h2 id=ì„¤ëª…>ì„¤ëª…</h2><h3 id=ê¸°ë³¸-í™œìš©-êµ¬ì¡°>ê¸°ë³¸ í™œìš© êµ¬ì¡°</h3><p>ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ ì‹¤í–‰í™˜ê²½ì€ ê¸°ì¡´ ì „ìì •ë¶€ í‘œì¤€í”„ë ˆì„ì›Œí¬ì˜ ë””ë ‰í„°ë¦¬ êµ¬ì¡° ë° í‘œì¤€ì„ ì¤€ìˆ˜í•˜ê³  ìˆìœ¼ë©°, ëª¨ë°”ì¼ ì›¹ ê°œë°œì— í¸ì˜ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ í•˜ìœ„ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ê³  ìˆë‹¤.</p><ul><li><p>í”„ë¡œì íŠ¸ì˜ í•˜ìœ„ í´ë”ì¸ â€˜srcâ€™ì— ì‹¤í–‰í™˜ê²½ì„ ì§€ì›í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° JSP íŒŒì¼ì´ ì¡´ì¬í•œë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” CSS, JavaScript ë° ì´ë¯¸ì§€ íŒŒì¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.</p><p><img src=../images/html5etc-mrtelib.jpg alt="ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ ì‹¤í–‰í™˜ê²½ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ë¡œ ì´ë¯¸ì§€"></p></li><li><p>ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€ í”„ë ˆì„ì›Œí¬ëŠ” CSS ë° JavaScriptë¥¼ ì´ìš©í•˜ì—¬ ì‹¤í–‰í™˜ê²½ì„ ì œê³µí•˜ë©° CSS, javascript, imageëŠ” ê°ê° ìœ ê¸°ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆë‹¤.</p><p><img src=../images/html5etc-mrtelib2.jpg alt="ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ ì‹¤í–‰í™˜ê²½ì˜ CSS, JavaScript, Images ì„¤ëª…"></p></li><li><p>HTML5 <tag>íŒ¨í„´ì¸ â€˜data-roleâ€™ ì†ì„±ì— ì ìš©ëœ ê°’ì— ë”°ë¼ Page, Header, Content, Footer ì˜ì—­ìœ¼ë¡œ êµ¬ë¶„ëœë‹¤.</p><p><img src=../images/html5etc-mrtelib3.jpg alt="ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ ì‹¤í–‰í™˜ê²½ì˜ ì˜ì—­ ì„¤ëª…"></p></li></ul><h3 id=javascript-êµ¬ì¡°ì™€-ajax-ì²˜ë¦¬>javascript êµ¬ì¡°ì™€ Ajax ì²˜ë¦¬</h3><p>ëª¨ë°”ì¼ í˜ì´ì§€ ì´ë™ì€ ê¸°ë³¸ì ìœ¼ë¡œ Ajaxë¥¼ ì´ìš©í•˜ì—¬ ì²˜ë¦¬ëœë‹¤. ì´ëŠ” ëª¨ë°”ì¼ì— ìµœì í™”ëœ í™”ë©´ ì „í™˜ íš¨ê³¼ë¥¼ ì£¼ê¸° ìœ„í•¨ìœ¼ë¡œ ì˜µì…˜ ì„¤ì •ì„ í†µí•´ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤.</p><ul><li><p>í˜ì´ì§€ ë‚´ë¶€ ì´ë™</p><ul><li><p>í•˜ë‚˜ì˜ HTML íŒŒì¼ ì•ˆì— ì—¬ëŸ¬ pageê°€ ì„ ì–¸ë˜ì–´ ìˆëŠ” ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ ëª¨ë°”ì¼ page êµ¬ì„±ì˜ ê¸°ë³¸ ë°©ì‹ì´ë‹¤.</p></li><li><p>í˜ì´ì§€ ë‚´ë¶€ ì´ë™ì€ Ajax í†µì‹ ì„ ì‚¬ìš©í•˜ë©° pageë¡œ ì„ ì–¸ëœ div íƒœê·¸ì˜ id ê°’ì„ ë§í¬ì˜ href ì†ì„± ê°’(#pageId)ìœ¼ë¡œ ì ìš©í•˜ì—¬ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. (í•œ HTML ë‚´ì— ì—¬ëŸ¬ pageê°€ ì„ ì–¸ë˜ì–´ ìˆì„ ê²½ìš° ì œì¼ ìƒë‹¨ì˜ pageë¥¼ ì²« í™”ë©´ìœ¼ë¡œ ì¸ì‹í•œë‹¤.)</p></li><li><p>í˜ì´ì§€ ë‚´ë¶€ ì´ë™ì€ Ajax ë°©ì‹ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸ì— ì—°ì†ì ìœ¼ë¡œ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•˜ë©´ DOM ê°ì²´ë¥¼ ì œëŒ€ë¡œ ëª» ë¶ˆëŸ¬ ì˜¬ ê²½ìš°ê°€ ìˆìœ¼ë¯€ë¡œ ì™¸ë¶€ í˜ì´ì§€ ì´ë™ì„ ê¶Œì¥í•œë‹¤.</p><p><img src=../images/html5etc-mrtelib4.jpg alt="ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ ì‹¤í–‰í™˜ê²½ í˜ì´ì§€ ë‚´ë¶€ ì´ë™"></p></li></ul></li><li><p>í˜ì´ì§€ ì™¸ë¶€ ì´ë™</p><ul><li>í˜ì´ì§€ ì™¸ë¶€ ì´ë™ì€ Ajax í†µì‹ ì„ ì´ìš©í•˜ë©° Ajaxë¡œ í˜¸ì¶œí•œ htmlì˜ data-role=â€œpageâ€ ì˜ì—­ë§Œ ì½ì–´ ë“¤ì—¬ì„œ í˜¸ì¶œí•œ html í˜ì´ì§€ì˜ DOM ìš”ì†Œì— ì¶”ê°€í•´ ì¤€ë‹¤. (í˜ì´ì§€ ë‚´ë¶€ ì´ë™ê³¼ ìœ ì‚¬ í•œ êµ¬ì¡°ë¡œ DOM ê´€ë¦¬)<ul><li><p>Ajaxë¡œ í˜¸ì¶œëœ HTMLì˜ page ì˜ì—­ë§Œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— í˜¸ì¶œëœ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•˜ëŠ” JavaScript, CSS ë“±ì€ í˜¸ì¶œì„ í•œ HTML ë‚´ì— ì¡´ì¬í•´ì•¼ í•œë‹¤.</p></li><li><p>Ajax í†µì‹ ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì§€ ì•Šì€ ê²½ìš° Internal / External UX Componentë¥¼ ì°¸ì¡°í•˜ì—¬ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤.</p><p><img src=../images/html5etc-mrtelib5.jpg alt="ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ ì‹¤í–‰í™˜ê²½ í˜ì´ì§€ ì™¸ë¶€ ì´ë™"></p></li></ul></li></ul></li><li><p>mobileinit ì´ë²¤íŠ¸ì™€ ê¸°ë³¸ í™˜ê²½ ì„¤ì •</p><ul><li>ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ëŠ” ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë  ë•Œ ê°ì¢… ì´ˆê¸°í™” ì‘ì—…ì´ ìˆ˜í–‰ë  ìˆ˜ ìˆë„ë¡ mobileinit ì´ë²¤íŠ¸ë¥¼ í†µí•˜ì—¬ ê¸°ë³¸ í™˜ê²½ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</li><li>mobileinit ì´ë²¤íŠ¸ëŠ” pageê°€ ì‹œì‘ë˜ìë§ˆì ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¡œ ì²« ë²ˆì§¸ ì´ˆê¸°í™” ì‘ì—… ì‹œ ì‹¤í–‰ë˜ë©°, í•¨ìˆ˜ ë‚´ë¶€ì— ì—¬ëŸ¬ ì´ë²¤íŠ¸ë¥¼ ì ìš©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87>document</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>bind</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;mobileinit&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(){</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>//apply overrides here
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>});</span>
</span></span></code></pre></div></li><li>mobileinit ì´ë²¤íŠ¸ëŠ” ì‹¤í–‰ ì¦‰ì‹œ ë°œìƒí•˜ë¯€ë¡œ jquerymoible.jsê°€ ë¡œë“œë˜ê¸° ì „ì— ë°”ì¸ë”© ë˜ì–´ì•¼ í•œë‹¤. ë‹¤ì‹œ ë§í•´ mobileinit ì´ë²¤íŠ¸ì˜ ìœ„ì¹˜ëŠ” jquery ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ jquerymobile ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ì´ì— ìœ„ì¹˜ í•´ì•¼ í•œë‹¤.<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;jquery.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;custom-scripting.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;jquery-mobile.js&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div></li></ul></li><li><p>$.mobile ê°ì²´ë¥¼ í†µí•´ ì¬ì„¤ì •ì´ ê°€ëŠ¥í•œ ì£¼ìš” ê¸°ë³¸ í™˜ê²½ì„¤ì •</p><table><thead><tr><th>ê¸°ë³¸ í™˜ê²½ì„¤ì •</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>loadingMessage (string, default: â€œloadingâ€)</td><td>í˜ì´ì§€ê°€ ë¡œë”©ë  ë•Œ ë‚˜íƒ€ë‚˜ëŠ” í…ìŠ¤íŠ¸ë¥¼ ì„¤ì •í•œë‹¤. â€˜falseâ€™ë¡œ ì„¤ì •í•˜ë©´ ë¡œë”© ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ”ë‹¤.</td></tr><tr><td>pageLoadErrorMessage (string, default: â€œError Loading Pageâ€)</td><td>Ajax ë°©ì‹ì˜ í˜ì´ì§€ ì´ë™ì—ì„œ í˜ì´ì§€ë¥¼ ë¡œë“œí•˜ì§€ ëª»í–ˆì„ ê²½ìš° ë‚˜íƒ€ë‚˜ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ì˜ í…ìŠ¤íŠ¸ë¥¼ ì„¤ì •í•œë‹¤.</td></tr><tr><td>defaultDialogTransition (string, default: &lsquo;pop&rsquo;)</td><td>ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ Ajax ë°©ì‹ì„ í†µí•œ í˜ì´ì§€ ì „í™˜ì— ê´€ì—¬í•˜ëŠ” ê¸°ë³¸ í™˜ê²½ì„¤ì •ì„ ë³€ê²½í•œë‹¤. defaultDialogTransition ì˜µì…˜ì„ â€˜noneâ€™ìœ¼ë¡œ ì„¤ì •í•˜ë©´ í™”ë©´ì „í™˜ íš¨ê³¼ê°€ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.</td></tr><tr><td>defaultPageTransition (string, default: &lsquo;slide&rsquo;)</td><td>Ajax ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” í˜ì´ì§€ ì „í™˜ì— ê´€ì—¬í•˜ëŠ” ê¸°ë³¸ í™˜ê²½ì„¤ì •ì„ ë³€ê²½í•œë‹¤. defaultPageTransition ì˜µì…˜ì„ â€˜noneâ€™ìœ¼ë¡œ ì„¤ì •í•˜ë©´ í™”ë©´ì „í™˜ íš¨ê³¼ê°€ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.</td></tr><tr><td>ajaxEnabled (boolean, default: true)</td><td>ëª¨ë“  ë§í¬ ì´ë™ì´ë‚˜ í¼ ì „ì†¡ì€ ê¸°ë³¸ì ìœ¼ë¡œ Ajax ë°©ì‹ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ê³  ìˆë‹¤. Ajaxê°€ ì•„ë‹ˆë¼ ì¼ë°˜ ë°©ì‹ìœ¼ë¡œ í˜ì´ì§€ ì´ë™ì„ ì²˜ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´ ì´ ê°’ì„ â€˜falseâ€™ë¡œ ì§€ì •í•œë‹¤.</td></tr></tbody></table></li><li><p>ì´ë²¤íŠ¸</p><ul><li><p>ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ëŠ” ìŠ¤ë§ˆíŠ¸ ê¸°ë°˜ ëª¨ë°”ì¼ í™˜ê²½ì— ì í•©í•œ ì´ë²¤íŠ¸ë¥¼ ì„ ë³„í•˜ì—¬ ì œê³µí•œë‹¤. Touch, Mouse, Window ì˜ì—­ì˜ ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ë¥¼ ì§€ì› ê°€ëŠ¥ ì—¬ë¶€ì— ë”°ë¼ ì„ íƒì ìœ¼ë¡œ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ëª¨ë°”ì¼ í™˜ê²½ê³¼ ë°ìŠ¤í¬í†±(Desktop) í™˜ê²½ ëª¨ë‘ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. live() ë˜ëŠ” bind() ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ ì—¬ëŸ¬ ì´ë²¤íŠ¸ë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p></li><li><p>ì§€ì› í„°ì¹˜ ì´ë²¤íŠ¸</p><table><thead><tr><th>í„°ì¹˜ ì´ë²¤íŠ¸</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>tap</td><td>Touchê°€ ê°ì§€ë˜ë©´ ì¦‰ì‹œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr><tr><td>taphold</td><td>tapì„ ì¼ì • ì‹œê°„ ì´ìƒ ì§€ì†í–ˆì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr><tr><td>swipe</td><td>30pixel ì´ìƒì˜ ìˆ˜í‰ ë°©í–¥ì´ë‚˜ 20pixel ì´ìƒì˜ ìˆ˜ì§ ë°©í–¥ìœ¼ë¡œ ë“œë˜ê·¸(drag) ë˜ë©´ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr><tr><td>swipeleft</td><td>swipe ì´ë²¤íŠ¸ê°€ ì™¼ìª½ìœ¼ë¡œ ì¼ì–´ë‚¬ì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr><tr><td>swiperight</td><td>swipe ì´ë²¤íŠ¸ê°€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì¼ì–´ë‚¬ì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr></tbody></table></li><li><p>ì§€ì› í™”ë©´ ë°©í–¥ ì „í™˜ ë° ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸</p><table><thead><tr><th>í™”ë©´ ë°©í–¥ ì „í™˜ ë° ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>orientationChange</td><td>ê¸°ê¸°ì˜ ë°©í–¥ì´ ìˆ˜í‰ ë˜ëŠ” ìˆ˜ì§ìœ¼ë¡œ ë°”ë€Œì—ˆì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤. orientationChange ì´ë²¤íŠ¸ê°€ ì§€ì›ë˜ì§€ ì•Šì„ ê²½ìš°ì—ëŠ” resize ì´ë²¤íŠ¸ê°€ ìë™ìœ¼ë¡œ bind ëœë‹¤.</td></tr><tr><td>scrollstart</td><td>ìŠ¤í¬ë¡¤(scroll)ì´ ì‹œì‘ë˜ë©´ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤. (iOS ê¸°ê¸°ëŠ” ìŠ¤í¬ë¡¤ ì¤‘ì—ëŠ” DOM ì„ ë³€ê²½í•˜ì§€ ì•Šê³  queueì— ì €ì¥í•´ë‘ì—ˆë‹¤ê°€ ìŠ¤í¬ë¡¤ì´ ëë‚œ í›„ì— ë³€ê²½í•œë‹¤.)</td></tr><tr><td>scrollstop</td><td>ìŠ¤í¬ë¡¤ì´ ëë‚˜ë©´ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr></tbody></table></li><li><p>ì§€ì› í˜ì´ì§€ ì´ë²¤íŠ¸</p><table><thead><tr><th>í˜ì´ì§€ ì´ë²¤íŠ¸</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>pagebeforecreate</td><td>í˜ì´ì§€ê°€ ì´ˆê¸°í™”ë˜ê¸° ì§ì „ì— ë°œìƒí•˜ë©° í˜ì´ì§€ ë¡œë”© ì‹œ ê°€ì¥ ë¨¼ì € ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤. í˜ì´ì§€ ìƒì„± ì‹œì—ë§Œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œë‹¤.</td></tr><tr><td>pagecreate</td><td>í˜ì´ì§€ ì´ˆê¸°í™”ê°€ ëë‚˜ë©´ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤. í˜ì´ì§€ ìƒì„±ì´ ì™„ë£Œëœ ì‹œì ì—ë§Œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œë‹¤.</td></tr><tr><td>pagebeforeshow</td><td>í™”ë©´ì „í™˜ì´ ì¼ì–´ë‚˜ê¸° ì „, ì¦‰ í˜ì´ì§€ê°€ ë³´ì´ê¸° ì „ì— ë§¤ë²ˆ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr><tr><td>pageshow</td><td>í™”ë©´ì „í™˜ì´ ì™„ë£Œë˜ì—ˆê±°ë‚˜ í˜ì´ì§€ê°€ ë³´ì¸ í›„ì— ë§¤ë²ˆ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr><tr><td>pagebeforehide</td><td>í™”ë©´ì „í™˜ì´ ì¼ì–´ë‚˜ê¸° ì „, ì¦‰ í˜ì´ì§€ê°€ ìˆ¨ê²¨ì§€ê¸° ì „ì— ë§¤ë²ˆ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr></tbody></table></li><li><p>Visual Mouse event</p><table><thead><tr><th>í˜ì´ì§€ ì´ë²¤íŠ¸</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>vmouseover</td><td>í„°ì¹˜ ì´ë²¤íŠ¸ ë˜ëŠ” mouseoverê°€ ë°œìƒí•  ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr><tr><td>vmousedown</td><td>í„°ì¹˜ ì´ë²¤íŠ¸ ë˜ëŠ” mousedownì´ ë°œìƒí•  ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr><tr><td>vmousemove</td><td>í„°ì¹˜ ì´ë²¤íŠ¸ ë˜ëŠ” mousemoveê°€ ë°œìƒí•  ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr><tr><td>vmouseup</td><td>í„°ì¹˜ ì´ë²¤íŠ¸ ë˜ëŠ” mouseupì´ ë°œìƒí•  ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.</td></tr></tbody></table></li></ul></li><li><p>ë©”ì„œë“œ & ìœ í‹¸ë¦¬í‹°</p><ul><li>ì „ìì •ë¶€ ëª¨ë°”ì¼ í‘œì¤€í”„ë ˆì„ì›Œí¬ëŠ” $.mobile ê°ì²´ì— ëŒ€í•œ ë©”ì„œë“œì™€ ì†ì„±ë“¤ì„(properties) ì œê³µí•œë‹¤.<table><thead><tr><th>ë©”ì„œë“œ</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>$.mobile.changePage(method)</td><td>í”„ë¡œê·¸ë¨ ì½”ë“œ ìƒì—ì„œ í˜ì´ì§€ë¥¼ ì´ë™í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ì£¼ë¡œ í™”ë©´ì „í™˜, í˜ì´ì§€ ë¡œë”© ë“±ì˜ ê¸°ëŠ¥ì´ ê°€ëŠ¥í•œ í™˜ê²½ì—ì„œ ë§í¬ í´ë¦­ì´ë‚˜ í¼ ì „ì†¡ì„ í•  ë•Œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.</td></tr><tr><td>$.mobile.loadPage(method)</td><td>ì™¸ë¶€ í˜ì´ì§€ë¥¼ ë¡œë“œí•˜ê³ , DOMì— ì¶”ê°€í•œë‹¤. ì´ ë©”ì„œë“œëŠ” ì²« ë²ˆì§¸ ì¸ìë¡œ URLì´ ì˜¬ ë•Œ changePage() í•¨ìˆ˜ë¥¼ í†µí•´ ë‚´ë¶€ì ìœ¼ë¡œ í˜¸ì¶œëœë‹¤. ì´ í•¨ìˆ˜ëŠ” í˜„ì¬ í™œì„±í™”ëœ í˜ì´ì§€ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•Šê³ , ë°±ê·¸ë¼ìš´ë“œì—ì„œ í˜ì´ì§€ë¥¼ ë¡œë“œ í•  ë•Œ ì‚¬ìš©ëœë‹¤.</td></tr><tr><td>$.mobile.loading(â€œshowâ€)</td><td>í˜ì´ì§€ ë¡œë”© ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤€ë‹¤.</td></tr><tr><td>$.mobile.loading(â€œhideâ€)</td><td>í˜ì´ì§€ ë¡œë”© ë©”ì‹œì§€ë¥¼ ìˆ¨ê¸´ë‹¤.</td></tr></tbody></table></li></ul></li></ul><h2 id=ì°¸ê³ ìë£Œ>ì°¸ê³ ìë£Œ</h2><ul><li>ğŸŒ <a href=https://www.w3.org/TR/html5/>HTML5</a></li><li>ğŸŒ <a href=https://www.w3.org/TR/css3-selectors/>CSS3</a></li><li>ğŸŒ <a href=https://jquerymobile.com>JavaScript Module App Framework</a></li></ul></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/eGovFramework/egovframe-docs aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2016&ndash;2024
<span class=td-footer__authors>eGovFrame | <a href="https://www.egovframe.go.kr/home/sub.do?menuNo=23">Apache 2.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href="https://www.egovframe.go.kr/home/sub.do?menuNo=77" target=_blank rel=noopener>ê°œì¸ì •ë³´ ë³´í˜¸ ì •ì±…</a></span></div></div></div></footer></div><script src=/egovframe-docs/js/main.min.4eb19af2236072614b7d308c10176f918f1b447443492377d98b5b2c5e44aac3.js integrity="sha256-TrGa8iNgcmFLfTCMEBdvkY8bRHRDSSN32YtbLF5EqsM=" crossorigin=anonymous></script>
<script defer src=/egovframe-docs/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script>
<script src=/egovframe-docs/js/tabpane-persist.js></script></body></html>