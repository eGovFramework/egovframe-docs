<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=ko class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://eGovFramework.github.io/egovframe-docs/egovframe-runtime/integration-layer/><link rel=alternate type=application/rss+xml href=https://eGovFramework.github.io/egovframe-docs/egovframe-runtime/integration-layer/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/egovframe-docs/favicons/favicon.ico><link rel=apple-touch-icon href=/egovframe-docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/egovframe-docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/egovframe-docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/egovframe-docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/egovframe-docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/egovframe-docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/egovframe-docs/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/egovframe-docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/egovframe-docs/favicons/android-192x192.png sizes=192x192><title>연계통합 | 표준프레임워크 개발가이드</title><meta name=description content="연계통합 레이어는 타 시스템과의 연동기능을 지원한다."><meta property="og:title" content="연계통합"><meta property="og:description" content="연계통합 레이어는 타 시스템과의 연동기능을 지원한다."><meta property="og:type" content="website"><meta property="og:url" content="https://eGovFramework.github.io/egovframe-docs/egovframe-runtime/integration-layer/"><meta itemprop=name content="연계통합"><meta itemprop=description content="연계통합 레이어는 타 시스템과의 연동기능을 지원한다."><meta name=twitter:card content="summary"><meta name=twitter:title content="연계통합"><meta name=twitter:description content="연계통합 레이어는 타 시스템과의 연동기능을 지원한다."><link rel=preload href=/egovframe-docs/scss/main.min.7cb61f458a74a1330f233190743332282dda27b055efc935bc0fc018f7e27288.css as=style integrity="sha256-fLYfRYp0oTMPIzGQdDMyKC3aJ7BV78k1vA/AGPficog=" crossorigin=anonymous><link href=/egovframe-docs/scss/main.min.7cb61f458a74a1330f233190743332282dda27b055efc935bc0fc018f7e27288.css rel=stylesheet integrity="sha256-fLYfRYp0oTMPIzGQdDMyKC3aJ7BV78k1vA/AGPficog=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/egovframe-docs/><span class="navbar-brand__logo navbar-logo"><svg width="130" height="29" viewBox="0 0 130 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.125 28.2578C5.83594 28.2578 4.71875 27.9922 3.77344 27.4609 2.83594 26.9297 2.11328 26.1719 1.60547 25.1875c-.50781-.9922-.76172-2.1563-.76172-3.4922.0-1.3047.25-2.4531.75-3.4453.50781-1 1.22656-1.7734 2.15625-2.3203s2.00781-.8203 3.23438-.8203C8.125 15.1094 9.14453 15.3516 10.043 15.8359 10.9492 16.3125 11.6602 17.0352 12.1758 18.0039 12.6992 18.9727 12.9609 20.1562 12.9609 21.5547V22.5391H4.26562c0 .6328.11719 1.1836.35157 1.6523C4.85938 24.6602 5.19922 25.0234 5.63672 25.2812c.445309999999999.25.96484.375 1.55859.375C7.76562 25.6562 8.25781 25.543 8.67188 25.3164 9.08594 25.082 9.38281 24.7656 9.5625 24.3672h3.3047C12.7031 25.1484 12.3672 25.832 11.8594 26.418 11.3516 27.0039 10.6914 27.457 9.87891 27.7773 9.07422 28.0977 8.15625 28.2578 7.125 28.2578zm2.55469-7.8984C9.67969 19.8516 9.56641 19.3984 9.33984 19 9.12109 18.5938 8.8125 18.2773 8.41406 18.0508 8.01562 17.8242 7.5625 17.7109 7.05469 17.7109c-.51563.0-.98438.1172-1.40625.351600000000001C5.23438 18.2969 4.90234 18.6172 4.65234 19.0234 4.41016 19.4297 4.28125 19.875 4.26562 20.3594H9.67969zM26.4844 16.4922C26.25 15.6875 25.8164 15.0586 25.1836 14.6055 24.5586 14.1445 23.7891 13.9141 22.875 13.9141c-.875.0-1.6445.2187-2.3086.6562C19.9023 15.0078 19.3867 15.6484 19.0195 16.4922 18.6523 17.3281 18.4688 18.3281 18.4688 19.4922 18.4688 20.6719 18.6484 21.6836 19.0078 22.5273 19.375 23.3711 19.8906 24.0156 20.5547 24.4609 21.2188 24.8984 22 25.1172 22.8984 25.1172 23.6953 25.1172 24.3828 24.9766 24.9609 24.6953 25.5469 24.4062 25.9961 23.9961 26.3086 23.4648 26.6289 22.9336 26.7969 22.3125 26.8125 21.6016H23.1328V18.9531h7.0781v2.1094c0 1.4609-.3125 2.7344-.9375 3.8203-.6172 1.0781-1.4804 1.9063-2.5898 2.4844C25.5742 27.9453 24.3047 28.2344 22.875 28.2344 21.2969 28.2344 19.9023 27.8828 18.6914 27.1797 17.4883 26.4688 16.5508 25.4609 15.8789 24.1562c-.6641-1.3124-.9961-2.8515-.9961-4.6171.0-1.7891.3438-3.3438 1.0313-4.6641C16.6016 13.5547 17.5469 12.5469 18.75 11.8516 19.9531 11.1484 21.3047 10.7969 22.8047 10.7969c1.2578.0 2.4062.242199999999999 3.4453.7265C27.2969 12 28.1523 12.6719 28.8164 13.5391 29.4805 14.3984 29.8906 15.3828 30.0469 16.4922H26.4844zM38.4375 28.2578c-1.2656.0-2.3672-.273399999999999-3.3047-.8203S33.4727 26.1211 32.9648 25.1289C32.457 24.1289 32.2031 22.9766 32.2031 21.6719s.25-2.4531.75-3.4453C33.4609 17.2344 34.1836 16.4688 35.1211 15.9297 36.0664 15.3828 37.1719 15.1094 38.4375 15.1094S40.8086 15.3828 41.7539 15.9297C42.6992 16.4688 43.4258 17.2344 43.9336 18.2266 44.4414 19.2188 44.6953 20.3672 44.6953 21.6719S44.4414 24.1289 43.9336 25.1289C43.4258 26.1211 42.6992 26.8906 41.7539 27.4375 40.8086 27.9844 39.7031 28.2578 38.4375 28.2578zM38.4609 25.5625C39.0391 25.5625 39.5312 25.3984 39.9375 25.0703 40.3438 24.7344 40.6484 24.2734 40.8516 23.6875 41.0547 23.1016 41.1562 22.4297 41.1562 21.6719S41.0547 20.2422 40.8516 19.6562C40.6484 19.0625 40.3438 18.5977 39.9375 18.2617 39.5312 17.9258 39.0391 17.7578 38.4609 17.7578 37.875 17.7578 37.375 17.9258 36.9609 18.2617 36.5547 18.5977 36.2461 19.0625 36.0352 19.6562 35.8242 20.2422 35.7188 20.9141 35.7188 21.6719 35.7188 22.4219 35.8242 23.0938 36.0352 23.6875 36.2461 24.2734 36.5547 24.7344 36.9609 25.0703 37.375 25.3984 37.875 25.5625 38.4609 25.5625zM53.7891 28H49.8984L45.4453 15.2734H49.1016l2.6718 9.1407H51.9141l2.6718-9.1407h3.6797L53.7891 28zM60.0234 11.0312H71.2031v2.9063H63.5391v4.125H70.4766v2.9063H63.5391V28H60.0234V11.0312zm13.2188 4.2422H76.5938v2.2032H76.7344C76.9609 16.7031 77.3477 16.1133 77.8945 15.707 78.4414 15.293 79.0781 15.0859 79.8047 15.0859 80.2031 15.0859 80.5703 15.125 80.9062 15.2031v3.0938C80.7344 18.25 80.5039 18.207 80.2148 18.168 79.9258 18.1289 79.6641 18.1094 79.4297 18.1094 78.9141 18.1094 78.4492 18.2227 78.0352 18.4492 77.6211 18.6758 77.2969 18.9922 77.0625 19.3984 76.8281 19.7969 76.7109 20.25 76.7109 20.7578V28H73.2422V15.2734zM81.6328 24.4375C81.6328 23.125 82.0742 22.1641 82.957 21.5547 83.8398 20.9453 84.9766 20.6016 86.3672 20.5234 87.2266 20.4688 88.2812 20.4141 89.5312 20.3594V19.3281C89.5156 18.7969 89.332 18.3828 88.9805 18.0859 88.6289 17.7891 88.1328 17.6406 87.4922 17.6406 86.9141 17.6406 86.4414 17.7656 86.0742 18.0156 85.707 18.2656 85.4766 18.6094 85.3828 19.0469H82.0781C82.1484 18.2969 82.4062 17.625 82.8516 17.0312 83.3047 16.4375 83.9336 15.9688 84.7383 15.625 85.543 15.2812 86.4922 15.1094 87.5859 15.1094 88.5547 15.1094 89.4453 15.2617 90.2578 15.5664 91.0781 15.8711 91.7344 16.3477 92.2266 16.9961c.5.640600000000003.75 1.4492.75 2.4258V28H89.6953V26.2422H89.6016C89.2656 26.8594 88.7852 27.3477 88.1602 27.707 87.543 28.0586 86.7812 28.2344 85.875 28.2344 85.0469 28.2344 84.3125 28.0938 83.6719 27.8125 83.0391 27.5234 82.5391 27.0938 82.1719 26.5234 81.8125 25.9531 81.6328 25.2578 81.6328 24.4375zM84.9609 24.3438C84.9609 24.8203 85.1328 25.1914 85.4766 25.457 85.8281 25.7148 86.2891 25.8438 86.8594 25.8438 87.375 25.8438 87.8359 25.7383 88.2422 25.5273 88.6562 25.3164 88.9766 25.0273 89.2031 24.6602 89.4297 24.293 89.5391 23.8906 89.5312 23.4531V22.5273C89.1641 22.5352 88.7109 22.5547 88.1719 22.5859 87.6328 22.6172 87.2188 22.6484 86.9297 22.6797 86.3203 22.7422 85.8398 22.9141 85.4883 23.1953 85.1367 23.4766 84.9609 23.8594 84.9609 24.3438zM95.625 15.2734h3.3047V17.5H99.0703C99.3438 16.7578 99.7891 16.1758 100.406 15.7539 101.023 15.3242 101.758 15.1094 102.609 15.1094 103.484 15.1094 104.227 15.3242 104.836 15.7539 105.453 16.1758 105.867 16.7578 106.078 17.5H106.195C106.469 16.7656 106.945 16.1836 107.625 15.7539 108.305 15.3242 109.109 15.1094 110.039 15.1094 110.828 15.1094 111.523 15.2812 112.125 15.625 112.734 15.9609 113.207 16.457 113.543 17.1133 113.879 17.7617 114.047 18.5391 114.047 19.4453V28H110.578V20.125C110.578 19.4219 110.395 18.8867 110.027 18.5195 109.668 18.1523 109.188 17.9688 108.586 17.9688 107.938 17.9688 107.43 18.1758 107.062 18.5898 106.703 18.9961 106.523 19.5391 106.523 20.2188V28h-3.375V20.0312C103.148 19.4062 102.969 18.9062 102.609 18.5312 102.25 18.1562 101.773 17.9688 101.18 17.9688 100.789 17.9688 100.434 18.0703 100.113 18.2734 99.8008 18.4688 99.5508 18.7461 99.3633 19.1055 99.1836 19.4648 99.0938 19.8828 99.0938 20.3594V28H95.625V15.2734zm26.859 12.9844C121.195 28.2578 120.078 27.9922 119.133 27.4609 118.195 26.9297 117.473 26.1719 116.965 25.1875 116.457 24.1953 116.203 23.0312 116.203 21.6953c0-1.3047.25-2.4531.75-3.4453C117.461 17.25 118.18 16.4766 119.109 15.9297 120.039 15.3828 121.117 15.1094 122.344 15.1094 123.484 15.1094 124.504 15.3516 125.402 15.8359 126.309 16.3125 127.02 17.0352 127.535 18.0039 128.059 18.9727 128.32 20.1562 128.32 21.5547V22.5391H119.625C119.625 23.1719 119.742 23.7227 119.977 24.1914 120.219 24.6602 120.559 25.0234 120.996 25.2812 121.441 25.5312 121.961 25.6562 122.555 25.6562 123.125 25.6562 123.617 25.543 124.031 25.3164 124.445 25.082 124.742 24.7656 124.922 24.3672H128.227C128.062 25.1484 127.727 25.832 127.219 26.418 126.711 27.0039 126.051 27.457 125.238 27.7773 124.434 28.0977 123.516 28.2578 122.484 28.2578zM125.039 20.3594C125.039 19.8516 124.926 19.3984 124.699 19 124.48 18.5938 124.172 18.2773 123.773 18.0508 123.375 17.8242 122.922 17.7109 122.414 17.7109 121.898 17.7109 121.43 17.8281 121.008 18.0625 120.594 18.2969 120.262 18.6172 120.012 19.0234 119.77 19.4297 119.641 19.875 119.625 20.3594h5.414z" fill="#fff"/><path d="M8.39844 7.91211H.263672V6.91602H2.28516V5.22656H.9375V4.2207H2.12891v-2.5H.898438V.724609H7.71484V1.7207h-1.25v2.5H7.67578V5.22656H6.33789V6.91602H8.39844V7.91211zM5.23438 4.2207v-2.5H3.37891v2.5H5.23438zM5.08789 6.91602V5.22656H3.53516V6.91602H5.08789zM16.2793 1.36914H13.8281C13.8802 1.62305 14.0186 1.86556 14.2432 2.09668c.2278.23112.5452.43131.9521.60059.4069.16601.8919.27994 1.4551.34179l-.459.97656C15.3809 3.92448 14.6973 3.72103 14.1406 3.40527 13.584 3.08626 13.1868 2.69076 12.9492 2.21875c-.2409.47201-.638.86751-1.1914 1.18652-.5534.31576-1.2337.51921-2.041.61035L9.26758 3.03906C9.82747 2.97721 10.3092 2.86165 10.7129 2.69238c.4069-.16927.7226-.36946.9473-.60058C11.888 1.86068 12.028 1.61979 12.0801 1.36914H9.64844V.392578H16.2793V1.36914zM17.0312 5.43164H13.6816v1.5332H12.4512V5.43164H8.89648V4.43555H17.0312v.99609zM16.1328 8.74219H9.85352V6.17383H11.0938V7.74609h5.039V8.74219zM25.6836 7.86328H17.5488V6.82812h8.1348V7.86328zM25 1.78906H23.75V4.48438h1.2109v.97656H18.2227V4.48438h1.1914V1.78906H18.1836V.792969H25V1.78906zM22.5195 4.48438V1.78906H20.6641V4.48438h1.8554zm7.0703-.21485H27.6367V5.7832C28.1315 5.77669 28.5824 5.75879 28.9893 5.72949 29.3994 5.69694 29.8177 5.63997 30.2441 5.55859L30.3516 6.57422C29.8275 6.67188 29.3229 6.73535 28.8379 6.76465 28.3529 6.79395 27.7637 6.81185 27.0703 6.81836h-.625V3.2832h1.9434V1.88672H26.4355V.900391h3.1543V4.26953zM33.877 8.89844H32.6953V.0117188H33.877V8.89844zM32.0312 8.46875H30.8691V4.05469H29.9609V3.04883H30.8691V.177734h1.1621V8.46875zM42.2754 5.04102h-1.25V.0214844h1.25V5.04102zm0 3.75976h-5.957V5.44141h5.957V8.80078zm-4.7266-.99609h3.5059V6.42773H37.5488V7.80469zM37.4023.421875C37.8613.421875 38.2747.513021 38.6426.695312 39.0137.877604 39.305 1.13151 39.5166 1.45703 39.7282 1.78255 39.834 2.15365 39.834 2.57031 39.834 2.9707 39.7282 3.33203 39.5166 3.6543 39.305 3.97656 39.0137 4.23047 38.6426 4.41602 38.2715 4.59831 37.8581 4.68945 37.4023 4.68945 36.9466 4.68945 36.5332 4.59831 36.1621 4.41602 35.791 4.23047 35.4997 3.97656 35.2881 3.6543 35.0765 3.33203 34.9707 2.9707 34.9707 2.57031 34.9707 2.15365 35.0765 1.78255 35.2881 1.45703S35.7894.877604 36.1572.695312C36.5283.513021 36.9434.421875 37.4023.421875zm0 1.044925C37.1647 1.4668 36.9531 1.51074 36.7676 1.59863 36.5853 1.68652 36.4421 1.81348 36.3379 1.97949 36.237 2.14551 36.1882 2.34245 36.1914 2.57031 36.1882 2.78841 36.237 2.97884 36.3379 3.1416 36.4421 3.30111 36.5853 3.4248 36.7676 3.5127 36.9531 3.60059 37.1647 3.64453 37.4023 3.64453 37.6335 3.64453 37.8402 3.60059 38.0225 3.5127 38.2048 3.4248 38.3464 3.30111 38.4473 3.1416 38.5514 2.97884 38.6035 2.78841 38.6035 2.57031 38.6035 2.34245 38.5514 2.14551 38.4473 1.97949 38.3464 1.81348 38.2048 1.68652 38.0225 1.59863S37.6335 1.4668 37.4023 1.4668zM51.0645 8.89844H49.7949V6.93555H47.9883v-.9375h1.8066V.0214844h1.2696V8.89844zm-7.627-4.375C44.5898 4.52344 45.6315 4.50716 46.5625 4.47461 47.4935 4.44206 48.3822 4.37044 49.2285 4.25977L49.2969 5.16797C48.5807 5.29818 47.7897 5.39258 46.9238 5.45117v3.1836H45.6641V5.51465C45.0488 5.53092 44.3587 5.53906 43.5938 5.53906L43.4375 4.52344zM46.3477.373047c.429599999999994.0.817.078125 1.1621.234375C47.8581.763672 48.1315.981771 48.3301 1.26172 48.5286 1.53841 48.6296 1.85091 48.6328 2.19922 48.6296 2.55729 48.5286 2.87467 48.3301 3.15137 48.1348 3.4248 47.863 3.63802 47.5146 3.79102 47.1696 3.94076 46.7806 4.01562 46.3477 4.01562 45.9082 4.01562 45.5143 3.94076 45.166 3.79102 44.821 3.63802 44.5508 3.4248 44.3555 3.15137 44.1602 2.87467 44.0625 2.55729 44.0625 2.19922 44.0625 1.84766 44.1602 1.53353 44.3555 1.25684 44.5508.980143 44.8226.763672 45.1709.607422 45.5192.451172 45.9115.373047 46.3477.373047zm0 .947263C46.1263 1.32031 45.931 1.35612 45.7617 1.42773 45.5957 1.49935 45.4655 1.60189 45.3711 1.73535 45.2799 1.86882 45.2344 2.02344 45.2344 2.19922 45.2344 2.47266 45.3353 2.68587 45.5371 2.83887 45.7389 2.99186 46.0091 3.06836 46.3477 3.06836 46.6764 3.06836 46.9417 2.99186 47.1436 2.83887 47.3454 2.68587 47.4479 2.47266 47.4512 2.19922 47.4479 2.02344 47.3991 1.86882 47.3047 1.73535 47.2103 1.60189 47.0801 1.49935 46.9141 1.42773 46.7513 1.35612 46.5625 1.32031 46.3477 1.32031zm13.0468.50781C59.3945 2.39779 59.388 2.88118 59.375 3.27832 59.362 3.6722 59.3245 4.12142 59.2627 4.62598 59.2041 5.13053 59.1113 5.68229 58.9844 6.28125l-1.2403-.11719C57.8971 5.52279 58.0094 4.85872 58.0811 4.17188l-5.1514.2539L52.7734 3.42969l5.3711-.19531C58.151 3.07487 58.1559 2.8877 58.1592 2.67285 58.1657 2.45801 58.1706 2.25456 58.1738 2.0625V1.82812 1.78906H53.0469V.792969h6.3476V1.82812zM60.2246 7.83398H52.1191V6.81836h8.1055V7.83398zm11.084 1.06446H70.1074V4.37695H69.2969V8.50781H68.1348V.246094h1.1621V3.38086H70.1074V.0117188h1.2012V8.89844zM67.5098 1.10547C67.5065 1.97786 67.404 2.77214 67.2021 3.48828 67.0003 4.20117 66.6602 4.86035 66.1816 5.46582 65.7064 6.06803 65.0651 6.60352 64.2578 7.07227l-.7226-.85938C64.4206 5.69206 65.0798 5.10124 65.5127 4.44043 65.9456 3.77637 66.2061 2.99674 66.2939 2.10156H63.9844V1.10547h3.5254zM73.7891 1.4668h1.8164V.412109h1.25V4.28906H72.5488V.412109h1.2403V1.4668zm1.8164 1.8457V2.4043H73.7891v.9082h1.8164zM79.3359 1.74023h1.2012V2.74609H79.3359V4.5332h-1.25V.0117188h1.25V1.74023zm0 5.53711H74.6777v.57618h4.9121v.98632H73.457V6.38867h4.6387V5.83203H73.4375V4.86523h5.8984V7.27734zm8.6036-3.85742H89.1992V4.44531H87.9395v4.4336h-1.25V.0117188h1.25V3.41992zM85.5664.919922C85.5599 2.33594 85.2409 3.58757 84.6094 4.6748 83.9811 5.75879 82.9557 6.64909 81.5332 7.3457L80.8301 6.38867C81.888 5.85807 82.7002 5.22982 83.2666 4.50391 83.8363 3.77799 84.1797 2.92188 84.2969 1.93555H81.3379V.919922h4.2285zM97.0117 8.91797H95.752V.0117188H97.0117V8.91797zM92.1875.636719C92.6335.636719 93.0322.766927 93.3838 1.02734 93.7386 1.28776 94.0169 1.65723 94.2188 2.13574 94.4206 2.61426 94.5215 3.16927 94.5215 3.80078 94.5215 4.4388 94.4206 4.9987 94.2188 5.48047 94.0169 5.95898 93.7386 6.32845 93.3838 6.58887 93.0322 6.84603 92.6335 6.97461 92.1875 6.97461 91.7318 6.97461 91.3249 6.84603 90.9668 6.58887 90.6087 6.32845 90.3288 5.95898 90.127 5.48047 89.9284 4.9987 89.8307 4.4388 89.834 3.80078 89.8307 3.16927 89.9284 2.61426 90.127 2.13574 90.3288 1.65723 90.6087 1.28776 90.9668 1.02734 91.3249.766927 91.7318.636719 92.1875.636719zm0 1.123051C91.9564 1.75977 91.7529 1.83952 91.5771 1.99902 91.4046 2.15527 91.2712 2.38639 91.1768 2.69238S91.0352 3.36784 91.0352 3.80078C91.0352 4.23698 91.0824 4.60807 91.1768 4.91406 91.2712 5.22005 91.4046 5.45117 91.5771 5.60742 91.7529 5.76367 91.9564 5.8418 92.1875 5.8418 92.4154 5.8418 92.6139 5.76367 92.7832 5.60742 92.9525 5.44792 93.0843 5.21517 93.1787 4.90918 93.2731 4.60319 93.3203 4.23372 93.3203 3.80078 93.3203 3.37109 93.2731 3.00326 93.1787 2.69727 93.0843 2.38802 92.9508 2.15527 92.7783 1.99902 92.609 1.83952 92.4121 1.75977 92.1875 1.75977zM105.459 5.11914H99.1699V.753906H105.391V1.75977H100.4V4.12305h5.059v.99609zM106.348 7.81445H98.2129V6.78906H106.348V7.81445z" fill="#fff"/></svg></span><span class=navbar-brand__name>표준프레임워크 개발가이드</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/egovframe-docs/egovframe-development/><span>개발환경(예정)</span></a></li><li class=nav-item><a class="nav-link active" href=/egovframe-docs/egovframe-runtime/><span>실행환경</span></a></li><li class=nav-item><a class=nav-link href=/egovframe-docs/runtime-example/><span>실행환경 예제</span></a></li><li class=nav-item><a class=nav-link href=/egovframe-docs/common-component/><span>공통컴포넌트(예정)</span></a></li><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg><button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true><svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>이 섹션의 다중 페이지 출력 화면임.
<a href=# onclick="return print(),!1">여기를 클릭하여 프린트</a>.</p><p><a href=/egovframe-docs/egovframe-runtime/integration-layer/>이 페이지의 일반 화면으로 돌아가기</a>.</p></div><h1 class=title>연계통합</h1><div class=lead>연계통합 레이어는 타 시스템과의 연동기능을 지원한다.</div><ul><li>1: <a href=#pg-841100384f6c1e82d1f8a66ba39e1188>Naming 서비스</a></li><li>2: <a href=#pg-66e4c09d654ff5ce1392423ad1b6521e>Integration 서비스</a></li><li>3: <a href=#pg-02249251eea14940075fc2f31bcc797f>Integration 서비스 Metadata</a></li><li>4: <a href=#pg-0668aeee83d3f53104878ed62121ed5b>연계 서비스 API</a></li><li>5: <a href=#pg-8bb3f8e93286320a66b08dd4aad5089d>WebService</a></li><li>6: <a href=#pg-5a7d049f3ef1c581976d35e33b209bc6>Restful</a></li><li>7: <a href=#pg-c09a8c91dcb8656da3ba4d50a655a7ef>Cloud Data Stream</a></li><li>8: <a href=#pg-5bb84fe332b90b69f93d80815a531675>Swagger</a></li></ul><div class=content><h1 id=연계통합>연계통합</h1><p>연계통합 레이어는 타 시스템과의 연동기능을 지원한다.</p></div></div><div class=td-content><h1 id=pg-841100384f6c1e82d1f8a66ba39e1188>1 - Naming 서비스</h1><div class=lead>Naming 서비스는 JNDI API를 통해 자원을 찾고, 다른 애플리케이션에서 사용할 수 있도록 Naming 서버에 자원을 등록 및 검색할 수 있도록 지원하는 서비스이다. 이를 통해 애플리케이션 간 자원 공유와 접근이 가능해진다.</div><h1 id=naming-service>Naming Service</h1><h2 id=개요>개요</h2><p>Naming 서비스는 Java Naming and Directory Interface(JNDI) API를 이용하여 자원(Resource)를 찾을 수 있도록 도와주는 서비스이다. Naming 서비스를 지원하는 Naming 서버에 자원을 등록하여 다른 어플리케이션에서 사용할 수 있도록 공개하고, Naming 서버에 등록되어 있는 자원을 찾아와서 이용할 수 있게 한다.</p><p><img src=../images/naming_service.png alt="Naming Service"></p><h2 id=주요-개념>주요 개념</h2><h3 id=java-naming-and-directory-interfacejndi>Java Naming and Directory Interface(JNDI)</h3><p>Java Naming and Directory Interface(JNDI)는 Java 소프트웨어 클라이언트가 이름(name)을 이용하여 데이터 및 객체를 찾을 수 있도록 도와주는 디렉토리 서비스에 대한 Java API이다.</p><ul><li>참조: <a href=http://en.wikipedia.org/wiki/JNDI>http://en.wikipedia.org/wiki/JNDI</a></li></ul><h2 id=설명>설명</h2><p>Naming 서비스는 사용하는 방식에는 Spring XML Configuration 파일에 설정하는 방식과 JNDI API를 wrapping한 JndiTemplate class를 사용하는 방식이 있다.</p><ul><li><p><a href=#spring-xml-configuration-%EC%84%A4%EC%A0%95>Spring XML Configuration 파일에 설정하는 방식</a> :<br>Spring XML Configuration 설정파일에 JNDI 객체를 bean으로 등록하는 방식으로, JNDI 객체를 Lookup만 할 수 있다. 일반적으로 가장 많이 사용된다.</p></li><li><p><a href=#jnditemplate-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%82%AC%EC%9A%A9>JNDI API를 wrapping한 JndiTemplate class를 사용하는 방식</a> :<br>Spring Framework에서 JNDI API를 쉽게 사용할 수 있도록 제공하는 JndiTemplate class를 직접 사용하는 방식으로, JNDI API 기능을 모두 사용해야 할 경우 사용하는 방식이다.</p></li></ul><h3 id=spring-xml-configuration-설정>Spring XML Configuration 설정</h3><p>Spring Framework는 XML Configuration 파일에 JNDI 객체를 설정할 수 있다. 단, 설정 파일을 통해서는 JNDI 객체를 lookup하는 것만 가능하므로, bind, rebind, unbind 기능을 사용하려면 <a href=#jnditemplate-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%82%AC%EC%9A%A9>Using JndiTemplate</a> 방식을 사용해야 한다.</p><p>Spring Framework은 XML Configuration을 간편하게 할 수 있게 하기 위해 2.0 버전부터 jee tag를 제공하고 있다. 전자정부 개발프레임워크는 Spring 2.5 이상을 기반으로 하기 때문에 본 가이드는 jee tag를 사용한 방식만을 설명한다.</p><h4 id=설정>설정</h4><p>jee tag를 사용하기 위해서는 Spring XML Configuration 파일의 머릿말에 namespace와 schemaLocation를 추가해야 한다.</p><ul><li><p>namespace : xmlns:jee=&ldquo;<a href=http://www.springframework.org/schema/jee%22>http://www.springframework.org/schema/jee"</a></p></li><li><p>schemaLocation : <a href=http://www.springframework.org/schema/jee>http://www.springframework.org/schema/jee</a> <a href=http://www.springframework.org/schema/jee/spring-jee.xsd>http://www.springframework.org/schema/jee/spring-jee.xsd</a></p></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;beans</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/beans&#34;</span>
</span></span><span style=display:flex><span>       <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style=display:flex><span>       <span style=color:#c4a000>xmlns:jee=</span><span style=color:#4e9a06>&#34;http://www.springframework.org/schema/jee&#34;</span>
</span></span><span style=display:flex><span>       <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>&lt;!-- &lt;bean/&gt; definitions here --&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span></code></pre></div><h4 id=jndi-lookup-tag>jndi-lookup tag</h4><p>jndi-lookup tag는 JNDI 객체를 찾아서 bean으로 등록해주는 tag이다.</p><h5 id=tag-설명>tag 설명</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;jee:jndi-lookup</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;bean id&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;jndi name&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>cache=</span><span style=color:#4e9a06>&#34;true or false&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>resource-ref=</span><span style=color:#4e9a06>&#34;true or false&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>lookup-on-startup=</span><span style=color:#4e9a06>&#34;true or false&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>expected-type=</span><span style=color:#4e9a06>&#34;java class&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>proxy-interface=</span><span style=color:#4e9a06>&#34;java class&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;jee:environment&gt;</span>
</span></span><span style=display:flex><span>            name=value
</span></span><span style=display:flex><span>            ping=pong
</span></span><span style=display:flex><span>            ...
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/jee:environment&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/jee:jndi-lookup&gt;</span>
</span></span></code></pre></div><p>jndi-lookup tag는 Spring Framework의 JndiObjectFactoryBean class와 1:1로 매핑된다. tag의 attribute 값은 다음과 같다.</p><table><thead><tr><th><center>Attribute</center></th><th><center>설명</center></th><th><center>Optional</center></th><th><center>Data Type</center></th><th><center>Default 값</center></th><th><center>비고</center></th></tr></thead><tbody><tr><td>id</td><td>Spring XML Configuration의 bean id이다.</td><td>N</td><td>String</td><td></td><td></td></tr><tr><td>jndi-name</td><td>찾고자 하는 JNDI 객체의 이름이다.</td><td>N</td><td>String</td><td></td><td></td></tr><tr><td>cache</td><td>한번 찾은 JNDI 객체에 대한 cache여부를 나타낸다.</td><td>Y</td><td>boolean</td><td>true</td><td></td></tr><tr><td>resource-ref</td><td>J2EE Container 내에서 찾을지 여부를 나타낸다.</td><td>Y</td><td>boolean</td><td>false</td><td></td></tr><tr><td>lookup-on-startup</td><td>시작시에 lookup을 수행할지 여부를 타나낸다.</td><td>Y</td><td>boolean</td><td>true</td><td></td></tr><tr><td>expected-type</td><td>찾는 JNDI 객체를 assign할 타입을 나타낸다.</td><td>Y</td><td>Class</td><td></td><td>값이 지정되지 않았을 경우 무시한다.</td></tr><tr><td>proxy-interface</td><td>JNDI 객체를 사용하기 위한 Proxy Interface이다.</td><td>Y</td><td>Class</td><td></td><td>값이 지정되지 않았을 경우 무시한다.</td></tr></tbody></table><p>jndi-lookup tag의 element인 environment tag는 JNDI Environment 변수값을 등록할 때 사용한다. environment tag는 &lsquo;foo=bar&rsquo; 와 같이 &lt;변수명>=&lt;변수값> 형태의 List를 값으로 가진다.</p><h5 id=예제>예제</h5><ul><li><p>Simple</p><p>가장 단순한 설정으로 이름만을 사용하여 JNDI 객체를 찾아준다. 아래 이름 “jdbc/MyDataSource”로 등록되어 있는 JNDI 객체를 찾아 “userDao” Bean의 “dataSource” property로 Dependency Injection하는 예제이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;jee:jndi-lookup</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;dataSource&#34;</span> <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;jdbc/MyDataSource&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;userDao&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;com.foo.JdbcUserDao&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>&lt;!-- Spring will do the cast automatically (as usual) --&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;dataSource&#34;</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;dataSource&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div></li><li><p>With single JNDI environment settings</p><p>아래는 단일 JNDI 환경 설정을 사용하여 JNDI 객체를 찾아오는 예제이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;jee:jndi-lookup</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;dataSource&#34;</span> <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;jdbc/MyDataSource&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;jee:environment&gt;</span>foo=bar<span style=color:#204a87;font-weight:700>&lt;/jee:environment&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;/jee:jndi-lookup&gt;</span>
</span></span></code></pre></div></li><li><p>With multiple JNDI environment settings</p><p>아래는 복수 JNDI 환경 설정을 사용하여 JNDI 객체를 찾아오는 예제이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;jee:jndi-lookup</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;dataSource&#34;</span> <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;jdbc/MyDataSource&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#8f5902;font-style:italic>&lt;!-- newline-separated, key-value pairs for the environment (standard Properties format) --&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;jee:environment&gt;</span>
</span></span><span style=display:flex><span>          foo=bar
</span></span><span style=display:flex><span>          ping=pong
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;/jee:environment&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;/jee:jndi-lookup&gt;</span>
</span></span></code></pre></div></li><li><p>Complex</p><p>아래는 이름 외 다양한 설정을 통해 JNDI 객체를 찾아오는 예제이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;jee:jndi-lookup</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;dataSource&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;jdbc/MyDataSource&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#c4a000>cache=</span><span style=color:#4e9a06>&#34;true&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#c4a000>resource-ref=</span><span style=color:#4e9a06>&#34;true&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#c4a000>lookup-on-startup=</span><span style=color:#4e9a06>&#34;false&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#c4a000>expected-type=</span><span style=color:#4e9a06>&#34;com.myapp.DefaultFoo&#34;</span>
</span></span><span style=display:flex><span>              <span style=color:#c4a000>proxy-interface=</span><span style=color:#4e9a06>&#34;com.myapp.Foo&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div></li></ul><h4 id=local-slsb-tag>local-slsb tag</h4><p>local-slsb tag는 EJB Stateless SessionBean을 참조하기 위한 tag이다.</p><h5 id=tag-설명-1>tag 설명</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;jee:local-slsb</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;bean id&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;JNDI name&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#c4a000>business-interface=</span><span style=color:#4e9a06>&#34;Java Class&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#c4a000>cache-home=</span><span style=color:#4e9a06>&#34;true or false&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#c4a000>lookup-home-on-startup=</span><span style=color:#4e9a06>&#34;true or false&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#c4a000>resource-ref=</span><span style=color:#4e9a06>&#34;true or false&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;jee:environment&gt;</span>
</span></span><span style=display:flex><span>            name=value
</span></span><span style=display:flex><span>            ping=pong
</span></span><span style=display:flex><span>            ...
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/jee:environment&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/jee:local-slsb&gt;</span>
</span></span></code></pre></div><p>locak-slsb tag는 Spring Framework의 LocalStatelessSessionProxyFactoryBean class와 1:1로 매핑된다. tag의 attribute는 다음과 같다.</p><table><thead><tr><th><center>Attribute</center></th><th><center>설명</center></th><th><center>Optional</center></th><th><center>Data Type</center></th><th><center>Default 값</center></th><th><center>비고</center></th></tr></thead><tbody><tr><td>id</td><td>Spring XML Configuration의 bean id이다.</td><td>N</td><td>String</td><td></td><td></td></tr><tr><td>jndi-name</td><td>찾고자 하는 EJB의 JNDI 이름이다.</td><td>N</td><td>String</td><td></td><td></td></tr><tr><td>business-interface</td><td>Proxing할 EJB의 Business interface이다.</td><td>N</td><td>Class</td><td></td><td></td></tr><tr><td>cache-home</td><td>한번 찾은 EJB Home 객체에 대한 cache여부를 나타낸다.</td><td>Y</td><td>boolean</td><td>true</td><td></td></tr><tr><td>lookup-home-on-startup</td><td>시작 시에 lookup을 수행할지 여부를 나타낸다.</td><td>Y</td><td>boolean</td><td>true</td><td></td></tr><tr><td>resource-ref</td><td>J2EE Container 내에서 찾을지 여부를 나타낸다.</td><td>Y</td><td>boolean</td><td>false</td><td></td></tr></tbody></table><p>local-slsb tag의 element인 environment tag는 JNDI Environment 변수값을 등록할 때 사용한다. evironment tag는 &lsquo;foo=bar&rsquo; 와 같이 &lt;변수명>=&lt;변수값> 형태의 List를 값으로 가진다.</p><h5 id=예제-1>예제</h5><ul><li><p>Simple</p><p>간단히 사용하는 예제이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;jee:local-slsb</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;simpleSlsb&#34;</span> <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;ejb/RentalServiceBean&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#c4a000>business-interface=</span><span style=color:#4e9a06>&#34;com.foo.service.RentalService&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div></li><li><p>Complex</p><p>local-slsb tag를 사용하기 위해 다양한 설정 값을 이용하는 예제이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;jee:local-slsb</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;complexLocalEjb&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;ejb/RentalServiceBean&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#c4a000>business-interface=</span><span style=color:#4e9a06>&#34;com.foo.service.RentalService&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#c4a000>cache-home=</span><span style=color:#4e9a06>&#34;true&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#c4a000>lookup-home-on-startup=</span><span style=color:#4e9a06>&#34;true&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#c4a000>resource-ref=</span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div></li></ul><h4 id=remote-slsb-tag>remote-slsb tag</h4><p>remote-slsb tag는 remote EJB Stateless SessionBean을 참조하기 위한 tag이다.</p><h5 id=tag-설명-2>tag 설명</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;jee:remote-slsb</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;bean id&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;JNDI name&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>business-interface=</span><span style=color:#4e9a06>&#34;Java Class&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>cache-home=</span><span style=color:#4e9a06>&#34;true or false&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>lookup-home-on-startup=</span><span style=color:#4e9a06>&#34;true or false&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>resource-ref=</span><span style=color:#4e9a06>&#34;true or false&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>home-interface=</span><span style=color:#4e9a06>&#34;Java Class&#34;</span>
</span></span><span style=display:flex><span>                     <span style=color:#c4a000>refresh-home-on-connect-failure=</span><span style=color:#4e9a06>&#34;true or false&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;jee:environment&gt;</span>
</span></span><span style=display:flex><span>            name=value
</span></span><span style=display:flex><span>            ping=pong
</span></span><span style=display:flex><span>            ...
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/jee:environment&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/jee:remote-slsb&gt;</span>
</span></span></code></pre></div><p>remote-slsb tag는 Spring Framework의 SimpleRemoteStatelessSessionProxyFactoryBean class와 1:1로 매핑된다. tag의 attribute는 아래와 같다.</p><table><thead><tr><th><center>Attribute</center></th><th><center>설명</center></th><th><center>Optional</center></th><th><center>Data Type</center></th><th><center>Default 값</center></th><th><center>비고</center></th></tr></thead><tbody><tr><td>id</td><td>Spring XML Configuration의 bean id이다.</td><td>N</td><td>String</td><td></td><td></td></tr><tr><td>jndi-name</td><td>찾고자 하는 EJB의 JNDI 이름이다.</td><td>N</td><td>String</td><td></td><td></td></tr><tr><td>business-interface</td><td>Proxing할 EJB의 Business interface이다.</td><td>N</td><td>Class</td><td></td><td></td></tr><tr><td>cache-home</td><td>한번 찾은 EJB Home 객체에 대한 cache여부를 나타낸다.</td><td>Y</td><td>boolean</td><td>true</td><td></td></tr><tr><td>lookup-home-on-startup</td><td>시작 시에 lookup을 수행할지 여부를 나타낸다.</td><td>Y</td><td>boolean</td><td>true</td><td></td></tr><tr><td>resource-ref</td><td>J2EE Container 내에서 찾을지 여부를 나타낸다.</td><td>Y</td><td>boolean</td><td>false</td><td></td></tr><tr><td>home-interface</td><td>EJB Home interface이다.</td><td>Y</td><td>Class</td><td></td><td></td></tr><tr><td>refresh-home-on-connect-failure</td><td>연결 실패 시, EJB Home을 reflesh할지 여부를 나타낸다.</td><td>Y</td><td>boolean</td><td>false</td><td></td></tr></tbody></table><p>remote-slsb tag의 element인 environment tag는 JNDI Environment 변수값을 등록할 때 사용한다. evironment tag는 &lsquo;foo=bar&rsquo; 와 같이 &lt;변수명>=&lt;변수값> 형태의 List를 값으로 가진다.</p><h5 id=예제-2>예제</h5><ul><li><p>Simple</p><p>간단히 사용하는 예제이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;jee:remote-slsb</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;complexRemoteEjb&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;ejb/MyRemoteBean&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>business-interface=</span><span style=color:#4e9a06>&#34;com.foo.service.RentalService&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>home-interface=</span><span style=color:#4e9a06>&#34;com.foo.service.RentalService&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div></li><li><p>Complex</p><p>remove-slsb tag를 사용하기 위해 다양한 설정 값을 이용하는 예제이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;jee:remote-slsb</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;complexRemoteEjb&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>jndi-name=</span><span style=color:#4e9a06>&#34;ejb/MyRemoteBean&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>business-interface=</span><span style=color:#4e9a06>&#34;com.foo.service.RentalService&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>cache-home=</span><span style=color:#4e9a06>&#34;true&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>lookup-home-on-startup=</span><span style=color:#4e9a06>&#34;true&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>resource-ref=</span><span style=color:#4e9a06>&#34;true&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>home-interface=</span><span style=color:#4e9a06>&#34;com.foo.service.RentalService&#34;</span>
</span></span><span style=display:flex><span>                   <span style=color:#c4a000>refresh-home-on-connect-failure=</span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div></li></ul><h3 id=jnditemplate-클래스-사용>JndiTemplate 클래스 사용</h3><p>JndiTemplate class는 JNDI API를 쉽게 사용할 수 있도록 제공하는 wrapper class이다.</p><h4 id=bind>bind</h4><p>아래 JndiTemplateSample class의 bind 메소드는 JndiTemplate을 이용하여 argument &lsquo;resource&rsquo;를 argument &rsquo;name&rsquo;으로 JNDI 객체로 bind한다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>javax.naming.NamingException</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.springframework.jndi.JndiTemplate</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>JndiTemplateSample</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>JndiTemplate</span> <span style=color:#000>jndiTemplate</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>JndiTemplate</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>bind</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>resource</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>jndiTemplate</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>bind</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>resource</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>NamingException</span> <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>printStackTrace</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=lookup>lookup</h4><p>JndiTemplate을 이용하여 argument &rsquo;name&rsquo;으로 등록되어 있는 자원(resource)를 찾을 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Object</span> <span style=color:#000>lookupResource</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>jndiTemplate</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>lookup</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>NamingException</span> <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>printStackTrace</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=lookup-with-requiredtype>lookup with requiredType</h4><p>JndiTemplate의 lookup 메소드는 찾고자 하는 자원의 이름 뿐 아니라 원하는 타입(Type)을 지정할 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Foo</span> <span style=color:#000>lookupFoo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>fooName</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>jndiTemplate</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>lookup</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>fooName</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Foo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>NamingException</span> <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>printStackTrace</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=rebind>rebind</h4><p>JndiTemplate의 rebind 메소드를 사용하여 자원을 재등록할 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>rebind</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Object</span> <span style=color:#000>resource</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>jndiTemplate</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>rebind</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>resource</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>NamingException</span> <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>printStackTrace</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=unbind>unbind</h4><p>JndiTemplate의 unbind 메소드를 사용하여 등록된 자원을 등록해제할 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>unbind</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>try</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>jndiTemplate</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>unbind</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>catch</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>NamingException</span> <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>e</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>printStackTrace</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=참고자료>참고자료</h2><ul><li><a href=https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/org/springframework/jndi/JndiTemplate.html>Spring Framework JndiTemplate class API</a></li><li><a href=https://docs.spring.io/spring-framework/docs/2.5.x/reference/xsd-config.html#xsd-config-body-schemas-jee>The Spring Framework - Reference Documentation A.2.3. The jee schema</a></li><li><a href=https://docs.oracle.com/javase/1.5.0/docs/guide/jndi/index.html>Java SE Guide to JNDI</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-66e4c09d654ff5ce1392423ad1b6521e>2 - Integration 서비스</h1><div class=lead>Integration 서비스는 전자정부 개발프레임워크 기반의 시스템이 타 시스템과의 연계를 위해 사용하는 Interface의 표준을 정의한 것이다.</div><h1 id=integration-서비스>Integration 서비스</h1><h2 id=개요>개요</h2><p>Integration 서비스는 전자정부 개발프레임워크 기반의 시스템이 타 시스템과의 연계를 위해 사용하는 Interface의 표준을 정의한 것이다.</p><h2 id=설명>설명</h2><h3 id=목적>목적</h3><p>기존의 전자정부 시스템은 타 시스템과의 연계를 위해 연계 솔루션을 사용하거나 자체 개발한 연계 모듈을 사용해왔다. 기존에 사용된 연계 솔루션 및 자체 연계 모듈은 각각 고유한 설정 및 사용 방식을 가지고 있어, 동일한 연계 서비스라 할지라도 사용하는 연계 모듈에 따라 각기 다른 방식으로 개발되어 왔다. 본 Integration 서비스는 이러한 중복 개발을 없애고, 표준화된 설정 및 사용 방식을 정의하여 개발 효율성을 제고한다.</p><h3 id=아키텍처>아키텍처</h3><p>Integration 서비스를 사용하여 구현된 전자정부 시스템의 아키텍처는 다음과 같다.</p><p><img src=../images/integration_service_architecture_wbg.png alt="Integration Service Architecture"></p><p>Integration 서비스는 연계 서비스 요청 Interface, 연계 서비스 제공 Interface, 연계 메시지 및 메시지 헤더 등을 정의하고 있으며, 연계 서비스 요청 모듈 및 제공 모듈은 연계 Adaptor나 연계 솔루션과 관계 없이 Integration 서비스가 제공하는 Interface와 Class만을 사용하여 연계 업무를 수행할 수 있다. Integration 서비스는 연계 Interface 외에 연계에 필요한 정보를 담기 위한 Metadata를 정의하고 있다. Metadata는 연계 Interface를 사용하기 위해 필요한 최소한의 정보(연계 기관 정보, 연계 시스템 정보, 연계 서비스 정보, 메시지 형식 등)을 정의하고 있다.</p><h3 id=구성>구성</h3><p>Integration 서비스는 연계에 필요한 정보를 정의한 Metadata와 연계 서비스를 사용 및 제공하기 위한 API로 구성된다.</p><ul><li><a href=./integration-service-metadata.md>Metadata</a></li><li><a href=./integration-service-api.md>연계 서비스 API</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-02249251eea14940075fc2f31bcc797f>3 - Integration 서비스 Metadata</h1><div class=lead>Integration 서비스 Metadata는 연계에 필요한 정보를 정의하며, API 사용에 앞서 연계등록정보와 기관, 시스템, 서비스 등의 메타데이터를 이해하는 것이 중요하다. 실제 연계 Adaptor 사용법은 연계 서비스 API에서 설명된다.</div><h1 id=metadata>Metadata</h1><h2 id=개요>개요</h2><p>Integration 서비스 Metadata는 연계에 필요한 정보를 정의하고 있다.
본 장은 실제 Integration 서비스로 구현된 연계 Adaptor를 사용하는 방식에 직접적인 도움을 주지는 않는다. 실제 사용법은 <a href=./integration-service-api.md>연계 서비스 API</a>에서 설명하고 있다. 단, 연계 서비스 API의 핵심 Interface인 EgovIntegrationService의 단위에 해당하는 연계등록정보와, 이와 관련된 기관, 시스템, 서비스 등의 Metadata를 이해하는 것은 API 사용에 도움이 될 수 있다.</p><h2 id=설명>설명</h2><h3 id=논리모델>논리모델</h3><p>Integration 서비스 Metadata의 논리모델은 연계를 위해 필요한 논리적인 정보를 정의한다.</p><h4 id=논리erd>논리ERD</h4><p>Integration 서비스 Metadata의 논리ERD 및 Entity 설명은 다음과 같다.</p><ul><li>ERD의 Entity attribute의 Notation은 <code>"&lt;name> : &lt;data type> &lt;domain>"</code> 이다.</li></ul><p><img src=../images/metadata_logical_erd.png alt="Metadata Logical ERD"></p><table><thead><tr><th><center>Entity</center></th><th><center>설명</center></th></tr></thead><tbody><tr><td>기관</td><td>연계 서비스를 제공 또는 사용하는 기관을 나타낸다.<br>하나의 기관은 다수의 시스템을 가지고 있다.</td></tr><tr><td>시스템</td><td>연계 서비스를 제공 또는 사용하는 시스템을 나타낸다.<br>하나의 시스템은 반드시 하나의 기관에 속하며, 다수의 서비스를 가지고 있다.</td></tr><tr><td>서비스</td><td>연계 서비스를 제공하는 단위를 나타낸다.<br>하나의 서비스는 반드시 하나의 시스템에 속한다.</td></tr><tr><td>연계등록정보</td><td>연계 서비스를 사용하기 위한 단위를 나타낸다.<br>연계 요청 시스템이 연계 제공 서비스를 사용하기 위해서 등록해야 하는 정보를 담고 있다.</td></tr><tr><td>레코드타입</td><td>연계에 사용되는 메시지의 형태를 나타낸다.<br>&lt;Key, Value> 쌍의 정보를 담고 있는 레코드 형태의 타입을 정의하고 있다.<br>하나의 레코드타입은 다수의 레코드필드를 가지고 있다.</td></tr><tr><td>레코드필드</td><td>레코드타입에 속하는 내부 필드의 정의를 나타낸다.<br>필드의 이름과 타입을 정의한다.<br>하나의 레코드필드는 반드시 하나의 레코드타입에 속한다.</td></tr></tbody></table><h4 id=논리모델-domain-설명>논리모델 Domain 설명</h4><table><thead><tr><th><center>Domain</center></th><th><center>Data Type</center></th><th><center>설명</center></th><th><center>비고</center></th></tr></thead><tbody><tr><td>기관ID</td><td>CHAR(8)</td><td>연계 서비스를 제공 또는 사용하는 기관의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>시스템ID</td><td>CHAR(8)</td><td>연계 서비스를 제공 또는 사용하는 시스템의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>서비스ID</td><td>CHAR(8)</td><td>연계 서비스의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>타입ID</td><td>VARCHAR(40)</td><td>메시지를 구성하는 각 구성 요소의 형식인 타입의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>모듈ID</td><td>VARCHAR(40)</td><td>연계 서비스를 제공하기 위해 등록되어 있는 서비스 제공 모듈의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>Boolean</td><td>CHAR(1)</td><td>참/거짓(true/false) 등의 논리값을 나타낸다.</td><td>&lsquo;Y&rsquo; : true<br>&lsquo;N&rsquo; : false</td></tr><tr><td>Number</td><td>INTEGER</td><td>일반적인 정수를 나타낸다.</td><td></td></tr><tr><td>일시</td><td>DATETIME</td><td>일자와 시각을 포함하는 일시를 나타낸다.</td><td></td></tr><tr><td>이름</td><td>VARCHAR(40)</td><td>기관, 시스템, 서비스 등의 각종 이름을 나타낸다.</td><td></td></tr></tbody></table><h4 id=논리모델-entity-설명>논리모델 Entity 설명</h4><h5 id=기관>기관</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Entity 명</td><td colspan=3>기관</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=3>연계 서비스를 제공 또는 사용하는 기관을 나타낸다.<br>하나의 기관은 다수의 시스템을 가지고 있다.</td></tr><tr><td colspan=6 style=text-align:center;font-weight:700>Attribute</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Attribute명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>기관ID</td><td>기관ID</td><td>CHAR(8)</td><td>기관의 ID이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center></td><td>기관명</td><td>이름</td><td>VARCHAR(40)</td><td>기관의 이름이다.</td></tr></table><h5 id=시스템>시스템</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Entity 명</td><td colspan=3>시스템</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=3>연계 서비스를 제공 또는 사용하는 시스템을 나타낸다.<br>하나의 시스템은 반드시 하나의 기관에 속하며, 다수의 서비스를 가지고 있다.</td></tr><tr><td colspan=6 style=text-align:center;font-weight:700>Attribute</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Attribute명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>기관ID</td><td>기관ID</td><td>CHAR(8)</td><td>기관의 ID이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>Y</td><td>시스템ID</td><td>시스템ID</td><td>CHAR(8)</td><td>시스템의 ID이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>시스템명</td><td>이름</td><td>VARCHAR(40)</td><td>시스템의 이름이다.</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center></td><td>표준여부</td><td>Boolean</td><td>CHAR(1)</td><td>표준 준수 여부를 나타낸다.</td></tr></table><h5 id=서비스>서비스</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Entity 명</td><td colspan=3>서비스</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=3>연계 서비스를 제공하는 단위를 나타낸다.<br>하나의 서비스는 반드시 하나의 시스템에 속한다.</td></tr><tr><td colspan=6 style=text-align:center;font-weight:700>Attribute</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Attribute명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>기관ID</td><td>기관ID</td><td>CHAR(8)</td><td>기관의 ID이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>Y</td><td>시스템ID</td><td>시스템ID</td><td>CHAR(8)</td><td>시스템의 ID이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>Y</td><td>서비스ID</td><td>서비스ID</td><td>CHAR(8)</td><td>서비스의 ID이다.</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center></td><td>서비스명</td><td>이름</td><td>VARCHAR(40)</td><td>서비스의 이름이다.</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center></td><td>요청메시지타입ID</td><td>타입ID</td><td>VARCHAR(40)</td><td>요청 메시지의 타입 ID이다.</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center></td><td>응답메시지타입ID</td><td>타입ID</td><td>VARCHAR(40)</td><td>응답 메시지의 타입 ID이다.</td></tr><tr><td style=text-align:center>7</td><td style=text-align:center></td><td>응답모듈ID</td><td>모듈ID</td><td>VARCHAR(40)</td><td>실제 서비스를 제공하는 응답 모듈의 ID이다.</td></tr><tr><td style=text-align:center>8</td><td style=text-align:center></td><td>표준여부</td><td>Boolean</td><td>CHAR(1)</td><td>표준 준수 여부를 나타낸다.</td></tr><tr><td style=text-align:center>9</td><td style=text-align:center></td><td>사용여부</td><td>Boolean</td><td>CHAR(1)</td><td>서비스의 사용 여부를 나타낸다.</td></tr></table><h5 id=연계등록정보>연계등록정보</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Entity 명</td><td colspan=3>연계등록정보</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=3>연계 서비스를 사용하기 위한 단위를 나타낸다.<br>연계 요청 시스템이 연계 제공 서비스를 사용하기 위해서 등록해야 하는 정보를 담고 있다.</td></tr><tr><td colspan=6 style=text-align:center;font-weight:700>Attribute</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Attribute명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>제공기관ID</td><td>기관ID</td><td>CHAR(8)</td><td>서비스를 제공하는 기관의 ID이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>Y</td><td>제공시스템ID</td><td>시스템ID</td><td>CHAR(8)</td><td>서비스를 제공하는 시스템의 ID이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>Y</td><td>제공서비스ID</td><td>서비스ID</td><td>CHAR(8)</td><td>서비스를 제공하는 서비스의 ID이다.</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center>Y</td><td>요청기관ID</td><td>기관ID</td><td>CHAR(8)</td><td>서비스를 요청하는 기관의 ID이다.</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center>Y</td><td>요청시스템ID</td><td>시스템ID</td><td>CHAR(8)</td><td>서비스를 요청하는 시스템의 ID이다.</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center></td><td>DefaultTimeout</td><td>Number</td><td>INTEGER</td><td>서비스 요청 시 사용되는 default timeout 값이다.</td></tr><tr><td style=text-align:center>7</td><td style=text-align:center></td><td>사용여부</td><td>Boolean</td><td>CHAR(1)</td><td>등록된 연계의 사용 여부를 나타낸다.</td></tr><tr><td style=text-align:center>8</td><td style=text-align:center></td><td>유효시작일시</td><td>일시</td><td>DATEIME</td><td>등록된 연계가 유효한 기간의 시작 일시를 나타낸다.</td></tr><tr><td style=text-align:center>9</td><td style=text-align:center></td><td>유효종료일시</td><td>일시</td><td>DATEIME</td><td>등록된 연계가 유효한 기간의 종료 일시를 나타낸다.</td></tr></table><h5 id=레코드타입>레코드타입</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Entity 명</td><td colspan=3>레코드타입</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=3>연계에 사용되는 메시지의 형태를 나타낸다.<br>&lt;Key, Value> 쌍의 정보를 담고 있는 레코드 형태의 타입을 정의하고 있다.<br>하나의 레코드타입은 다수의 레코드필드를 가지고 있다.</td></tr><tr><td colspan=6 style=text-align:center;font-weight:700>Attribute</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Attribute명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>레코드타입ID</td><td>타입ID</td><td>VARCHAR(40)</td><td>레코드 타입의 ID이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center></td><td>레코드타입명</td><td>이름</td><td>VARCHAR(40)</td><td>레코드 타입의 이름이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>부모레코드타입ID</td><td>타입ID</td><td>VARCHAR(40)</td><td>부모 레코드 타입의 ID이다.</td></tr></table><h5 id=레코드필드>레코드필드</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Entity 명</td><td colspan=3>레코드필드</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=3>레코드타입에 속하는 내부 필드의 정의를 나타낸다.<br>필드의 이름과 타입을 정의한다.<br>하나의 레코드필드는 반드시 하나의 레코드타입에 속한다.</td></tr><tr><td colspan=6 style=text-align:center;font-weight:700>Attribute</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Attribute명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>레코드타입ID</td><td>타입ID</td><td>VARCHAR(40)</td><td>필드가 속한 레코드의 타입 ID이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>Y</td><td>필드명</td><td>이름</td><td>VARCHAR(40)</td><td>필드의 이름이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>필드타입ID</td><td>타입ID</td><td>VARCHAR(40)</td><td>필드의 타입 ID이다.</td></tr></table><h3 id=물리모델>물리모델</h3><p>Integration 서비스 Metadata의 물리모델은 논리모델을 실제 물리적인 DB로 구현하기 위한 모델로서, 아래 물리ERD는 Oracle DB를 가정하여 작성된 것이다. 물리모델은 Hibernate 등과 같은 Object Relational Mapping(ORM)을 사용하여 Access하는 것을 고려하여, 복수의 Attribute를 Identifier로 갖는 Entity를 Table로 변환할 때 Surrogate Key를 도입하고, 기존 Identifier는 Unique Constraints로 적용하여 정의되었다.</p><h4 id=물리erd>물리ERD</h4><p>Integration 서비스 Metadata의 물리ERD 및 Table 설명은 다음과 같다.</p><ul><li><p>ERD의 Table Column의 Notation은 <code>"&lt;name> : &lt;data type> &lt;domain> &lt;null option> &lt;key>*"</code> 이다.</p></li><li><p>물리ERD의 경우, 각 연계 Adaptor 또는 연계 솔루션, 또는 시스템에 따라 사용하는 DB가 달라지므로 Data Type 등이 변경될 수 있다.</p></li></ul><p><img src=../images/metadata_physical_erd.png alt="Metadata Physical ERD"></p><table><thead><tr><th><center>Table</center></th><th><center>Entity</center></th><th><center>설명</center></th></tr></thead><tbody><tr><td>ORGANIZATION</td><td>기관</td><td>연계 서비스를 제공 또는 사용하는 기관을 나타낸다.<br>하나의 기관은 다수의 시스템을 가지고 있다.</td></tr><tr><td>SYSTEM</td><td>시스템</td><td>연계 서비스를 제공 또는 사용하는 기관을 나타낸다.<br>하나의 기관은 다수의 시스템을 가지고 있다.</td></tr><tr><td>SERVICE</td><td>서비스</td><td>연계 서비스를 제공하는 단위를 나타낸다.<br>하나의 서비스는 반드시 하나의 시스템에 속한다.</td></tr><tr><td>INTEGRATION</td><td>연계등록정보</td><td>연계 서비스를 사용하기 위한 단위를 나타낸다.<br>연계 요청 시스템이 연계 제공 서비스를 사용하기 위해서 등록해야 하는 정보를 담고 있다.</td></tr><tr><td>RECORD_TYPE</td><td>레코드타입</td><td>연계에 사용되는 메시지의 형태를 나타낸다.<br>&lt;Key, Value> 쌍의 정보를 담고 있는 레코드 형태의 타입을 정의하고 있다.<br>하나의 레코드타입은 다수의 레코드필드를 가지고 있다.</td></tr><tr><td>RECORD_TYPE_FIELD</td><td>레코드필드</td><td>레코드타입에 속하는 내부 필드의 정의를 나타낸다.<br>필드의 이름과 타입을 정의한다.<br>하나의 레코드필드는 반드시 하나의 레코드타입에 속한다.</td></tr></tbody></table><h4 id=물리-모델-domain-설명>물리 모델 Domain 설명</h4><table><thead><tr><th><center>Domain</center></th><th><center>Data Type</center></th><th><center>설명</center></th><th><center>비고</center></th></tr></thead><tbody><tr><td>OrganizationId</td><td>CHAR(8)</td><td>연계 서비스를 제공 또는 사용하는 기관의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>SystemId</td><td>CHAR(8)</td><td>연계 서비스를 제공 또는 사용하는 시스템의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>ServiceId</td><td>CHAR(8)</td><td>연계 서비스의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>TypeId</td><td>VARCHAR2(40)</td><td>메시지를 구성하는 각 구성 요소의 형식인 타입의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>BeanId</td><td>VARCHAR2(40)</td><td>연계 서비스를 제공하기 위해 등록되어 있는 서비스 제공 모듈의 ID를 나타낸다.</td><td><a href=#id-%EC%B2%B4%EA%B3%84>ID 체계</a> 참조</td></tr><tr><td>Boolean</td><td>CHAR(1)</td><td>참/거짓(true/false) 등의 논리값을 나타낸다.</td><td>&lsquo;Y&rsquo; : true<br>&lsquo;N&rsquo; : false</td></tr><tr><td>Number</td><td>INTEGER</td><td>일반적인 정수를 나타낸다.</td><td></td></tr><tr><td>Datetime</td><td>DATEIME</td><td>일자와 시각을 포함하는 일시를 나타낸다.</td><td></td></tr><tr><td>Name</td><td>VARCHAR2(40)</td><td>기관, 시스템, 서비스 등의 각종 이름을 나타낸다.</td><td></td></tr><tr><td>SurrogateKey</td><td>VARCHAR2(20)</td><td>Composite 형태의 Primary Key를 대체하기 위한 키</td><td></td></tr></tbody></table><h4 id=물리-모델-table-설명>물리 모델 Table 설명</h4><h5 id=organization>ORGANIZATION</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Table 명</td><td colspan=2>ORGANIZATION</td><td colspan=1 style=text-align:center;font-weight:700>Entity</td><td colspan=2>기관</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=5>연계 서비스를 제공 또는 사용하는 기관을 나타낸다.<br>하나의 기관은 다수의 시스템을 가지고 있다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Column</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Column명</td><td style=text-align:center;font-weight:700>한글명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>Null</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>ORGANIZATION_ID</td><td>기관ID</td><td>OrganizationId</td><td>CHAR(8)</td><td style=text-align:center>N</td><td>기관의 ID이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center></td><td>ORGANIZATION_NAME</td><td>기관명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>기관의 이름이다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Constraints</td></tr><tr><td colspan=8>PRIMARY KEY (ORGANIZATION_ID)</td></tr></table><h5 id=system>SYSTEM</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Table 명</td><td colspan=2>SYSTEM</td><td colspan=1 style=text-align:center;font-weight:700>Entity</td><td colspan=2>시스템</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=5>연계 서비스를 제공 또는 사용하는 시스템을 나타낸다.<br>하나의 시스템은 반드시 하나의 기관에 속하며, 다수의 서비스를 가지고 있다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Column</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Column명</td><td style=text-align:center;font-weight:700>한글명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>Null</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>SYSTEM_KEY</td><td>시스템KEY</td><td>SurrogateKey</td><td>VARCHAR2(20)</td><td style=text-align:center>N</td><td>시스템의 Surrogate Key이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center></td><td>ORGANIZATION_ID</td><td>기관ID</td><td>OrganizationId</td><td>CHAR(8)</td><td style=text-align:center>N</td><td>기관의 ID이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>SYSTEM_ID</td><td>시스템ID</td><td>SystemId</td><td>CHAR(8)</td><td style=text-align:center>N</td><td>시스템의 ID이다.</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center></td><td>SYSTEM_NAME</td><td>시스템명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>시스템의 이름이다.</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center></td><td>STANDARD_YN</td><td>표준여부</td><td>Boolean</td><td>CHAR(1)</td><td style=text-align:center>N</td><td>표준 준수 여부를 나타낸다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Constraints</td></tr><tr><td colspan=8>PRIMAEY KEY (SYSTEM_KEY)</td></tr><tr><td colspan=8>UNIQUE (ORGANIZATION_ID, SYSTEM_ID)</td></tr><tr><td colspan=8>FOREIGN KEY (ORGANIZATION_ID) REFERENCES ORGANIZATION (ORGANIZATION_ID)</td></tr></table><h5 id=service>SERVICE</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Table 명</td><td colspan=2>SERVICE</td><td colspan=1 style=text-align:center;font-weight:700>Entity</td><td colspan=2>서비스</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=5>연계 서비스를 제공하는 단위를 나타낸다.<br>하나의 서비스는 반드시 하나의 시스템에 속한다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Column</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Column명</td><td style=text-align:center;font-weight:700>한글명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>Null</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>SERVICE_KEY</td><td>서비스KEY</td><td>SurrogateKey</td><td>VARCHAR2(20)</td><td style=text-align:center>N</td><td>서비스의 Surrogate Key이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center></td><td>SYSTEM_KEY</td><td>시스템KEY</td><td>SurrogateKey</td><td>VARCHAR2(20)</td><td style=text-align:center>N</td><td>시스템의 Surrogate Key이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>SERVICE_ID</td><td>서비스ID</td><td>ServiceId</td><td>CHAR(8)</td><td style=text-align:center>N</td><td>서비스의 ID이다.</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center></td><td>SERVICE_NAME</td><td>서비스명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>서비스의 이름이다.</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center></td><td>REQUEST_MESSAGE_TYPE_ID</td><td>요청메시지타입ID</td><td>TypeId</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>요청 메시지의 타입 ID이다.</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center></td><td>RESPONSE_MESSAGE_TYPE_ID</td><td>응답메시지타입ID</td><td>TypeId</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>응답 메시지의 타입 ID이다.</td></tr><tr><td style=text-align:center>7</td><td style=text-align:center></td><td>SERVICE_PROVIDER_BEAN_ID</td><td>응답모듈ID</td><td>BeanId</td><td>VARCHAR2(40)</td><td style=text-align:center>Y</td><td>실제 서비스를 제공하는 응답 모듈의 ID이다.</td></tr><tr><td style=text-align:center>8</td><td style=text-align:center></td><td>STANDARD_YN</td><td>표준여부</td><td>Boolean</td><td>CHAR(1)</td><td style=text-align:center>N</td><td>표준 준수 여부를 나타낸다.</td></tr><tr><td style=text-align:center>9</td><td style=text-align:center></td><td>USING_YN</td><td>사용여부</td><td>Boolean</td><td>CHAR(1)</td><td style=text-align:center>N</td><td>서비스의 사용 여부를 나타낸다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Constraints</td></tr><tr><td colspan=8>PRIMARY KEY (SERVICE_KEY)</td></tr><tr><td colspan=8>UNIQUE (SYSTEM_KEY, SERVICE_ID)</td></tr><tr><td colspan=8>FOREIGN KEY (SYSTEM_KEY) REFERENCES SYSTEM (SYSTEM_KEY)</td></tr></table><h5 id=integration>INTEGRATION</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Table 명</td><td colspan=2>INTEGRATION</td><td colspan=1 style=text-align:center;font-weight:700>Entity</td><td colspan=2>연계등록정보</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=5>연계 서비스를 사용하기 위한 단위를 나타낸다.<br>연계 요청 시스템이 연계 제공 서비스를 사용하기 위해서 등록해야 하는 정보를 담고 있다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Column</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Column명</td><td style=text-align:center;font-weight:700>한글명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>Null</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>INTEGRATION_ID</td><td>연계ID</td><td>Surrogate Key</td><td>VARCHAR2(20)</td><td style=text-align:center>N</td><td>연계등록정보의 Surrogate Key이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center></td><td>PROVIDER_SERVICE_KEY</td><td>제공서비스KEY</td><td>Surrogate Key</td><td>VARCHAR2(20)</td><td style=text-align:center>N</td><td>서비스를 제공하는 서비스의 Surrogate Key이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>CONSUMER_SYSTEM_KEY</td><td>요청시스템KEY</td><td>Surrogate Key</td><td>VARCHAR2(20)</td><td style=text-align:center>N</td><td>서비스를 요청하는 시스템의 Surrogate Key이다.</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center></td><td>DEFAULT_TIMEOUT</td><td>DefaultTimeout</td><td>Number</td><td>INTEGER</td><td style=text-align:center>N</td><td>서비스 요청 시 사용되는 default timeout 값이다.</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center></td><td>USING_YN</td><td>사용여부</td><td>Boolean</td><td>CHAR(1)</td><td style=text-align:center>N</td><td>등록된 연계의 사용 여부를 나타낸다.</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center></td><td>VALIDATE_FROM</td><td>유효시작일시</td><td>Datetime</td><td>DATETIME</td><td style=text-align:center>Y</td><td>등록된 연계가 유효한 기간의 시작 일시를 나타낸다.</td></tr><tr><td style=text-align:center>7</td><td style=text-align:center></td><td>VALIDATE_TO</td><td>유효종료일시</td><td>Datetime</td><td>DATETIME</td><td style=text-align:center>Y</td><td>등록된 연계가 유효한 기간의 종료 일시를 나타낸다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Constraints</td></tr><tr><td colspan=8>PRIMARY KEY (INTEGRATION_ID)</td></tr><tr><td colspan=8>UNIQUE (PROVIDER_SERVICE_KEY, CONSUMER_SYSTEM_KEY)</td></tr><tr><td colspan=8>FOREIGN KEY (PROVIDER_SERVICE_KEY) REFERENCES SERVICE (SERVICE_KEY)</td></tr><tr><td colspan=8>ROREIGN KEY (CONSUMER_SYSTEM_KEY) REFERENCES SYSTEM (SYSTEM_KEY)</td></tr></table><h5 id=record_type>RECORD_TYPE</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Table 명</td><td colspan=2>RECORD_TYPE</td><td colspan=1 style=text-align:center;font-weight:700>Entity</td><td colspan=2>레코드타입</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=5>연계에 사용되는 메시지의 형태를 나타낸다.<br>&lt;Key, Value> 쌍의 정보를 담고 있는 레코드 형태의 타입을 정의하고 있다.<br>하나의 레코드타입은 다수의 레코드필드를 가지고 있다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Column</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Column명</td><td style=text-align:center;font-weight:700>한글명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>Null</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>RECORD_TYPE_ID</td><td>레코드타입ID</td><td>TypeId</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>레코드 타입의 ID이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center></td><td>RECORD_TYPE_NAME</td><td>레코드타입명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>레코드 타입의 이름이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>PARENT_RECORD_TYPE_ID</td><td>부모레코드타입ID</td><td>TypeId</td><td>VARCHAR2(40)</td><td style=text-align:center>Y</td><td>부모 레코드 타입의 ID이다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Constraints</td></tr><tr><td colspan=8>PRIMARY KEY (RECORD_TYPE_ID)</td></tr><tr><td colspan=8>FOREIGN KEY (PARENT_RECORD_TYPE_ID) REFERENCES RECORD_TYPE (RECORD_TYPE_ID)</td></tr></table><h5 id=record_type_field>RECORD_TYPE_FIELD</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Table 명</td><td colspan=2>RECORD_TYPE_FIELD</td><td colspan=1 style=text-align:center;font-weight:700>Entity</td><td colspan=2>레코드필드</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=5>레코드타입에 속하는 내부 필드의 정의를 나타낸다.<br>필드의 이름과 타입을 정의한다.<br>하나의 레코드필드는 반드시 하나의 레코드타입에 속한다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Column</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Column명</td><td style=text-align:center;font-weight:700>한글명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>Null</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>RECORD_TYPE_ID</td><td>레코드타입ID</td><td>TypeId</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>필드가 속한 레코드의 타입 ID이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>Y</td><td>RECORD_FIELD_NAME</td><td>필드명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>필드의 이름이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>RECORD_FIELD_TYPE_ID</td><td>필드타입ID</td><td>TypeId</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>필드의 타입 ID이다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Constraints</td></tr><tr><td colspan=8>PRIMARY KEY (RECORD_TYPE_ID, RECORD_FIELD_NAME)</td></tr><tr><td colspan=8>FOREIGN KEY (RECORD_TYPE_ID) REFERENCES RECORD_TYPE (RECORD_TYPE_ID)</td></tr></table><h3 id=metadata-java-classes>Metadata Java Classes</h3><p>Integration 서비스의 Metadata를 읽어오기 위한 Java Class를 정의하고 있다.</p><h4 id=classdiagram>ClassDiagram</h4><p><img src=../images/integration_service_metadata_vo_classdiagram_2.png alt=ClassDiagram></p><h3 id=id-체계>ID 체계</h3><p>Integration 서비스 Metadata의 ID 체계는 다음과 같다.</p><table><thead><tr><th><center>ID</center></th><th><center>영문명</center></th><th><center>Data Type</center></th><th><center>형태</center></th><th><center>제약사항</center></th></tr></thead><tbody><tr><td>기관ID</td><td>OrganizationId</td><td>CHAR(8)</td><td>기관을 의미하는 Prefix ‘ORG’ 이후에 숫자 ‘0’으로 채워진 5자리 정수<br>Ex) ORG00000, ORG00001, ORG99999</td><td>• 모든 기관은 반드시 Unique한 ID를 가져야 한다.</td></tr><tr><td>시스템ID</td><td>SystemId</td><td>CHAR(8)</td><td>시스템을 의미하는 Prefix ‘SYS’ 이후에 숫자 ‘0’으로 채워진 5자리 정수<br>Ex) SYS00000, SYS00001, SYS99999</td><td>• 동일한 기관에 속한 모든 시스템은 반드시 Unique한 ID를 가져야 한다. (서로 다른 기관에 속한 시스템은 같은 ID를 가질 수 있다.)</td></tr><tr><td>서비스ID</td><td>ServiceId</td><td>CHAR(8)</td><td>서비스를 의미하는 Prefix ‘SRV’ 이후에 숫자 ‘0’으로 채워진 5자리 정수<br>Ex) SRV00000, SRV00001, SRV99999</td><td>• 동일한 시스템에 속한 모든 서비스는 반드시 Unique한 ID를 가져야 한다. (서로 다른 시스템에 속한 시스템은 같은 ID를 가질 수 있다.)</td></tr><tr><td>타입ID</td><td>TypeId</td><td>VARCHAR2(40)</td><td>알파벳 대소문자, 숫자, ‘_’ 로 구성된 길이 1 ~ 40 사이의 문자열<br>Ex) messageType0000, record_ABC</td><td>• 모든 타입은 Unique한 ID를 가져야 한다.<br>• 메타데이터로 저장되는 레코드타입의 ID는 다음의 Reserved 값을 가질 수 없다. boolean, string, byte, short, integer, long, biginteger, float, double, bigdecimal, calendar</td></tr><tr><td>모듈ID</td><td>BeanId</td><td>VARCHAR2(40)</td><td>알파벳 대소문자, 숫자, ‘_’ 로 구성된 길이 1 ~ 40 사이의 문자열<br>Ex) serviceProviderA, bean_123</td><td>• 모듈ID는 전자정부 개발프레임워크의 기반이 되는 Spring Framework에 등록되는 Bean Id이다.</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-0668aeee83d3f53104878ed62121ed5b>4 - 연계 서비스 API</h1><div class=lead>연계 서비스 API는 연계 서비스를 사용 및 제공하기 위한 interface를 제공한다.</div><h1 id=연계-서비스-api>연계 서비스 API</h1><h2 id=개요>개요</h2><p>연계 서비스 API는 연계 서비스를 사용 및 제공하기 위한 interface를 제공한다.</p><h2 id=설명>설명</h2><h3 id=구성>구성</h3><p>연계 서비스 API는 다음과 같이 구성된다.</p><p><img src=../images/integration_service_api_classdiagram_2.png alt="Integration Service Api ClassDiagram"></p><table><thead><tr><th><center>구성요소</center></th><th><center>설명</center></th></tr></thead><tbody><tr><td><a href=#egovintegrationcontext>EgovIntegrationContext</a></td><td>연계 서비스에 대한 설정 및 EgovIntegrationService 객체를 관리한다.</td></tr><tr><td><a href=#egovintegrationmessage>EgovIntegrationMessage</a></td><td>연계 서비스를 통해 주고받는 표준 메시지를 정의한다.</td></tr><tr><td><a href=#egovintegrationmessageheader>EgovIntegrationMessageHeader</a></td><td>연계 서비스를 통해 주고받는 표준 메시지 헤더를 정의한다.</td></tr><tr><td><a href=#egovintegrationmessageheaderresultcode>EgovIntegrationMessageHeader::ResultCode</a></td><td>연계 서비스 결과 코드를 담고 있는 enumeration이다.</td></tr><tr><td><a href=#egovintegrationservice>EgovIntegrationService</a></td><td>연계 서비스를 호출하기 위해 사용한다.</td></tr><tr><td><a href=#using-sendasync-with-response>EgovIntegrationResponse</a></td><td>연계 서비스를 비동기 방식으로 호출한 경우, 응답 메시지를 받기 위해 사용한다.</td></tr><tr><td><a href=#using-sendasync-with-callback>EgovIntegrationServiceCallback</a></td><td>연계 서비스를 비동기 방식으로 호출한 경우, 응답 메시지를 받기 위한 Callback interface이다.</td></tr><tr><td><a href=#using-sendasync-with-callback>EgovIntegrationServiceCallback::CallbackId</a></td><td>연계 서비스를 Callback을 이용한 비동기 방식으로 호출한 경우, 요청 메시지와 응답 메시지를 연결하기 위한 ID를 나타내는 interface이다.</td></tr><tr><td><a href=#egovintegrationserviceprovider>EgovIntegrationServiceProvider</a></td><td>연계 서비스를 제공하기 위해 사용한다.</td></tr></tbody></table><h3 id=egovintegrationcontext>EgovIntegrationContext</h3><p>EgovIntegrationContext는 연계 서비스에 대한 설정 및 <a href=#egovintegrationservice>EgovIntegrationService</a> 객체를 관리한다. 연계 서비스를 사용하기 위해서는 EgovIntegrationContext의 getService 메소드를 사용하여 <a href=#egovintegrationservice>EgovIntegrationService</a> 객체를 얻어와야 한다.<br>아래는 주민등록번호와 성명을 이용하여 실명확인을 수행하는 예제이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>itl.sample</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>javax.annotation.Resource</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>egovframework.rte.itl.integration.EgovIntegrationContext</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>egovframework.rte.itl.integration.EgovIntegrationService</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EgovIntegrationSample</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Resource</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;egovIntegrationContext&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>EgovIntegrationContext</span> <span style=color:#000>egovIntegrationContext</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>verifyName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>residentRegistrationNumber</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 연계ID가 &#34;INT_VERIFY_NAME&#34;인 연계 서비스 객체를 얻어온다.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>EgovIntegrationService</span> <span style=color:#000>service</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>egovIntegrationContext</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getService</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;INT_VERIFY_NAME&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 요청 메시지 생성
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>         <span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>requestMessage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>service</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>createRequestMessage</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 요청 메시지 작성
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>         <span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getBody</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getBody</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;residentRegistrationNumber&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>residentRegistrationNumber</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 서비스 요청
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>         <span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>responseMessage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>service</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sendSync</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 결과 return
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>responseMessage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getBody</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;result&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>위 예제에 해당하는 Metadata는 아래와 같다.</p><table border=1><tr><td colspan=7 style=text-align:center;font-weight:700>INTEGRATION</td></tr><tr><td style=text-align:center;font-weight:700>ID</td><td style=text-align:center;font-weight:700>PROVIDER_SERVICE_KEY</td><td style=text-align:center;font-weight:700>CONSUMER_SYSTEM_KEY</td><td style=text-align:center;font-weight:700>DEFAULT_TIMEOUT</td><td style=text-align:center;font-weight:700>USING_YN</td><td style=text-align:center;font-weight:700>VALIDATE_FROM</td><td style=text-align:center;font-weight:700>VALIDATE_TO</td></tr><tr><td>'INT_VERIFY_NAME'</td><td>'SERVICE_VERIFY_NAME'</td><td>'SYSTEM_CONSUMER'</td><td>5000</td><td>'Y'</td><td>NULL</td><td>NULL</td></tr></table><table border=1><tr><td colspan=2 style=text-align:center;font-weight:700>ORGANIZATION</td></tr><tr><td style=text-align:center;font-weight:700>ID</td><td style=text-align:center;font-weight:700>NAME</td></tr><tr><td>'ORG00001'</td><td>'요청 기관'</td></tr><tr><td>'ORG00002'</td><td>'제공 기관'</td></tr></table><table border=1><tr><td colspan=5 style=text-align:center;font-weight:700>SYSTEM</td></tr><tr><td style=text-align:center;font-weight:700>SYSTEM_KEY</td><td style=text-align:center;font-weight:700>ORGANIZATION_ID</td><td style=text-align:center;font-weight:700>SYSTEM_ID</td><td style=text-align:center;font-weight:700>SYSTEM_NAME</td><td style=text-align:center;font-weight:700>STANDARD_YN</td></tr><tr><td>'SYSTEM_CONSUMER'</td><td>'ORG00001'</td><td>'SYS00001'</td><td>'요청 시스템'</td><td>'Y'</td></tr><tr><td>'SYSTEM_PROVIDER'</td><td>'ORG00002'</td><td>'SYS00001'</td><td>'응답 시스템'</td><td>'Y'</td></tr></table><table border=1><tr><td colspan=9 style=text-align:center;font-weight:700>SERVICE</td></tr><tr><td style=text-align:center;font-weight:700>SERVICE_KEY</td><td style=text-align:center;font-weight:700>SYSTEM_KEY</td><td style=text-align:center;font-weight:700>SERVICE_ID</td><td style=text-align:center;font-weight:700>SERVICE_NAME</td><td style=text-align:center;font-weight:700>REQUEST_MESSAGE_TYPE_ID</td><td style=text-align:center;font-weight:700>RESPONSE_MESSAGE_TYPE_ID</td><td style=text-align:center;font-weight:700>SERVICE_PROVIDER_BEAN_ID</td><td style=text-align:center;font-weight:700>USING_YN</td><td style=text-align:center;font-weight:700>STANDARD_YN</td></tr><tr><td>'SERVICE_VERIFY_NAME'</td><td>'SYSTEM_PROVIDER'</td><td>'SRV00001'</td><td>'VerifyName'</td><td>'REQ_VERIFY_NAME'</td><td>'RES_VERIFY_NAME'</td><td>'serviceVerifyName'</td><td>'Y'</td><td>'Y'</td></tr></table><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>RECORD_TYPE</td></tr><tr><td style=text-align:center;font-weight:700>RECORD_TYPE_ID</td><td style=text-align:center;font-weight:700>RECORD_TYPE_NAME</td><td style=text-align:center;font-weight:700>PARENT_RECORD_TYPE_ID</td></tr><tr><td>'REQ_VERIFY_NAME'</td><td>'RequestVerifyName'</td><td>NULL</td></tr><tr><td>'RES_VERIFY_NAME'</td><td>'ResponseVerifyName'</td><td>NULL</td></tr></table><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>RECORD_TYPE_FIELD</td></tr><tr><td style=text-align:center;font-weight:700>RECORD_TYPE_ID</td><td style=text-align:center;font-weight:700>RECORD_FIELD_NAME</td><td style=text-align:center;font-weight:700>RECORD_FIELD_TYPE_ID</td></tr><tr><td>'REQ_VERIFY_NAME'</td><td>'name'</td><td>'string'</td></tr><tr><td>'REQ_VERIFY_NAME'</td><td>'residentRegistrationNumber'</td><td>'string'</td></tr><tr><td>'RES_VERIFY_NAME'</td><td>'result'</td><td>'boolean'</td></tr></table><h3 id=egovintegrationmessage>EgovIntegrationMessage</h3><p>EgovIntegrationMessage는 <a href=#%ED%97%A4%EB%8D%94%EB%B6%80>헤더부</a>, <a href=#%EB%B0%94%EB%94%94%EB%B6%80>바디부</a>, <a href=#%EC%B2%A8%EB%B6%80%ED%8C%8C%EC%9D%BC>첨부파일</a>로 구성된다.</p><h4 id=헤더부>헤더부</h4><p>EgovIntegrationMessage의 헤더부를 access 하기 위한 메소드는 아래와 같다.</p><table border=1><tr><td colspan=2 style=text-align:center;font-weight:700>Method Summary</td></tr><tr><td style=text-align:right><a href=#egovintegrationmessageheader>EgovIntegrationMessageHeader</a></td><td>getHeader()</td></tr><tr><td style=text-align:right>void</td><td><span>setHeader(</span><a href=#egovintegrationmessageheader>EgovIntegrationMessageHeader</a><span> header)</span></td></tr></table><h4 id=바디부>바디부</h4><p>EgovIntegrationMessage의 바디부를 access 하기 위한 메소드를 아래와 같다.</p><table border=1><tr><td colspan=2 style=text-align:center;font-weight:700>Method Summary</td></tr><tr><td style=text-align:right>Map&lt;String, Object></td><td>getBody()</td></tr><tr><td style=text-align:right>void</td><td>setBody(Map&lt;String, Object> body)</td></tr></table><p>EgovIntegrationMessage의 바디부는 다음 값들로만 구성될 수 있다.</p><ul><li>Java Primitive Type의 Wrapper 객체(Boolean, Byte, Short, Integer, Long, Float, Double)</li><li>BigInteger, BigDecimal</li><li>String</li><li>Calendar</li><li>List&lt;Object></li><li>Map&lt;String, Object></li></ul><h4 id=첨부파일>첨부파일</h4><p>EgovIntegrationMessage의 첨부파일을 access 하기 위한 메소드는 아래와 같다.</p><table border=1><tr><td colspan=5 style=text-align:center;font-weight:700>Method Summary</td></tr><tr><td style=text-align:right>Map&lt;String, Object></td><td>getAttachments()</td></tr><tr><td style=text-align:right>void</td><td>setAttachments(Map&lt;String, Object> attachments)</td></tr><tr><td style=text-align:right>Object</td><td>getAttachment(String name)</td></tr><tr><td style=text-align:right>void</td><td>putAttachment(String name, Object attachment)</td></tr><tr><td style=text-align:right>Object</td><td>removeAttachment(String name)</td></tr></table><h3 id=egovintegrationmessageheader>EgovIntegrationMessageHeader</h3><p>EgovIntegrationMessageHeader는 다음과 같은 정보를 담고 있다.</p><table><thead><tr><th><center>Attribute Name</center></th><th><center>Data Type</center></th><th><center>설명</center></th></tr></thead><tbody><tr><td>IntegrationId</td><td>String</td><td>연계ID</td></tr><tr><td>ProviderOrganizationId</td><td>String</td><td>연계 제공 기관ID</td></tr><tr><td>ProviderSystemId</td><td>String</td><td>연계 제공 시스템ID</td></tr><tr><td>ProviderServiceId</td><td>String</td><td>연계 제공 서비스ID</td></tr><tr><td>ConsumerOrganizationId</td><td>String</td><td>연계 요청 기관ID</td></tr><tr><td>ConsumerSystemId</td><td>String</td><td>연계 요청 시스템ID</td></tr><tr><td>RequestSendTime</td><td>Calendar</td><td>요청 송신 시각</td></tr><tr><td>RequestReceiveTime</td><td>Calendar</td><td>요청 수신 시각</td></tr><tr><td>ResponseSendTime</td><td>Calendar</td><td>응답 송신 시각</td></tr><tr><td>ResponseReceiveTime</td><td>Calendar</td><td>응답 수신 시각</td></tr><tr><td>ResultCode</td><td><a href=#egovintegrationmessageheaderresultcode>ResultCode</a></td><td>결과 코드</td></tr><tr><td>ResultMessage</td><td>String</td><td>결과 메시지</td></tr></tbody></table><p>EgovIntegrationMessageHeader는 위 attribute에 대한 get/set 메소드를 정의하고 있다.</p><h3 id=egovintegrationmessageheaderresultcode>EgovIntegrationMessageHeader::ResultCode</h3><p>EgovIntegrationMessageHeader의 ResultCode Attribute는 다음 연계 서비스 결과 코드 중 하나의 값을 담고 있다.</p><table><thead><tr><th><center>Code Name</center></th><th><center>한글명</center></th><th><center>Value</center></th><th><center>설명</center></th></tr></thead><tbody><tr><td>OK</td><td>정상 종료</td><td>“0000”</td><td>연계가 정상적으로 종료된 경우</td></tr><tr><td>TIME_OUT</td><td>Timeout 발생</td><td>“0001”</td><td>연계 수행 중 Client 단에서 Timeout이 발생한 경우</td></tr><tr><td>BUSINESS_ERROR</td><td>업무 오류 발생</td><td>“0002”</td><td>연계 수행 중 Server 단에서 업무적인 오류가 발생한 경우</td></tr><tr><td>NOT_USABLE_INTEGRATION</td><td>사용하지 않는 연계</td><td>“1000”</td><td>연계 정의(IntegrationDefinition)의 using flag가 false인 경우</td></tr><tr><td>INVALID_TIME</td><td>연계 가용시간이 아님</td><td>“1001”</td><td>연계를 요청한 시각이 연계 정의(IntegrationDefinition)의 validateFrom과 validateTo 사이가 아닌 경우<br>• 연계 가용시각 조건 =<br><code>(validateFrom == null || validateFrom.compareTo(now) &lt;= 0) && (validateTo == null || now.compareTo(validateTo) &lt;= 0)</code><br>* now : Calendaer = 현재 시각</td></tr><tr><td>NOT_USABLE_SERVICE</td><td>사용하지 않는 서비스</td><td>“1002”</td><td>연계 정의(IntegrationDefinition)에 등록된 제공 서비스(ServiceDefinition)의 using flag 값이 false인 경우</td></tr><tr><td>UNEXPECTED_CONSUMER</td><td>기대하지 않은 연계 요청자</td><td>“1003”</td><td>연계 제공 시스템(Server)에 등록된 연계 정의(IntegrationDefinition)의 요청 시스템 코드값과 요청 메시지 헤더의 요청 시스템 코드값이 일치하지 않는 경우</td></tr><tr><td>UNEXPECTED_PROVIDER</td><td>기대하지 않은 연계 제공자</td><td>“1004”</td><td>연계 제공 시스템(Server)에 등록된 시스템 코드와 요청 메시지 헤더의 제공 시스템 코드값이 일치하지 않는 경우</td></tr><tr><td>NO_SUCH_SERVICE</td><td>제공하지 않는 서비스</td><td>“1005”</td><td>연계 제공 시스템(Server)에 등록되어 있지 않은 서비스를 요청한 경우</td></tr><tr><td>FAIL_IN_INITIALIZING</td><td>연계 서비스 초기화 실패</td><td>“1006”</td><td>연계 제공 서비스를 초기화하는데 실패한 경우</td></tr><tr><td>FAIL_IN_CREATING_REQUEST_MESSAGE</td><td>요청 메시지 생성 실패</td><td>“2000”</td><td>Client에서 요청 메시지를 생성할 때 오류가 발생한 경우</td></tr><tr><td>FAIL_IN_SENDING_REQUEST</td><td>요청 메시지 송신 실패</td><td>“2001”</td><td>Client에서 요청 메시지를 송신할 때 오류가 발생한 경우</td></tr><tr><td>FAIL_IN_RECEIVING_REQUEST</td><td>요청 메시지 수신 실패</td><td>“3000”</td><td>Server에서 요청 메시지를 수신할 때 오류가 발생한 경우</td></tr><tr><td>FAIL_IN_PARSING_REQUEST_MESSAGE</td><td>요청 메시지 분석 실패</td><td>“3001”</td><td>Server에서 요청 메시지를 분석할 때 오류가 발생한 경우</td></tr><tr><td>NO_MESSAGE_HEADER_IN_REQUEST</td><td>요청 메시지 헤더 부재</td><td>“3002”</td><td>Server에서 받은 요청 메시지에 표준 메시지 헤더가 존재하지 않는 경우</td></tr><tr><td>FAIL_TO_CALL_SERVICE_PROVIDER</td><td>서비스 제공 모듈 호출 실패</td><td>“3003”</td><td>Server에서 서비스 제공 모듈을 호출할 때 오류가 발생한 경우</td></tr><tr><td>FAIL_IN_CREATING_RESPONSE_MESSAGE</td><td>응답 메시지 생성 실패</td><td>“4000”</td><td>Server에서 응답 메시지를 생성할 때 오류가 발생한 경우</td></tr><tr><td>FAIL_IN_SENDING_RESPONSE</td><td>응답 메시지 송신 실패</td><td>“4001”</td><td>Server에서 응답 메시지를 송신할 때 오류가 발생한 경우</td></tr><tr><td>FAIL_IN_RECEIVING_RESPONSE</td><td>응답 메시지 수신 실패</td><td>“5000”</td><td>Client에서 응답 메시지를 수신할 때 오류가 발생한 경우</td></tr><tr><td>FAIL_IN_PARSING_RESPONSE_MESSAGE</td><td>응답 메시지 분석 실패</td><td>“5001”</td><td>Client에서 응답 메시지를 분석할 때 오류가 발생한 경우</td></tr></tbody></table><h3 id=egovintegrationservice>EgovIntegrationService</h3><p>EgovIntegrationService를 동기화 방식의 호출과 비동시화 방식의 호출을 지원한다.</p><ul><li><a href=#%EB%8F%99%EA%B8%B0%ED%99%94-%EB%B0%A9%EC%8B%9D>동기화 방식</a></li><li><a href=#%EB%B9%84%EB%8F%99%EA%B8%B0%ED%99%94-%EB%B0%A9%EC%8B%9D>비동기화 방식</a></li></ul><h4 id=동기화-방식>동기화 방식</h4><p>EgovIntegrationService의 sendSync 메소드는 동기화 방식으로 연계 서비스를 호출한다.</p><p><img src=../images/integration_service_api_sequencediagram_sendsync.png alt="Integration Service API SequenceDiagram SendSync"></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EgovIntegrationSample</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>verifyName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>residentRegistrationNumber</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// EgovIntegrationContext에서 EgovIntegrationService 객체를 얻어온 후, 요청 메시지를 생성 및 작성한다.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 동기방식으로 연계 서비스 호출 (timeout = 5000 millisecond)
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>responseMessage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>service</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sendSync</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>5000</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 응답 결과 처리
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>     <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>     <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>EgovIntegrationContext 또는 Metadata의 연계등록정보에 등록된 default timeout 값을 사용할 경우, timeout 값을 생략할 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>responseMessage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>servicd</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sendSync</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span></code></pre></div><h4 id=비동기화-방식>비동기화 방식</h4><p>EgovIntegrationService의 sendAsync 메소드는 비동기화 방식으로 연계 서비스를 호출한다. sendAsync 메소드는 두가지 방식이 존재한다.</p><ul><li><a href=#using-sendasync-with-response>Using sendAsync with Response</a></li><li><a href=#using-sendasync-with-callback>Using sendAsync with Callback</a></li></ul><h5 id=using-sendasync-with-response>Using sendAsync with Response</h5><p>EgovIntegrationServiceResponse를 이용한 비동기 호출 방식이다. Response 방식의 비동기 호출은 연계 서비스를 요청하는 업무 모듈에 응답에 대한 ownership를 가지고 있으며, 응답 결과를 스스로 처리해야 하는 경우 사용한다.</p><p><img src=../images/integration_service_api_sequencediagram_sendasync_with_response.png alt="Integration Service API SequenceDiagram SendAsync With Response"></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EgovIntegrationSample</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>verifyName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>residentRegistrationNumber</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// EgovIntegrationContext에서 EgovIntegrationService 객채를 얻어온 후, 요청 메시지를 생성 및 작성한다.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 비동기방식으로 연계 서비스 호출
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>EgovIntegrationServiceResponse</span> <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>service</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sendAsync</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// response 객체를 이용하여 응답 메시지를 받기 전에 필요한 업무를 수행
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>         <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// response 객체를 이용하여 응답 메시지 수신(timeout = 5000 millisecond)
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>         <span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>responseMessage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>receive</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>5000</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 응답 메시지 처리
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>EgovIntegrationContext 또는 Metadata의 연계등록정보에 등록된 default timeout 값을 사용할 경우, timeout 값을 생략할 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// response 객체를 이용하여 응답 메시지 수신
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>responseMessage</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>receive</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span></code></pre></div><h5 id=using-sendasync-with-callback>Using sendAsync with Callback</h5><p>EgovIntegrationServiceCallback를 이용한 비동기 호출 방식이다. Callback 방식의 비동기 호출은 연계 서비스를 요청하는 업무 모듈은 단지 요청만을 수행하고, 응답에 대한 처리는 Callback 객체에게 위임해도 상관없은 경우 사용한다.</p><p><img src=../images/integration_service_api_sequencediagram_sendasync_with_callback.png alt="Integration Service API SequenceDiagram SendAsync With Callback"></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EgovIntegrationSample</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Resource</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;verifyNameServiceCallback&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>EgovIntegrationServiceCallback</span> <span style=color:#000>callback</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>verifyName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>String</span> <span style=color:#000>residentRegistrationNumber</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// EgovIntegrationContext에서 EgovIntegrationService 객채를 얻어온 후, 요청 메시지를 생성 및 작성한다.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 비동기방식으로 연계 서비스 호출
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>         <span style=color:#000>service</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sendSync</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>callback</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>itl.sample</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>egovintegration.rte.itl.integration.EgovIntegrationServiceCallback</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>egovintegration.rte.itl.integration.EgovIntegrationServiceCallback.CallbackId</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>VefiryNameServiceCallback</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>CallbackId</span> <span style=color:#000>createId</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>EgovIntegrationService</span> <span style=color:#000>service</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 본 메소드는 EgovIntegrationService를 구현한 연계 Adaptor 또는 솔루션에서 불리워진다.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#8f5902;font-style:italic>// 서비스와 요청 메시지를 이용하여 CallbackId를 생성하여 return한다.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#8f5902;font-style:italic>// 생성한 CallbackId는 응답 메시지 수신 시, 해당하는 서비스 및 요청 메시지를 식별하기 위해 사용한다.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// CallbackId 생성
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>CallbackId</span> <span style=color:#000>callbadkId</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>callbackId</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>vod</span> <span style=color:#000>onReceive</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>CallbackId</span> <span style=color:#000>callbackId</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>responseMessage</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 본 메소드는 처리해야 하는 응답 메시지가 도착했을 때, 연계 Adaptor 또는 솔루션에 의해 불리워진다.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 응답 메시지 처리
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>         <span style=color:#ce5c00;font-weight:700>...</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=egovintegrationserviceprovider>EgovIntegrationServiceProvider</h3><p>EgovIntegrationServiceProvider interface는 연계 서비스를 제공하기 위한 interface로 연계 서비스를 제공하는 모듈은 본 interface를 implements 해야 한다.<br>아래 예제는 이름과 주민등록번호는 이용하여 실명확인을 수행하는 서비스를 제공하는 업무 모듈과 Spring Framework Configuration XML 파일이다. (Metadata는 <a href=#egovintegrationcontext>EgovIntegrationContext</a> 예제의 설정과 같다.)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>itl.sample</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>egovframework.rte.itl.integration.EgovIntegrationMessage</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>egovframework.rte.itl.integration.EgovIntegrationServiceProvider</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ServiceVerifyName</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>EgovIntegrationServiceProvider</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>service</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>EgovIntegrationMessage</span> <span style=color:#000>responseMessage</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>String</span> <span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getBody</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>String</span> <span style=color:#000>residentRegistrationNumber</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>requestMessage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getBody</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>get</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;residentRegistrationNumber&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// 실명 확인
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>         <span style=color:#204a87;font-weight:700>boolean</span> <span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>varifyName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>residentRegistrationNumber</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#000>responseMessage</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getBody</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>put</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;result&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>result</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    ...
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;serviceVerifyName&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;itl.sample.ServiceVerifyName&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    ...
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-8bb3f8e93286320a66b08dd4aad5089d>5 - WebService</h1><div class=lead>WebService는 전자정부 개발프레임워크 Integration 서비스 표준에 따라 WebService를 요청하고 제공하기 위한 Library이다.</div><h1 id=webservice>WebService</h1><h2 id=개요>개요</h2><p>WebService는 전자정부 개발프레임워크 Integration 서비스 표준에 따라 WebService를 요청하고 제공하기 위한 Library이다.</p><h3 id=주요-개념>주요 개념</h3><h4 id=web-services>Web Services</h4><p>W3C는 Web Service를 “네트워크 상에서 발생하는 컴퓨터 간의 상호작용을 지원하기 위한 소프트웨어 시스템”으로 정의하고 있다. 일반적으로 Web Service는 인터넷과 같은 네트워크 상에서 접근되고, 요청된 서비스를 제공하는 원격 시스템에서 수행되는 Web APIs이다.</p><p><img src=../images/web_service_wbg.png alt=WebService></p><ul><li>참조 : <a href=https://en.wikipedia.org/wiki/Web_service>https://en.wikipedia.org/wiki/Web_service</a></li></ul><h3 id=사용-오픈소스>사용 오픈소스</h3><h4 id=apache-cxf>Apache CXF</h4><p>WebService는 Web Service 구현하기 위해서 <a href=https://cxf.apache.org/>Apache CXF</a>를 사용한다.</p><h2 id=설명>설명</h2><p>WebService는 <a href=./integration-service.md>Integration Service</a> 표준에 따라 구현한 Library이므로, 본 장에서는 API 등의 사용 방식은 설명하지 않는다. 본 장은 WebService 만을 위한 추가적인 설정 정보를 설명하고, 설정 방법을 가이드한다.</p><h3 id=metadata>Metadata</h3><p>WebService는 연계 서비스를 요청하고 제공하기 위한 Web Service Client와 Server 정보를 필요로한다.</p><h4 id=물리erd>물리ERD</h4><p><img src=../images/webservice_metadata_2.png alt="WebService Metadata"></p><table><thead><tr><th><center>Table</center></th><th><center>설명</center></th></tr></thead><tbody><tr><td>WEB_SERVICE_SERVER</td><td>연계 서비스를 Web Service 형태로 공개(publish)하기 위해 필요한 정보를 담고 있다.</td></tr><tr><td>WEB_SERVICE_CLIENT</td><td>Web Service 형태로 공개(publish)되어 있는 연계 서비스를 호출하기 위해 필요한 정보를 담고 있다.</td></tr><tr><td>WEB_SERVICE_MAPPING</td><td>전자정부 Integration 서비스 표준에 따라 개발된 서비스가 아닌 기존의 Legacy 시스템의 Web Service를 호출하기 위해, 표준 메시지와 Web Service 메시지 간의 mapping 정보를 담고 있다.</td></tr></tbody></table><h4 id=물리-모델-domain-설명>물리 모델 Domain 설명</h4><table><thead><tr><th><center>Domain</center></th><th><center>Data Type</center></th><th><center>설명</center></th><th><center>비고</center></th></tr></thead><tbody><tr><td>URL</td><td>VARCHAR2(200)</td><td>URL을 나타낸다.</td><td></td></tr><tr><td>WebServiceMappingType</td><td>CHAR(2)</td><td>Req/Res 구분을 나타낸다.</td><td>&lsquo;REQ&rsquo; : Request<br>&lsquo;RES&rsquo; : Response</td></tr></tbody></table><h4 id=물리-모델-table-설명>물리 모델 Table 설명</h4><h5 id=web_service_server>WEB_SERVICE_SERVER</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Table 명</td><td colspan=5>WEB_SERVICE_SERVER</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=5>연계 서비스를 Web Service 형태로 공개(publish)하기 위해 필요한 정보를 담고 있다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Column</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Column명</td><td style=text-align:center;font-weight:700>한글명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>Null</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>SERVICE_KEY</td><td>서비스KEY</td><td>SurrogateKey</td><td>VARCHAR2(20)</td><td style=text-align:center>N</td><td>서비스 Key이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center></td><td>ADDRESS</td><td>주소</td><td>URL</td><td>VARCHAR2(200)</td><td style=text-align:center>N</td><td>서비스를 공개할 주소이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>NAMESPACE</td><td>네임스페이스</td><td>URL</td><td>VARCHAR2(200)</td><td style=text-align:center>N</td><td>서비스의 네임스페이스이다.</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center></td><td>SERVICE_NAME</td><td>서비스명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>공개할 때 사용할 서비스의 이름이다.</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center></td><td>PORT_NAME</td><td>포트명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>공개할 때 사용할 포트의 이름이다.</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center></td><td>OPERATION_NAME</td><td>기능명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>공개할 때 사용할 기능의 이름이다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Constraints</td></tr><tr><td colspan=8>PRIMARY KEY (SERVICE_KEY)</td></tr><tr><td colspan=8>FOREIGN KEY (SERVICE_KEY) REFERENCES SERVICE (SERVICE_KEY)</td></tr></table><h5 id=web_service_client>WEB_SERVICE_CLIENT</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Table 명</td><td colspan=5>WEB_SERVICE_CLIENT</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=5>Web Service 형태로 공개(publish)되어 있는 연계 서비스를 호출하기 위해 필요한 정보를 담고 있다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Column</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Column명</td><td style=text-align:center;font-weight:700>한글명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>Null</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>SERVICE_KEY</td><td>서비스KEY</td><td>SurrogateKey</td><td>VARCHAR2(20)</td><td style=text-align:center>N</td><td>서비스 Key이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center></td><td>WSDL_ADDRESS</td><td>WSDL 주소</td><td>URL</td><td>VARCHAR2(200)</td><td style=text-align:center>N</td><td>사용할 서비스의 WSDL 주소이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center></td><td>NAMESPACE</td><td>네임스페이스</td><td>URL</td><td>VARCHAR2(200)</td><td style=text-align:center>N</td><td>서비스의 네임스페이스이다.</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center></td><td>SERVICE_NAME</td><td>서비스명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>사용할 서비스의 이름이다.</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center></td><td>PORT_NAME</td><td>포트명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>사용할 포트의 이름이다.</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center></td><td>OPERATION_NAME</td><td>기능명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>사용할 기능의 이름이다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Constraints</td></tr><tr><td colspan=8>PRIMARY KEY (SERVICE_KEY)</td></tr><tr><td colspan=8>FOREIGN KEY (SERVICE_KEY) REFERENCES SERVICE (SERVICE_KEY)</td></tr></table><h5 id=web_service_mapping>WEB_SERVICE_MAPPING</h5><table border=1><tr><td colspan=3 style=text-align:center;font-weight:700>Table 명</td><td colspan=5>WEB_SERVICE_MAPPING</td></tr><tr><td colspan=3 style=text-align:center;font-weight:700>설명</td><td colspan=5>전자정부 Integration 서비스 표준에 따라 개발된 서비스가 아닌 기존의 Legacy 시스템의 Web Service를 호출하기 위해, 표준 메시지와 Web Service 메시지 간의 mapping 정보를 담고 있다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Column</td></tr><tr><td style=text-align:center;font-weight:700>Seq</td><td style=text-align:center;font-weight:700>PK</td><td style=text-align:center;font-weight:700>Column명</td><td style=text-align:center;font-weight:700>한글명</td><td style=text-align:center;font-weight:700>Domain</td><td style=text-align:center;font-weight:700>Data Type</td><td style=text-align:center;font-weight:700>Null</td><td style=text-align:center;font-weight:700>설명</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>Y</td><td>SERVICE_KEY</td><td>서비스KEY</td><td>SurrogateKey</td><td>VARCHAR2(20)</td><td style=text-align:center>N</td><td>서비스 Key이다.</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>Y</td><td>MESSAGE_TYPE</td><td>메시지타입</td><td>WebServiceMappingType</td><td>CHAR(3)</td><td style=text-align:center>N</td><td>Req/Res 구분이다.</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>Y</td><td>FIELD_NAME</td><td>필드명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>표준 메시지 Field 이름이다.</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center></td><td>ARGUMENT_INDEX</td><td>변수순서</td><td>Number</td><td>Integer</td><td style=text-align:center>N</td><td>Web Service 메시지의 변수 순서이다.</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center></td><td>ARGUMENT_NAME</td><td>변수명</td><td>Name</td><td>VARCHAR2(40)</td><td style=text-align:center>N</td><td>Web Service 메시지의 변수 이름이다.</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center></td><td>HEADER_YN</td><td>헤더여부</td><td>Boolean</td><td>CHAR(1)</td><td style=text-align:center>N</td><td>Web Service 헤더 여부이다.</td></tr><tr><td colspan=8 style=text-align:center;font-weight:700>Constraints</td></tr><tr><td colspan=8>PRIMARY KEY (SERVICE_KEY, MESSAGE_TYPE, FIELD_NAME)</td></tr><tr><td colspan=8>FOREIGN KEY (SERVICE_KEY) REFERENCES WEB_SERVICE_CLIENT (SERVICE_KEY)</td></tr></table><h3 id=설정-방법>설정 방법</h3><p>WebService를 사용하기 위해 다음의 설정이 필요하다.</p><ol><li><a href=#pomxml%EC%97%90-dependency-%EC%84%A4%EC%A0%95-%EC%B6%94%EA%B0%80>pom.xml에 dependency 설정 추가</a></li><li><a href=#spring-xml-configuration-%EC%84%A4%EC%A0%95>Spring XML Configuration 설정</a></li></ol><h4 id=pomxml에-dependency-설정-추가>pom.xml에 dependency 설정 추가</h4><p>WebService를 사용하기 위해서 pom.xml의 dependencies tag에 다음 dependency를 추가한다.</p><ul><li>&lt;version> tag의 값인 ${egovframework.versioin}에는 사용할 egovframework의 version을 기재한다.</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>        ...
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>egovframework.rte<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>egovframework.rte.itl.webservice<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>${egovframework.version}<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>        ...
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span>    ...
</span></span></code></pre></div><h4 id=spring-xml-configuration-설정>Spring XML Configuration 설정</h4><p>WebService를 위한 기본적인 설정이 포함된 “context-webservice.xml” 파일을 Spring XML Configuration 파일에 import한다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;import</span> <span style=color:#c4a000>resource=</span><span style=color:#4e9a06>&#34;classpath:/egovframework/rte/itl/webservice/context/context-webservice.xml&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div><p>그리고 Context와 DataSource를 등록해야 한다.(DataSource의 경우, 프로젝트에서 사용하는 것이 있을 경우 설정하지 않아도 된다. 단, 반드시 id가 “dataSource”이여야 한다.)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>&lt;!-- EgovWebServiceContext 이다.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>         organizationId 와 systemId 는 현재 시스템의 기관ID 및 시스템ID를 넣어야 한다. --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;egovWebServiceContext&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;egovframework.rte.itl.webservice.EgovWebServiceContext&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#c4a000>init-method=</span><span style=color:#4e9a06>&#34;init&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;organizationId&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;ORG_EGOV&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;systemId&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;SYS00001&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;defaultTimeout&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;5000&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;integrationDefinitionDao&#34;</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;integrationDefinitionDao&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;webServiceServerDefinitionDao&#34;</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;webServiceServerDefinitionDao&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;webServiceClientDefinitionDao&#34;</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;webServiceClientDefinitionDao&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;typeLoader&#34;</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;typeLoader&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;classLoader&#34;</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;classLoader&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>&lt;!-- DataSource 설정이다. 시스템에 맞게 재작성 해야 한다. 아래는 HSQL Sample이다. --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;dataSource&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.apache.commons.dbcp.BasicDataSource&#34;</span> <span style=color:#c4a000>destroy-method=</span><span style=color:#4e9a06>&#34;close&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;driverClassName&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;net.sf.log4jdbc.DriverSpy&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;url&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;jdbc:log4jdbc:hsqldb:hsql://localhost/test&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;username&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;sa&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;password&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;defaultAutoCommit&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;false&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;poolPreparedStatements&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div><h3 id=client-모듈-개발>Client 모듈 개발</h3><p>WebService Client 모듈은 Web Service로 공개된 Integration 서비스 표준에 따라 호출하는 모듈로서, 본 장은 설정 방식을 설명한다. (호출 방식은 <a href=./integration-service-api.md>연계 서비스 API</a>를 참조한다.)<br>Client 모듈을 설정하기 위해서는 다음 과정이 필요하다.</p><ol><li><a href=#metadata-web_service_client-%EC%84%A4%EC%A0%95-%EC%B6%94%EA%B0%80>Metadata WEB_SERVICE_CLIENT 설정 추가</a></li><li><a href=#optional-metadata-web_service_mapping-%EC%84%A4%EC%A0%95-%EC%B6%94%EA%B0%80>(Optional) Metadata WEB_SERVICE_MAPPING 설정 추가</a></li></ol><h4 id=metadata-web_service_client-설정-추가>Metadata WEB_SERVICE_CLIENT 설정 추가</h4><p>Client 모듈을 설정하기 위해서는 Metadata의 WEB_SERVICE_CLIENT Table에 설정을 추가해야 한다.<br>다음과 같이 Integration 서비스의 Metadata인 INTEGRATION Table에 연계등록정보가 설정되어 있다고 가정한다. (* 기관, 시스템, 서비스, 메시지타입 등의 정보는 설정되어 있으며, 개발하는 시스템은 &lsquo;SYSTEM_CONSUMER&rsquo;라고 가정함)</p><table border=1><tr><td colspan=7 style=text-align:center;font-weight:700>INTEGRATION</td></tr><tr><td style=text-align:center;font-weight:700>ID</td><td style=text-align:center;font-weight:700>PROVIDER_SERVICE_KEY</td><td style=text-align:center;font-weight:700>CONSUMER_SYSTEM_KEY</td><td style=text-align:center;font-weight:700>DEFAULT_TIMEOUT</td><td style=text-align:center;font-weight:700>USING_YN</td><td style=text-align:center;font-weight:700>VALIDATE_FROM</td><td style=text-align:center;font-weight:700>VALIDATE_TO</td></tr><tr><td>'INT_VERIFY_NAME'</td><td>'SERVICE_VERIFY_NAME'</td><td>'SYSTEM_CONSUMER'</td><td>5000</td><td>'Y'</td><td>NULL</td><td>NULL</td></tr></table><p>Web Service &lsquo;SERVICE_VERIFY_NAME&rsquo;를 호출하기 위해서 WEB_SERVICE_CLIENT에 &lsquo;SERVICE_VERIFY_NAME&rsquo;을 SERVICE_KEY로 갖는 설정을 추가해야 한다.</p><table border=1><tr><td colspan=6 style=text-align:center;font-weight:700>WEB_SERVICE_CLIENT</td></tr><tr><td style=text-align:center;font-weight:700>SERVICE_KEY</td><td style=text-align:center;font-weight:700>WSDL_ADDRESS</td><td style=text-align:center;font-weight:700>NAMESPACE</td><td style=text-align:center;font-weight:700>SERVICE_NAME</td><td style=text-align:center;font-weight:700>PORT_NAME</td><td style=text-align:center;font-weight:700>OPERATION_NAME</td></tr><tr><td>'SERVICE_VERIFY_NAME'</td><td>'http://192.168.0.1:8080/Sample/services/VerifyName?wsdl'</td><td>'http://itl/sample/'</td><td>'VerifyNameService'</td><td>'VerifyNamePort'</td><td>'service'</td></tr></table><h4 id=optional-metadata-web_service_mapping-설정-추가>(Optional) Metadata WEB_SERVICE_MAPPING 설정 추가</h4><p>만약 호출하는 Web Service가 전자정부 Integration 서비스 표준에 따라 개발된 서비스가 아닌 경우, 메시지 헤더부가 다를 수 있어 별도의 Mapping 정보가 필요하다.<br>전자정부 Integration 서비스 표준은 Web Service Header부에 들어갈 Attribute들이 EgovIntegrationMessageHeader에 정의되어 있고, 바디부는 EgovIntegrationMessage의 body에 정의되어 있으므로 별도의 mapping 정보 없이 header와 body 부의 구분이 가능하지만, 표준을 따르지 않은 Web Service의 경우 EgovIntegrationMessage의 body부에 정의되어 있는 일부 값들을 헤더에 포함시켜야 한다.</p><p>WEB_SERVICE_MAPPING Table의 정보는 Integration 서비스 표준에 정의되어 있는 메시지 형태를 기준으로 한다. 서비스 &lsquo;SERVICE_VERIFY_NAME&rsquo;의 Request Message는 &rsquo;name&rsquo;, &lsquo;residentRegistrationNumber&rsquo; 필드를 가지고, Response Message는 &lsquo;result&rsquo; 필드를 가진다. 따라서 &lsquo;SERVICE_VERIFY_NAME&rsquo;에 해당하는 WEB_SERVICE_MAPPING은 다음의 정보를 가져야 한다.</p><table border=1><tr><td colspan=6 style=text-align:center;font-weight:700>WEB_SERVICE_MAPPING</td></tr><tr><td style=text-align:center;font-weight:700>SERVICE_KEY</td><td style=text-align:center;font-weight:700>MESSAGE_TYPE</td><td style=text-align:center;font-weight:700>FIELD_NAME</td><td style=text-align:center;font-weight:700>ARGUMENT_INDEX</td><td style=text-align:center;font-weight:700>ARGUMENT_NAME</td><td style=text-align:center;font-weight:700>HEADER_YN</td></tr><tr><td>'SERVICE_VERIFY_NAME'</td><td>'REQ'</td><td>'name'</td><td>1</td><td>'name'</td><td>Y</td></tr><tr><td>'SERVICE_VERIFY_NAME'</td><td>'REQ'</td><td>'residentRegistrationNumber'</td><td>2</td><td>'residentRegistrationNumber'</td><td>N</td></tr><tr><td>'SERVICE_VERIFY_NAME'</td><td>'RES'</td><td>'result'</td><td>1</td><td>'result'</td><td>N</td></tr></table><p>위 정보 중 HEADER_YN column의 값에 따라 해당 field가 Web Service Envelop의 header에 포함될지 여부를 판단한다. 위 설정값을 적용하면, 요청 메시지 중 &rsquo;name&rsquo; field는 Web Service Envelop의 헤더에 포함된다.</p><h3 id=server-모듈-개발>Server 모듈 개발</h3><p>Web Service Server 모듈을 개발하는 과정은 다음과 같다.</p><ol><li><a href=#webxml%EC%97%90-egovwebserviceservlet-%EC%B6%94%EA%B0%80>web.xml에 EgovWebServiceServlet 추가</a></li><li><a href=#metadata-web_service_server-%EC%84%A4%EC%A0%95-%EC%B6%94%EA%B0%80>Metadata WEB_SERVICE_SERVER 설정 추가</a></li></ol><h4 id=webxml에-egovwebserviceservlet-추가>web.xml에 EgovWebServiceServlet 추가</h4><p>web.xml에 EgovWebServiceServlet 설정을 추가한다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;description&gt;&lt;/description&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;display-name&gt;</span>EgovWebServiceServlet<span style=color:#204a87;font-weight:700>&lt;/display-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>EgovWebServiceServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-class&gt;</span>egovframework.rte.itl.webservice.EgovWebServiceServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;load-on-startup&gt;</span>1<span style=color:#204a87;font-weight:700>&lt;/load-on-startup&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/servlet&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>EgovWebServiceServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/services/*<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    ...
</span></span></code></pre></div><p>&lt;url-pattern> tag의 값은 변경 될 수 있다. 자세한 설명은 다음 WEB_SERVICE_SERVER 설정을 참조한다.</p><h4 id=metadata-web_service_server-설정-추가>Metadata WEB_SERVICE_SERVER 설정 추가</h4><p>다음과 같이 Integration 서비스의 Metadata인 INTEGRATION Table에 연계등록정보가 설정되어 있다고 가정한다. (* 기관, 시스템, 서비스, 메시지타입 등의 정보는 설정되어 있으며, 공개할 서비스는 &lsquo;SERVICE_VERIFY_NAME&rsquo;이라고 가정함)</p><table border=1><tr><td colspan=7 style=text-align:center;font-weight:700>INTEGRATION</td></tr><tr><td style=text-align:center;font-weight:700>ID</td><td style=text-align:center;font-weight:700>PROVIDER_SERVICE_KEY</td><td style=text-align:center;font-weight:700>CONSUMER_SYSTEM_KEY</td><td style=text-align:center;font-weight:700>DEFAULT_TIMEOUT</td><td style=text-align:center;font-weight:700>USING_YN</td><td style=text-align:center;font-weight:700>VALIDATE_FROM</td><td style=text-align:center;font-weight:700>VALIDATE_TO</td></tr><tr><td>'INT_VERIFY_NAME'</td><td>'SERVICE_VERIFY_NAME'</td><td>'SYSTEM_CONSUMER'</td><td>5000</td><td>'Y'</td><td>NULL</td><td>NULL</td></tr></table><p>Web Service &lsquo;SERVICE_VERIFY_NAME&rsquo;를 공개하기 위해서 WEB_SERVICE_SERVER에 &lsquo;SERVICE_VERIFY_NAME&rsquo;을 SERVICE_KEY로 갖는 설정을 추가해야 한다.</p><table border=1><tr><td colspan=6 style=text-align:center;font-weight:700>WEB_SERVICE_SERVICE</td></tr><tr><td style=text-align:center;font-weight:700>SERVICE_KEY</td><td style=text-align:center;font-weight:700>ADDRESS</td><td style=text-align:center;font-weight:700>NAMESPACE</td><td style=text-align:center;font-weight:700>SERVICE_NAME</td><td style=text-align:center;font-weight:700>PORT_NAME</td><td style=text-align:center;font-weight:700>OPERATION_NAME</td></tr><tr><td>'SERVICE_VERIFY_NAME'</td><td>'/VerifyName'</td><td>'http://itl/sample/'</td><td>'VerifyNameService'</td><td>'VerifyNamePort'</td><td>'service'</td></tr></table><p>&lt;servlet-mapping> tag의 &lt;url-pattern> tag의 값은 서비스를 제공하기 위한 주소로, WEB_SERVICE_SERVER Table의 ADDRESS Column 값은 &lt;url-pattern> tag값에 대한 상대 위치를 나타낸다.<br>예를 들어, Web Application의 IP가 192.168.0.1, Port가 8080, Context Root가 “Sample”, url-patterns이 ”/services/*”인 경우, 위 &lsquo;SERVICE_VERIFY_NAME&rsquo;의 WSDL Address는 <code>http://192.168.0.1:8080/Sample/services/VerifyName?wsdl</code>이다.</p><h3 id=was에-배포>WAS에 배포</h3><p>전자정부 WebService를 포함한 어플리케이션을 WAS에 배포(deploy)하는 방법을 설명한다. Apache CXF의 경우 Web Service 관련 라이브러리를 CXF에서 제공하는 것을 사용해야 한다. 만약 WAS가 기본적으로 Web Service 라이브러리를 제공할 경우, 정상적으로 동작하지 않을 수 있다. 따라서 CXF 라이브러리를 사용할 수 있도록 설정을 변경해야 하는데, 대부부의 해결책은 Web Application의 WEB-INF의 라이브러리를 먼저 loading하도록 Class Loading 순서를 변경하는 것이다.</p><p>본 WebService는 JAX-WS 2.0 이상을 사용한다.</p><h4 id=tmaxsoft-jeus-60>TmaxSoft JEUS 6.0</h4><p>전자정부 WebService의 경우 내부적으로 CXF를 사용하지만 JEUS 6.0에 배포했을 경우 Server 모듈을 공개(publish)할 때 문제가 발생한다. 그 원인은 JEUS 6.0에 기본적으로 포함되어 있는 Web Services 관련 library와 전자정부 WebService가 사용하는 library가 같지 않기 때문이다. 현재 아래와 같은 2가지 문제가 발견되었다.</p><ul><li><p>Publish Address 문제<br>Server 모듈을 publish할 때 EgovWebServiceServlet의 path에 대한 상대경로를 사용한다. Apache CXF가 사용하는 library의 경우, 이를 실제 주소로 변환해주지만, JEUS 6.0에 기본적으로 포함된 library는 그렇지 않기 때문에 IllegalArgumentException을 발생시킨다.</p></li><li><p>Service Endpoint Interface 참조 문제<br>전자정부 WebService는 Integration 서비스 표준에 따라 Server 모듈의 Service Endpoint Interface와 구현 class를 동적으로 생성한다. 하지만 JEUS 6.0에 기본적으로 포함된 library의 경우, 이렇게 동적으로 생성된 class를 인식하지 못해서 Exception이 발생한다.</p></li></ul><p>해결방법은 전자정부 WebService가 사용하는 library가 ClassLoader에서 먼저 loading되게 하는 것이다. JEUS 6.0은 jeus-web-dd.xml 설정을 통해서 WEB-INF/lib에 있는 library를 먼저 loading하도록 설정할 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;jeus-web-dd</span>  <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://www.tmaxsoft.com/xml/ns/jeus&#34;</span> <span style=color:#c4a000>version=</span><span style=color:#4e9a06>&#34;6.0&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;webinf-first&gt;</span>true<span style=color:#204a87;font-weight:700>&lt;/webinf-first&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/jeus-web-dd&gt;</span>
</span></span></code></pre></div><p>위 jeus-web-dd.xml 파일을 web.xml 파일이 존재하는 WEB-INF 폴더에 위치시킨다. 그리고, webinf-first를 true로 설정하는 경우, XML Parser에 대한 충돌이 발생한다. 충돌을 해결하기 위해서 아래 2개의 파일을 WEB-INF/lib에서 제거해야 한다.</p><ul><li>&lsquo;xml-apis-1.0.b2.jar&rsquo; (또는 상위 버전)</li><li>&lsquo;stax-api-1.0.1.jar&rsquo; (또는 상위 버전)</li></ul><h4 id=jboss>JBoss</h4><p>JBoss의 경우, 아래 jboss-web.xml 파일을 추가한다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;jboss-web&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;class-loading</span> <span style=color:#c4a000>java2ClassLoadingCompliance=</span><span style=color:#4e9a06>&#34;false&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;loader-repository&gt;</span>
</span></span><span style=display:flex><span>            apache.cxf:archive=<span style=color:#204a87;font-weight:700>&lt;WAR</span> <span style=color:#a40000>파일명</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;loader-repository-config&gt;</span>
</span></span><span style=display:flex><span>                java2ParentDelegation=false
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;/loader-repository-config&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/loader-repository&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/class-loading&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/jboss-web&gt;</span>
</span></span></code></pre></div><p>*&lt;WAR 파일명>은 deploy하는 war 파일명을 확장자를 포함하여 기재한다.</p><h4 id=weblogic>WebLogic</h4><p>WebLogic 9.2 버전은 J2EE 1.4까지만 지원하므로, JAX-WS 2.0을 지원하지 않는다. WebService를 WebLogic에서 사용하기 위해서는 JAX-WS 2.0 이상을 지원하는 10.x 이상을 사용해야 한다.</p><h2 id=참고자료>참고자료</h2><ul><li><a href=./integration-service.md>Integration Service</a></li><li><a href=https://cxf.apache.org>https://cxf.apache.org</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-5a7d049f3ef1c581976d35e33b209bc6>6 - Restful</h1><div class=lead>Spring MVC를 통해 구현한 RESTful은 리소스에 대한 접근을 URI를 이용하며, HTTP의 PUT, GET, POST, DELETE 등과 같은 메소드의 의미를 그대로 사용하므로, 단순하게 접근 할 수 있다.</div><h1 id=restful>Restful</h1><h2 id=개요>개요</h2><p>Spring MVC를 통해 구현한 RESTful은 리소스에 대한 접근을 URI를 이용하며, HTTP의 PUT, GET, POST, DELETE 등과 같은 메소드의 의미를 그대로 사용하므로, 단순하게 접근 할 수 있다.</p><h2 id=설명>설명</h2><h3 id=webxml-설정>web.xml 설정</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>action<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>*.html<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>action<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>*.xml<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>action<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>*.json<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;filter&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;filter-name&gt;</span>httpMethodFilter<span style=color:#204a87;font-weight:700>&lt;/filter-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;filter-class&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span style=color:#204a87;font-weight:700>&lt;/filter-class&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/filter&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;filter-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;filter-name&gt;</span>httpMethodFilter<span style=color:#204a87;font-weight:700>&lt;/filter-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/springrest/*<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/filter-mapping&gt;</span>
</span></span></code></pre></div><p>자세한 설명은 아래에 있다.</p><h3 id=request-mapping>Request Mapping</h3><ul><li><p>설정</p><p>REST 스타일의 URL은 &lsquo;/cgr’, &lsquo;/cgr/CATEGORY-00000000001&rsquo; 처럼 계층 구조로 사용가능하도록 설계되었다. 따라서 web.xml에 DispatcherServlet을 정의하고 매핑할 URL 패턴을 &lsquo;/&lsquo;로 지정해야한다. <strong>DispatcherServlet URL 매핑</strong> 샘플은 다음과 같다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>    
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>action<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>    
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/springrest/*<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></div><p>아래와 같은 방법으로도 DispatcherServlet URL 매핑을 사용 할 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>action<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>*.do<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>action<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>*.html<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>action<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>*.xml<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>action<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>*.json<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></div></li><li><p>사용</p><p>Spring에서 제공하는 REST 지원 기능들은 모두 Spring MVC 기반으로 되어 있다. REST 방식으로 노출되는 서비스는 곧 Controller의 메소드이기 때문에 기존에 웹 어플리케이션을 개발하던 방식과 크게 다르지 않다.</p><p>Resource의 ID인 URI를 Controller 클래스나 메소드에 매핑하기 위해서는 <strong>@RequestMapping</strong>을 사용한다. @RequestMapping이 URI Template을 지원하기 때문에 아래 샘플코드와 같이 사용할 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Controller</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@SessionAttributes</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>types</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>CategoryVO</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>EgovCategoryController</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>//…
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/springrest/cgr/{ctgryId}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>updtCategoryView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@PathVariable</span> <span style=color:#000>String</span> <span style=color:#000>ctgryId</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// …
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>모든 HTTP method 사용을 위해서 @RequestMapping에서 &lsquo;method&rsquo; 속성을 제공한다. 따라서, &lsquo;/springrest/cgr/CATEGORY-00000000001&rsquo;이라는 URI가 GET으로 요청이 들어올 경우 위의 updtCategoryView ( ) 메소드가 매핑될 것이다.</p></li><li><p>@PathVariable annotation추가</p><p>‘/springrest/cgr/CATEGORY-00000000001’로 URI요청이 들어왔을 경우 @PathVariable을 사용하여 ‘ctgryID’ 입력 인자로 바인딩 된다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/springrest/cgr/{ctgryId}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>updtCategoryView</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@PathVariable</span> <span style=color:#000>String</span> <span style=color:#000>ctgryId</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Model</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// …
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div></li></ul><h3 id=http-method-conversion>HTTP Method Conversion</h3><ul><li><p>설정</p><p>브라우저 기반의 HTML에서는 GET, POST만 지원한다. 일반적으로 HTTP에서는 POST를 사용하고, hidden 타입의 입력값으로 HTTP METHOD를 지정하는 경우가 많다. 다음은 web.xml에 <strong>HiddenHttpMethodFilter를</strong> 정의한 모습이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;filter&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;filter-name&gt;</span>httpMethodFilter<span style=color:#204a87;font-weight:700>&lt;/filter-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;filter-class&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span style=color:#204a87;font-weight:700>&lt;/filter-class&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/filter&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;filter-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;filter-name&gt;</span>httpMethodFilter<span style=color:#204a87;font-weight:700>&lt;/filter-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/springrest/*<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/filter-mapping&gt;</span>
</span></span></code></pre></div></li><li><p>사용</p><p>web.xml에 HiddenHttpMethodFilter 설정을 추가하면, <strong>HTTP Method가 POST이고 _method라는 파라미터가 존재하는 경우 HTTP의 Method를 _method 값으로 바꾼다.</strong></p><p>또한 Spring에서는 &lt;form:form>에서 실제 HTTP Method를 지정하는 hidden 타입의 입력 필드를 자동으로 추가해주기 때문에 훨씬 더 편리하게 사용할 수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form:form</span> <span style=color:#c4a000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;delete&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>input</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>submit</span> <span style=color:#c4a000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>Delete/</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form:form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>JSP에 위와 같이 작성하면, 내부적으로는 POST 방식으로 “_method=delete”가 전달되는 것이다.</p><p>샘플코드이다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>function fncSubmit(method) {
</span></span><span style=display:flex><span>    document.detailForm._method.value=method;
</span></span><span style=display:flex><span>    document.detailForm.submit();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>//..
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form:form</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;detailForm&#34;</span> <span style=color:#c4a000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;${method}&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;javascript:fncSubmit(&#39;delete&#39;);&#34;</span><span style=color:#000;font-weight:700>&gt;</span>삭제<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form:form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div></li></ul><h3 id=http-method-conversion-1>HTTP Method Conversion</h3><p>Xml과 json 등 다른 view로 보여지는 것으로 spring에서는 <strong>ContentNegotiatingViewResolver를</strong> 제공한다. ContentNegotiatingViewResolver는 다른 View Resolver들과 반드시 함께 사용되어야 하므로 View Resolver 설정 시 반드시 order를 정의해야 한다. 당연히 ContentNegotiatingViewResolver가 가장 높은 우선순위(가장 작은숫자)를 가져야 한다. defaultView는 View를 찾지 못한 경우 디폴트 View로 사용된다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.ContentNegotiatingViewResolver&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;defaultViews&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;list&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.json.MappingJacksonJsonView&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;prefixJson&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;false&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/list&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span></code></pre></div><h3 id=views>Views</h3><ul><li><p>MarshallingView</p><p>클라이언트에게 xml 응답을 돌려주기 위해 Spring OXM Marshaller를 사용한다. Spring oxm는 JAXB2, XMLBeans, JiBX, Castor등을 사용하여 Marshaller를 손쉽게 정희할 수 있게 해준다. Restful 예제에서는 JAXB2를 사용하였다. (OXM예제는 Castor사용)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.ContentNegotiatingViewResolver&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;mediaTypes&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;map&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;entry</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;html&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;text/html&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;entry</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;xml&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;application/xml&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;entry</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;json&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;application/json&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/map&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;order&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;0&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>//..
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;cgr/egovCategoryRegister&#34;</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.xml.MarshallingView&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;marshaller&#34;</span> <span style=color:#c4a000>ref=</span><span style=color:#4e9a06>&#34;marshaller&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/bean&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;oxm:jaxb2-marshaller</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;marshaller&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;oxm:class-to-be-bound</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;egovframework.rte.tex.cgr.service.CategoryVO&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/oxm:jaxb2-marshaller&gt;</span>
</span></span></code></pre></div></li><li><p>MappingJacksonJsonView</p><p>JSON으로 응답을 전달할 수 있는 View.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.ContentNegotiatingViewResolver&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;mediaTypes&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;map&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;entry</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;html&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;text/html&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;entry</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;xml&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;application/xml&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;entry</span> <span style=color:#c4a000>key=</span><span style=color:#4e9a06>&#34;json&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;application/json&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/map&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/property&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;property</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;order&#34;</span> <span style=color:#c4a000>value=</span><span style=color:#4e9a06>&#34;0&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    //..
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/beans&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>name=</span><span style=color:#4e9a06>&#34;cgr/egovCategoryList&#34;</span> 
</span></span><span style=display:flex><span><span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;org.springframework.web.servlet.view.json.MappingJacksonJsonView&#34;</span> <span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span></code></pre></div></li></ul><h3 id=실제-사용-예>실제 사용 예</h3><ul><li><p>jsp</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>function fncSubmit(method) {
</span></span><span style=display:flex><span>    document.detailForm._method.value=method;		
</span></span><span style=display:flex><span>    document.detailForm.submit();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>//..
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>form:form</span> <span style=color:#c4a000>name</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;detailForm&#34;</span> <span style=color:#c4a000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;${method}&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>//..
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>form:form</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>//..
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;javascript:fncSubmit(&#39;post&#39;);&#34;</span><span style=color:#000;font-weight:700>&gt;</span>등록<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span> //----------- controller 2.
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;javascript:fncSubmit(&#39;put&#39;);&#34;</span><span style=color:#000;font-weight:700>&gt;</span>수정<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span> //------------- controller 3.
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;javascript:fncSubmit(&#39;delete&#39;);&#34;</span><span style=color:#000;font-weight:700>&gt;</span>삭제<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span> //----------- controller 4.
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34; /springrest/cgr/{id}.xml&#34;</span><span style=color:#000;font-weight:700>&gt;</span>xml 보기<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span> // ContentNegotiatingViewResolver설정
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34; /springrest/cgr/{id}.json&#34;</span><span style=color:#000;font-weight:700>&gt;</span>json(defaultView) 보기<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span> // ContentNegotiatingViewResolver설정
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34; /springrest/cgr.html&#34;</span><span style=color:#000;font-weight:700>&gt;</span>목록<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span> //------------------ controller 1.
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34; /springrest/cgr.json&#34;</span><span style=color:#000;font-weight:700>&gt;</span>목록(json)<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;</span> // ContentNegotiatingViewResolver 설정
</span></span></code></pre></div></li><li><p>controller</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 1. 목록
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/springrest/cgr&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>GET</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>selectCategoryList</span><span style=color:#ce5c00;font-weight:700>(..)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//..
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 2. 등록
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/springrest/cgr&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>POST</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>..)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>create</span><span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#ce5c00;font-weight:700>..)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//..
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 3. 수정
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/springrest/cgr/{ctgryId}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>PUT</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>..)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>update</span><span style=color:#ce5c00;font-weight:700>(..)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//..
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 4. 삭제
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#5c35cc;font-weight:700>@RequestMapping</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;/springrest/cgr/{ctgryId}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>method</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>RequestMethod</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>DELETE</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>deleteCategory</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#5c35cc;font-weight:700>@PathVariable</span> <span style=color:#000>String</span> <span style=color:#000>ctgryId</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>SessionStatus</span> <span style=color:#000>status</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>Exception</span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>//..
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div></li></ul><h2 id=참고자료>참고자료</h2><ul><li><a href=./rex-restful-example.md>RESTful 예제</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-c09a8c91dcb8656da3ba4d50a655a7ef>7 - Cloud Data Stream</h1><div class=lead>Spring Cloud Stream은 확장 가능한 이벤트 기반 마이크로서비스를 구축하기 위한 프레임워크로, 외부 메시징 시스템과 애플리케이션 코드를 연결하는 바인더 및 바인딩 기능을 제공한다. 생산자와 소비자는 메시지를 통해 통신하며, Spring Integration의 메시지 처리 기능을 활용한다. Spring Boot 기반의 Binder 구현체를 통해 이기종 시스템 간에도 메시지 처리가 가능하다.</div><h1 id=cloud-data-stream>Cloud Data Stream</h1><h2 id=개요>개요</h2><p>Spring Cloud Stream은 공유 메시징 시스템과 연결된 확장성이 뛰어난 이벤트 기반 마이크로서비스를 구축하기 위한 프레임워크이다.</p><p>Spring Cloud Stream의 핵심 구성 요소는 다음과 같다.<br></p><ul><li>대상 바인더 : 외부 메시징 시스템과의 통합을 담당하는 구성 요소이다.<br></li><li>대상 바인딩 : 외부 메시징 시스템과 최종 사용자가 제공하는 애플리케이션 코드(생산자/소비자) 사이를 연결한다.<br></li><li>메시지 : 생산자와 소비자가 대상 바인더(및 외부 메시징 시스템을 통한 다른 응용 프로그램)와 통신하는 데 사용하는 표준 데이터 구조이다.</li></ul><p>Spring Cloud Stream은 Spring Integration의 메시지 처리 핵심 기능을 기반으로 사용한다.<br>또한 Spring Boot를 기반으로 Binder 구현체를 제공하여 메시지 처리를 추상화 하여 동일 환경 뿐만 아니라 이기종의 시스템 또는 다른 환경 간에도 연계 메시지 처리를 지원한다.</p><h2 id=특징>특징</h2><h3 id=data-stream>Data Stream</h3><p>비동기 데이터 처리는 지속적으로 발생하는 데이터에 대하여 실시간으로 처리 하는데 주요 목적이 있으며, 시간에 비교적 민감한 자료의 처리에 적합하며 다양한 지리적 위치에서 다양한 형식으로 전달될 수 있다.</p><h3 id=data-stream--batch-비교>Data Stream , Batch 비교</h3><p><img src=../images/datastream_vs_batch.png alt="Data Stream vs Batch"></p><table><thead><tr><th>배치 처리</th><th>비동기 데이터 처리</th></tr></thead><tbody><tr><td>한정된 대량의 데이터</td><td>지속적으로 데이터가 발생</td></tr><tr><td>스케줄러를 사용하여 특정 시간에 처리</td><td>데이터 발생주기는 일정한 경우와 불규칙한 경우 모두 가능</td></tr><tr><td>일괄로 정해진 묶음단위 처리</td><td>데이터를 실시간으로 처리</td></tr></tbody></table><h2 id=설명>설명</h2><h3 id=예제-코드>예제 코드</h3><p>java.util.function 패키지의 Functional Interface를 기반으로 람다식 사용 시 Supplier, Function, Consumer를 활용하여 클래스를 생성하지 않고 구현이 가능하다.<br>이 경우 Supplier는 Sink Binding으로 1초마다 주기적으로 발행된다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Slf4j</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>DataStreamConfig</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Supplier</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>basicProducer</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    	<span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#4e9a06>&#34;Hello&#34;</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Function</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>uppercase</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>toUpperCase</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span>    <span style=color:#000>pubilc</span> <span style=color:#000>Consumer</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>basicConsumer</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    	<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>message</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>log</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;message = {}&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=streambridge>StreamBridge</h3><p>불규칙하게 발행되는 경우 StreamBridge를 활용 할수 있다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>processChangeHistory</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>long</span> <span style=color:#000>elapsedTimeMills</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span> <span style=color:#000>className</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>String</span> <span style=color:#000>methodName</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Sample</span> <span style=color:#000>content</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>SampleDTO</span> <span style=color:#000>sampleDTO</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>SampleDTO</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>sampleDTO</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setCategory</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;change&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>sampleDTO</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setContent</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>content</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>sampleDTO</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setClassName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>className</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>sampleDTO</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setMethodName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>methodName</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>sampleDTO</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setElapsedMills</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>elapsedTimeMills</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#000>streamBridge</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>send</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;historyDb&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>sampleDTO</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=deprecated-내용>Deprecated 내용</h3><p>Spring Cloud Stream v3.x에서 org.springframework.cloud.stream.annotation 패키지에 포함된 대부분의 어노테이션이 Depreaceted 되었다.<br>따라서 v3.x이상에서는 함수형 프로그래밍 방식으로 작성 및 설정 해야 한다.</p><p><del>@EnableBinding</del><br><del>@StreamListener</del><br><del>@Input</del><br><del>@Output</del><br><del>@StreamMessageConverter</del><br></p><h2 id=설정방법>설정방법</h2><h3 id=pomxml-설정>pom.xml 설정</h3><p>대표적으로 RabbitMQ Binder 및 Kafka Binder를 지원하며 그외에도 다양한 바인더를 지원한다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>&lt;!-- Spring Cloud Stream RabbitMQ Binder --&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-stream-binder-rabbit<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;version&gt;</span>3.2.4<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>&lt;!-- Spring Cloud Stream Kafka Binder --&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-stream-binder-kafka<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#204a87;font-weight:700>&lt;version&gt;</span>3.2.4<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></div><h3 id=applicationyml-설정>application.yml 설정</h3><h4 id=rabbitmq-연결-설정-예시>RabbitMQ 연결 설정 예시</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#204a87;font-weight:700>spring</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>rabbitmq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>192.168.100.50</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>5672</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>username</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>guest</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>guest</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>virtual-host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>egov</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h4 id=kafka-연결-설정-예시>Kafka 연결 설정 예시</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#204a87;font-weight:700>spring</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>cloud</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>stream</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>kafka</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>binder</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>autoCreateTopics</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>autoAddPartitions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>zkNodes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>192.168.100.50</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>brokers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>192.168.100.50</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h4 id=바인딩-설정>바인딩 설정</h4><p>단일 바인딩의 경우 다음과 같이 간단하게 설정 가능 하다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#204a87;font-weight:700>spring</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>cloud</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>stream</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>bindings</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>output</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>destination</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>sample-topic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>input</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>destination</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>sample-topic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h4 id=멀티-바인딩-설정>멀티 바인딩 설정</h4><p>다음 네이밍 컨벤션을 반드시 따라야 한다.<br>input : {functionName} + -in- + {index}<br>output : {functionName} + -out- + {index}</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#204a87;font-weight:700>spring</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>cloud</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>stream</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>bindings</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>basicProducer-out-0</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>destination</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>test-topic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>binder</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>kafka</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>basicConsumer-in-0</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>destination</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>test-topic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>binder</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rabbit</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>definition</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>basicProducer;basicConsumer;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=참고자료>참고자료</h2><ul><li><a href=https://spring.io/projects/spring-cloud-stream/>https://spring.io/projects/spring-cloud-stream/</a></li><li><a href=https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html>Functional Interface</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-5bb84fe332b90b69f93d80815a531675>8 - Swagger</h1><div class=lead>Swagger는 Restful 서비스의 문서화를 자동으로 지원하는 도구로, API 서버의 스펙과 주고받는 데이터를 명확하게 문서화할 수 있다. 수동으로 문서를 작성하고 유지보수하는 데 드는 시간과 비용을 줄여주며, API 스펙 변경 시 문서도 자동으로 업데이트된다. 이를 통해 Restful 서비스의 문서 작성과 유지보수를 효율적으로 관리할 수 있다.</div><h1 id=swagger>Swagger</h1><h2 id=개요>개요</h2><p>Swagger는 Restful 서비스 사용시 구현된 서비스에 대한 문서화를 지원하는 도구이다.</p><h2 id=설명>설명</h2><h3 id=목적>목적</h3><p>Restful 서비스를 구현한 경우 해당 API서버가 어떤 스펙을 가지고 있고 어떤 데이터를 주고 받는지에 대한 문서작업은 꼭 필요하다.<br>하지만 이런 문서작업은 상당한 시간을 사용하여 작성하여야 하고 API서버의 스펙이 변경되면 문서도 수정해 주어야 하기 때문에 관리가 여간 어려운게 아니다.<br>따라서 API 서버의 서비스를 작성하는것외에 문서의 작성과 유지보수를 위해 많은 시간과 비용이 발생한다.<br>Swagger는 이러한 Restful서비스의 문서작성과 유지보수에 대한 효율성을 높일수 있다.</p><h3 id=특징>특징</h3><h4 id=간단한-설정으로-swagger-ui를-구동시킬수-있다>간단한 설정으로 Swagger UI를 구동시킬수 있다.</h4><p><img src=../images/swagger_intro_01.png alt="Swagger Intro01"></p><h4 id=그룹별로-정리할수-있으며-간단한-정보를-안내할수-있다>그룹별로 정리할수 있으며 간단한 정보를 안내할수 있다.</h4><p>그룹별로 정리되기 위해서는 URL경로가 업무별로 구분가능하고 정리되어 있어야 한다.<br>해당 서비스에 대해 기본적인 정보를 안내할수 있다.</p><p><img src=../images/swagger_intro_02.png alt="Swagger Intro02"></p><h4 id=ui에서-전문의-각항목의-정의명을-표시해-줄수-있다>UI에서 전문의 각항목의 정의명을 표시해 줄수 있다.</h4><p><img src=../images/swagger_def_01.png alt="Swagger Definition"></p><h4 id=ui에서-테스트를-수행할수-있다-각-항목의-입력은-물론-파일-업로드까지-테스트가-가능하다>UI에서 테스트를 수행할수 있다. 각 항목의 입력은 물론 파일 업로드까지 테스트가 가능하다.</h4><p><img src=../images/swagger_test_01.png alt="Swagger Test01"></p><h4 id=테스트-결과가-ui에서-즉시-표시된다>테스트 결과가 UI에서 즉시 표시된다.</h4><p><img src=../images/swagger_test_02.png alt="Swagger Test02"></p><h2 id=설정방법>설정방법</h2><h3 id=pomxml-설정>pom.xml 설정</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>	    <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>io.springfox<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>	    <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>springfox-swagger2<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>	    <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>2.9.2<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>	    <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>io.springfox<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>	    <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>springfox-swagger-ui<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>	    <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>2.9.2<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></div><h3 id=swagger-servletxml-설정>swagger-servlet.xml 설정</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;context:component-scan</span> <span style=color:#c4a000>base-package=</span><span style=color:#4e9a06>&#34;egovframework&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;context:include-filter</span> <span style=color:#c4a000>type=</span><span style=color:#4e9a06>&#34;annotation&#34;</span> <span style=color:#c4a000>expression=</span><span style=color:#4e9a06>&#34;org.springframework.stereotype.Controller&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;context:exclude-filter</span> <span style=color:#c4a000>type=</span><span style=color:#4e9a06>&#34;annotation&#34;</span> <span style=color:#c4a000>expression=</span><span style=color:#4e9a06>&#34;org.springframework.stereotype.Service&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;context:exclude-filter</span> <span style=color:#c4a000>type=</span><span style=color:#4e9a06>&#34;annotation&#34;</span> <span style=color:#c4a000>expression=</span><span style=color:#4e9a06>&#34;org.springframework.stereotype.Repository&#34;</span><span style=color:#204a87;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/context:component-scan&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;bean</span> <span style=color:#c4a000>id=</span><span style=color:#4e9a06>&#34;swagger2Config&#34;</span>
</span></span><span style=display:flex><span>		<span style=color:#c4a000>class=</span><span style=color:#4e9a06>&#34;springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration&#34;</span><span style=color:#204a87;font-weight:700>&gt;&lt;/bean&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;mvc:resources</span> <span style=color:#c4a000>location=</span><span style=color:#4e9a06>&#34;classpath:/META-INF/resources/&#34;</span>
</span></span><span style=display:flex><span>		<span style=color:#c4a000>mapping=</span><span style=color:#4e9a06>&#34;swagger-ui.html&#34;</span><span style=color:#204a87;font-weight:700>&gt;&lt;/mvc:resources&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>&lt;mvc:resources</span>
</span></span><span style=display:flex><span>		<span style=color:#c4a000>location=</span><span style=color:#4e9a06>&#34;classpath:/META-INF/resources/webjars/&#34;</span>
</span></span><span style=display:flex><span>		<span style=color:#c4a000>mapping=</span><span style=color:#4e9a06>&#34;/webjars/**&#34;</span><span style=color:#204a87;font-weight:700>&gt;&lt;/mvc:resources&gt;</span>
</span></span></code></pre></div><h3 id=webxml-설정>web.xml 설정</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>swagger<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style=color:#204a87;font-weight:700>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;init-param&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;param-name&gt;</span>contextConfigLocation<span style=color:#204a87;font-weight:700>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&lt;param-value&gt;</span>/WEB-INF/config/egovframework/springmvc/swagger-servlet.xml<span style=color:#204a87;font-weight:700>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/init-param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;load-on-startup&gt;</span>2<span style=color:#204a87;font-weight:700>&lt;/load-on-startup&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;/servlet&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;servlet-name&gt;</span>swagger<span style=color:#204a87;font-weight:700>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/swagger-ui.html<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/webjars/**<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;url-pattern&gt;</span>/<span style=color:#204a87;font-weight:700>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></div><h3 id=swaggerconfig-작성>SwaggerConfig 작성</h3><p>@EnableSwagger2 어노테이션을 반드시 추가하여야 한다.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableSwagger2</span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@EnableWebMvc</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>SwaggerConfig</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Docket</span> <span style=color:#000>newsApiAll</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Docket</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DocumentationType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>SWAGGER_2</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>groupName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;00. All Device API REST Service&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>apiInfo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>apiInfo</span><span style=color:#ce5c00;font-weight:700>())</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>select</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>paths</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>PathSelectors</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>any</span><span style=color:#ce5c00;font-weight:700>())</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Bean</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>Docket</span> <span style=color:#000>newsApiAccelerator</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Docket</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>DocumentationType</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>SWAGGER_2</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>groupName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;01. Accelerator Guide Program Service&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>apiInfo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>apiInfo</span><span style=color:#ce5c00;font-weight:700>())</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>select</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>paths</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>regex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;/acl.*&#34;</span><span style=color:#ce5c00;font-weight:700>))</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>ApiInfo</span> <span style=color:#000>apiInfo</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ApiInfoBuilder</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;표준프레임워크 DeviceAPI 연계서비스 (Hybrid App)&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>description</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;표준프레임워크 하이브리드앱 실행환경  - iOS / Android 하이브리드앱 Rest 서비스&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>termsOfServiceUrl</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://www.egovframe.go.kr/wiki/doku.php?id=egovframework:hyb:gate_page&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>license</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Apache License Version 2.0&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>licenseUrl</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;https://www.egovframe.go.kr&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>version</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;3.10&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/eGovFramework/egovframe-docs aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2016&ndash;2024
<span class=td-footer__authors>eGovFrame | <a href="https://www.egovframe.go.kr/home/sub.do?menuNo=23">Apache 2.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href="https://www.egovframe.go.kr/home/sub.do?menuNo=77" target=_blank rel=noopener>개인정보 보호 정책</a></span></div></div></div></footer></div><script src=/egovframe-docs/js/main.min.4eb19af2236072614b7d308c10176f918f1b447443492377d98b5b2c5e44aac3.js integrity="sha256-TrGa8iNgcmFLfTCMEBdvkY8bRHRDSSN32YtbLF5EqsM=" crossorigin=anonymous></script>
<script defer src=/egovframe-docs/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script>
<script src=/egovframe-docs/js/tabpane-persist.js></script></body></html>