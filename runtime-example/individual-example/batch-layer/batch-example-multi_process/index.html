<!doctype html><html lang=kr dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>대용량 처리를 위한 멀티스레드 기반의 병행처리 예제 | 표준프레임워크 개발가이드</title><link rel=stylesheet href=https://eGovFramework.github.io/egovframe-docs/css/custom.css integrity crossorigin=anonymous><script src=https://eGovFramework.github.io/egovframe-docs/js/custom.js integrity crossorigin=anonymous defer></script></head><body><header id=krds-header><div class=header-in><div class=header-container><div class=inner style=padding-bottom:0><div class=header-branding><h2 class=logo><a href=https://eGovFramework.github.io/egovframe-docs/></a></h2><div class=header-actions><nav class=krds-main-menu style=border:none><div class=inner><ul class=gnb-menu><li><a href=/egovframe-docs/egovframe-development/ class="gnb-main-trigger is-link">개발환경</a></li><li><a href=/egovframe-docs/egovframe-runtime/ class="gnb-main-trigger is-link">실행환경</a></li><li><a href=/egovframe-docs/runtime-example/ class="gnb-main-trigger is-link active">실행환경 예제</a></li><li><a href=/egovframe-docs/common-component/ class="gnb-main-trigger is-link">공통컴포넌트</a></li></ul></div></nav><button type=button class="btn-navi all" aria-controls=mobile-nav></button></div></div></div></div></div><nav id=mobile-nav class=krds-main-menu-mobile style=display:none><div class=gnb-wrap style=width:80%><div class=gnb-header><div class=gnb-utils style=margin-bottom:30px></div><div class=gnb-service-menu style=flex-direction:column><a href=/egovframe-docs/egovframe-development/ class=link style=width:auto;flex-direction:row;height:auto>개발환경</a>
<a href=/egovframe-docs/egovframe-runtime/ class=link style=width:auto;flex-direction:row;height:auto>실행환경</a>
<a href=/egovframe-docs/runtime-example/ class=link style=width:auto;flex-direction:row;height:auto>실행환경 예제</a>
<a href=/egovframe-docs/common-component/ class=link style=width:auto;flex-direction:row;height:auto>공통컴포넌트</a></div></div><div class=gnb-body><div class=gnb-menu><div class=menu-wrap><ul><li><a href=#mGnb-anchor0 class=gnb-main-trigger>실행환경 통합 예제</a></li><li><a href=#mGnb-anchor1 class="gnb-main-trigger active">실행환경 개별 예제</a></li></ul></div><div class=submenu-wrap><div class=gnb-sub-list id=mGnb-anchor0><a href=/egovframe-docs/runtime-example/integrated-example/ class=sub-title data-url=/egovframe-docs/runtime-example/integrated-example/>실행환경 통합 예제</a><ul></ul></div><div class=gnb-sub-list id=mGnb-anchor1><a href=/egovframe-docs/runtime-example/individual-example/ class=sub-title data-url=/egovframe-docs/runtime-example/individual-example/>실행환경 개별 예제</a><ul><a href=/egovframe-docs/runtime-example/individual-example/foundation-layer-core/ id="sub-menu-공통기반 핵심 예제-0" class="gnb-sub-trigger has-depth3">공통기반 핵심 예제</a><div class=depth3-wrap><ul><li><a href=/egovframe-docs/runtime-example/individual-example/foundation-layer-core/spel-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/foundation-layer-core/spel-example/>SpEL 예제</a></li></ul></div><a href=/egovframe-docs/runtime-example/individual-example/foundation-layer/ id="sub-menu-공통기반 예제-1" class="gnb-sub-trigger has-depth3">공통기반 예제</a><div class=depth3-wrap><ul><li><a href=/egovframe-docs/runtime-example/individual-example/foundation-layer/spring-security-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/foundation-layer/spring-security-example/>Spring Security 예제</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/foundation-layer/marshalling-unmarshalling-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/foundation-layer/marshalling-unmarshalling-example/>OXM 예제</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/foundation-layer/mail-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/foundation-layer/mail-example/>Mail 예제</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/foundation-layer/compress-decompress-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/foundation-layer/compress-decompress-example/>압축/압축해제 예제</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/foundation-layer/file-upload-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/foundation-layer/file-upload-example/>파일업로드 예제</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/foundation-layer/excel-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/foundation-layer/excel-example/>엑셀 예제</a></li></ul></div><a href=/egovframe-docs/runtime-example/individual-example/presentation-layer/ id="sub-menu-화면처리 예제-2" class="gnb-sub-trigger has-depth3">화면처리 예제</a><div class=depth3-wrap><ul><li><a href=/egovframe-docs/runtime-example/individual-example/presentation-layer/ui-adaptor-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/presentation-layer/ui-adaptor-example/>UI Adaptor 예제</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/presentation-layer/easycompany-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/presentation-layer/easycompany-example/>easycompany 예제</a></li></ul></div><li><a href=/egovframe-docs/runtime-example/individual-example/business-logic-layer/ id="sub-menu-업무처리 예제-3" class=gnb-sub-trigger data-url=/egovframe-docs/runtime-example/individual-example/business-logic-layer/>업무처리 예제</a></li><a href=/egovframe-docs/runtime-example/individual-example/persistence-layer/ id="sub-menu-데이터처리 예제-4" class="gnb-sub-trigger has-depth3">데이터처리 예제</a><div class=depth3-wrap><ul><li><a href=/egovframe-docs/runtime-example/individual-example/persistence-layer/dataaccess-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/persistence-layer/dataaccess-example/>데이터 엑세스 예제</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/persistence-layer/orm-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/persistence-layer/orm-example/>ORM 예제</a></li></ul></div><a href=/egovframe-docs/runtime-example/individual-example/integration-layer/ id="sub-menu-연계통합 예제-5" class="gnb-sub-trigger has-depth3">연계통합 예제</a><div class=depth3-wrap><ul><li><a href=/egovframe-docs/runtime-example/individual-example/integration-layer/restful-example/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/integration-layer/restful-example/>Restful 예제</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/integration-layer/cloud-data-stream/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/integration-layer/cloud-data-stream/>Cloud Data Stream</a></li></ul></div><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/ id="sub-menu-배치처리 예제-6" class="gnb-sub-trigger has-depth3 active">배치처리 예제</a><div class="depth3-wrap is-open"><ul><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-setup/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-setup/>Setup</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-batch_runner/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-batch_runner/>Runner</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-event_notice_template_mgmt/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-event_notice_template_mgmt/>EventNotice</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-core-egov_commandline_runner_template/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-core-egov_commandline_runner_template/>EgovCommandLineRunner</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-core-egov_scheduler_runner_template/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-core-egov_scheduler_runner_template/>EgovSchedulerRunner</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-pre_post_process_mgmt/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-pre_post_process_mgmt/>PrePostProcess</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-retry_mgmt/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-retry_mgmt/>Retry</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-repository_mgmt/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-repository_mgmt/>Repository</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-job_group_mgmt/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-job_group_mgmt/>JobGroup</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-tasklet_mgmt/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-tasklet_mgmt/>Tasklet</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-batch_exec_mgmt/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-batch_exec_mgmt/>Log</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/ class="depth3-trigger has-depth4 active" data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/>MultiProcess</a><div class="depth4-wrap is-open" style=width:80%><div class=depth4-head><button type=button class="krds-btn icon trigger-prev">
<span class=sr-only>이전화면</span>
<i class="svg-icon ico-angle" style=transform:rotate(90deg)></i>
</button>
<button type=button class="krds-btn icon trigger-close">
<span class=sr-only>전체메뉴 닫기</span>
<i class="svg-icon ico-popup-close"></i></button></div><ul class=depth4-body><h4 class=sub-title>MultiProcess</h4><ul class=depth4-ul><li class=depth4-item><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-db_partition/ data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-db_partition/>DbPartition</a></li><li class=depth4-item><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-file_partition/ data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-file_partition/>FilePartition</a></li><li class=depth4-item><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-single_file_partition/ data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-single_file_partition/>SpigntFilePartition</a></li></ul></ul></div></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-skip_mgmt/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-skip_mgmt/>Skip</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-sync_async/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-sync_async/>SyncAsync</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-job_reuse/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-job_reuse/>JobReuse</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-resource/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-resource/>MultiResource</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-db_jdbcpaging/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-db_jdbcpaging/>JdbcPaging</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-db_jdbccursor/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-db_jdbccursor/>JdbcCursor</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-db_ibatis/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-db_ibatis/>Ibatis</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-file_fixedlength/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-file_fixedlength/>FixedLength</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-file_delimitied/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-file_delimitied/>Delimited</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-composite_item/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-composite_item/>CompositeItem</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-restart_mgmt/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-restart_mgmt/>Restart</a></li><li><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-run_junit_test/ class=depth3-trigger data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-run_junit_test/>JUnitTest</a></li></ul></div></ul></div></div></div><div class=gnb-bottom><a href=https://github.com/eGovFramework/egovframe-docs/blob/main/runtime-example/individual-example/batch-layer/batch-example-multi_process.md class="krds-btn medium text">페이지보기 <i class="svg-icon ico-angle right"></i></a>
<a href=https://github.com/eGovFramework/egovframe-docs/edit/main/runtime-example/individual-example/batch-layer/batch-example-multi_process.md class="krds-btn medium text">페이지편집 <i class="svg-icon ico-angle right"></i></a>
<a href="https://github.com/eGovFramework/egovframe-docs/issues/new?title=%eb%8c%80%ec%9a%a9%eb%9f%89%20%ec%b2%98%eb%a6%ac%eb%a5%bc%20%ec%9c%84%ed%95%9c%20%eb%a9%80%ed%8b%b0%ec%8a%a4%eb%a0%88%eb%93%9c%20%ea%b8%b0%eb%b0%98%ec%9d%98%20%eb%b3%91%ed%96%89%ec%b2%98%eb%a6%ac%20%ec%98%88%ec%a0%9c" class="krds-btn medium text">문서에 이슈 생성 <i class="svg-icon ico-angle right"></i></a>
<a href=https://github.com/eGovFramework/egovframe-docs/issues/new class="krds-btn medium text">프로젝트에 이슈 생성 <i class="svg-icon ico-angle right"></i></a></div></div><button type=button class="krds-btn medium icon" id=close-nav>
<span class=sr-only>전체메뉴 닫기</span>
<i class="svg-icon ico-popup-close"></i></button></div></nav></header><main id=wrap><div id=container class=krds-in-page-navigation-type><div class="inner in-between layout"><nav class=krds-side-navigation></ul></ul><h2 class=lnb-tit>실행환경 예제</h2><ul class=lnb-list role=menubar id="side-menu-trigger-실행환경 예제"><li class=lnb-item role=none><button type=button class="lnb-btn lnb-toggle" role=menuitem aria-controls=lnbmenu0 aria-expanded=false data-url=/egovframe-docs/runtime-example/integrated-example/>실행환경 통합 예제</button><div class=lnb-submenu><ul id=lnb-menu0 role=menu></ul></div><li class="lnb-item active" role=none><button type=button class="lnb-btn lnb-toggle" role=menuitem aria-controls=lnbmenu1 aria-expanded=false data-url=/egovframe-docs/runtime-example/individual-example/>실행환경 개별 예제</button><div class=lnb-submenu><ul id=lnb-menu1 role=menu><li class=lnb-subitem role=none><button type=button class="lnb-btn lnb-toggle-popup" role=menuitem aria-controls=lnbmenu-1 aria-expanded=false aria-haspopup=true data-url=/egovframe-docs/runtime-example/individual-example/foundation-layer-core/>
공통기반 핵심 예제<span class=sr-only>열기</span></button><div class=lnb-submenu-lv2 id=lnbmenu-1 role=menu><button type=button class=lnb-btn-tit data-url=/egovframe-docs/runtime-example/individual-example/>공통기반 핵심 예제</button><ul><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/foundation-layer-core/spel-example/>SpEL 예제</a></li></ul></div></li><li class=lnb-subitem role=none><button type=button class="lnb-btn lnb-toggle-popup" role=menuitem aria-controls=lnbmenu-1 aria-expanded=false aria-haspopup=true data-url=/egovframe-docs/runtime-example/individual-example/foundation-layer/>
공통기반 예제<span class=sr-only>열기</span></button><div class=lnb-submenu-lv2 id=lnbmenu-1 role=menu><button type=button class=lnb-btn-tit data-url=/egovframe-docs/runtime-example/individual-example/>공통기반 예제</button><ul><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/foundation-layer/spring-security-example/>Spring Security 예제</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/foundation-layer/marshalling-unmarshalling-example/>OXM 예제</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/foundation-layer/mail-example/>Mail 예제</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/foundation-layer/compress-decompress-example/>압축/압축해제 예제</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/foundation-layer/file-upload-example/>파일업로드 예제</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/foundation-layer/excel-example/>엑셀 예제</a></li></ul></div></li><li class=lnb-subitem role=none><button type=button class="lnb-btn lnb-toggle-popup" role=menuitem aria-controls=lnbmenu-1 aria-expanded=false aria-haspopup=true data-url=/egovframe-docs/runtime-example/individual-example/presentation-layer/>
화면처리 예제<span class=sr-only>열기</span></button><div class=lnb-submenu-lv2 id=lnbmenu-1 role=menu><button type=button class=lnb-btn-tit data-url=/egovframe-docs/runtime-example/individual-example/>화면처리 예제</button><ul><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/presentation-layer/ui-adaptor-example/>UI Adaptor 예제</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/presentation-layer/easycompany-example/>easycompany 예제</a></li></ul></div></li><li class=lnb-subitem><a href=/egovframe-docs/runtime-example/individual-example/business-logic-layer/ class="lnb-btn lnb-link" role=menuitem>업무처리 예제</a></li><li class=lnb-subitem role=none><button type=button class="lnb-btn lnb-toggle-popup" role=menuitem aria-controls=lnbmenu-1 aria-expanded=false aria-haspopup=true data-url=/egovframe-docs/runtime-example/individual-example/persistence-layer/>
데이터처리 예제<span class=sr-only>열기</span></button><div class=lnb-submenu-lv2 id=lnbmenu-1 role=menu><button type=button class=lnb-btn-tit data-url=/egovframe-docs/runtime-example/individual-example/>데이터처리 예제</button><ul><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/persistence-layer/dataaccess-example/>데이터 엑세스 예제</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/persistence-layer/orm-example/>ORM 예제</a></li></ul></div></li><li class=lnb-subitem role=none><button type=button class="lnb-btn lnb-toggle-popup" role=menuitem aria-controls=lnbmenu-1 aria-expanded=false aria-haspopup=true data-url=/egovframe-docs/runtime-example/individual-example/integration-layer/>
연계통합 예제<span class=sr-only>열기</span></button><div class=lnb-submenu-lv2 id=lnbmenu-1 role=menu><button type=button class=lnb-btn-tit data-url=/egovframe-docs/runtime-example/individual-example/>연계통합 예제</button><ul><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/integration-layer/restful-example/>Restful 예제</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/integration-layer/cloud-data-stream/>Cloud Data Stream</a></li></ul></div></li><li class="lnb-subitem active" role=none><button type=button class="lnb-btn lnb-toggle-popup" role=menuitem aria-controls=lnbmenu-1 aria-expanded=false aria-haspopup=true data-url=/egovframe-docs/runtime-example/individual-example/batch-layer/>
배치처리 예제<span class=sr-only>열기</span></button><div class="lnb-submenu-lv2 active" id=lnbmenu-1 role=menu><button type=button class=lnb-btn-tit data-url=/egovframe-docs/runtime-example/individual-example/>배치처리 예제</button><ul><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-setup/>Setup</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-batch_runner/>Runner</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-event_notice_template_mgmt/>EventNotice</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-core-egov_commandline_runner_template/>EgovCommandLineRunner</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-core-egov_scheduler_runner_template/>EgovSchedulerRunner</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-pre_post_process_mgmt/>PrePostProcess</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-retry_mgmt/>Retry</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-repository_mgmt/>Repository</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-job_group_mgmt/>JobGroup</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-tasklet_mgmt/>Tasklet</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-batch_exec_mgmt/>Log</a></li><li class=active role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/>MultiProcess</a><ul class=lnb-submenu-lv3><li role=none><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-db_partition/>DbPartition</a></li><li role=none><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-file_partition/>FilePartition</a></li><li role=none><a href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-single_file_partition/>SpigntFilePartition</a></li></ul></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-skip_mgmt/>Skip</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-sync_async/>SyncAsync</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-job_reuse/>JobReuse</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-resource/>MultiResource</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-db_jdbcpaging/>JdbcPaging</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-db_jdbccursor/>JdbcCursor</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-db_ibatis/>Ibatis</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-file_fixedlength/>FixedLength</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-file_delimitied/>Delimited</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-composite_item/>CompositeItem</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi-restart_mgmt/>Restart</a></li><li role=none><a class=lnb-btn role=menuitem href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-run_junit_test/>JUnitTest</a></li></ul></div></li></ul></div></li></ul></ul></nav><div class=contents><nav class=krds-breadcrumb-wrap aria-label=브레드크럼><ol class=breadcrumb><li class=home><a href=https://eGovFramework.github.io/egovframe-docs/ class=txt>Home</a></li><li><a href=https://eGovFramework.github.io/egovframe-docs//runtime-example/ class=txt>실행환경 예제</a></li><li><a href=https://eGovFramework.github.io/egovframe-docs//runtime-example/individual-example/ class=txt>실행환경 개별 예제</a></li><li><a href=https://eGovFramework.github.io/egovframe-docs//runtime-example/individual-example/batch-layer/ class=txt>배치처리 예제</a></li></ol></nav><div class=conts-area><div class=krds-in-page-navigation-area><nav class=in-page-navigation-action><ul><li><a href=https://github.com/eGovFramework/egovframe-docs/blob/main/runtime-example/individual-example/batch-layer/batch-example-multi_process.md class="krds-btn text small" target=_blank rel=noopener><i class="svg-icon ico_page_view"></i> 페이지 보기</a></li><li><a href=https://github.com/eGovFramework/egovframe-docs/edit/main/runtime-example/individual-example/batch-layer/batch-example-multi_process.md class="krds-btn text small" target=_blank rel=noopener><i class="svg-icon ico_page_edit"></i> 페이지 편집</a></li><li><a href="https://github.com/eGovFramework/egovframe-docs/issues/new?title=%eb%8c%80%ec%9a%a9%eb%9f%89%20%ec%b2%98%eb%a6%ac%eb%a5%bc%20%ec%9c%84%ed%95%9c%20%eb%a9%80%ed%8b%b0%ec%8a%a4%eb%a0%88%eb%93%9c%20%ea%b8%b0%eb%b0%98%ec%9d%98%20%eb%b3%91%ed%96%89%ec%b2%98%eb%a6%ac%20%ec%98%88%ec%a0%9c" class="krds-btn text small" target=_blank rel=noopener><i class="svg-icon ico_issue"></i> 문서에 이슈 생성</a></li><li><a href=https://github.com/eGovFramework/egovframe-docs/issues/new class="krds-btn text small" target=_blank rel=noopener><i class="svg-icon ico_issue"></i> 프로젝트에 이슈 생성</a></li></ul></nav><div class=in-page-navigation-header><p class=quick-caption>이 페이지의 구성</p><p class=quick-title>대용량 처리를 위한 멀티스레드 기반의 병행처리 예제</p></div><nav class=in-page-navigation-list><ul><li><a href=#개요>개요</a></li><li><a href=#설명>설명</a><ul><li><a href=#멀티쓰레드multi-threaded-step-예제>멀티쓰레드(Multi-threaded Step) 예제</a></li><li><a href=#parallel-예제>Parallel 예제</a></li><li><a href=#파티셔닝partitioning-예제>파티셔닝(Partitioning) 예제</a></li></ul></li><li><a href=#참고자료>참고자료</a></li></ul></nav></div><div class="conts-wrap scroll-check"><h1 class=h-tit id=대용량-처리를-위한-멀티스레드-기반의-병행처리-예제>대용량 처리를 위한 멀티스레드 기반의 병행처리 예제</h1><div class="conts-wrap section-link" id=section_01><h2 class=sec-tit id=개요>개요</h2><p>배치 수행 시, 대용량 처리를 위해 Job을 멀티스레드 기반으로 병행처리하는 과정을 보여준다. 실행 유형별로 멀티쓰레드 방식, Parallel 방식, 파티셔닝 방식 등이 있다.</p></div><div class="conts-wrap section-link" id=section_02><h2 class=sec-tit id=설명>설명</h2><h3 class=sec-tit id=멀티쓰레드multi-threaded-step-예제>멀티쓰레드(Multi-threaded Step) 예제</h3><p>병행처리멀티스레드(Multi-threaded Step)은 하나의 step을 멀티쓰레드로 처리하는 방식이다. chunk단위로 각 쓰레드에서 병행으로 처리한다.</p><h4 id=job설정>Job설정</h4><p><strong>병행처리멀티스레드 예제의 Job 설정파일인 parallelJob.xml을 확인한다.</strong></p><p>멀티스레드 처리를 원하는 step의 tasklet에 비동기 설정을 한다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;job</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;parallelJob&#34;</span> <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://www.springframework.org/schema/batch&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;step</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;staging&#34;</span> <span style=color:#a6e22e>next=</span><span style=color:#e6db74>&#34;loading&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;tasklet&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;chunk</span> <span style=color:#a6e22e>reader=</span><span style=color:#e6db74>&#34;fileItemReader&#34;</span> <span style=color:#a6e22e>processor=</span><span style=color:#e6db74>&#34;validatingProcessor&#34;</span> <span style=color:#a6e22e>writer=</span><span style=color:#e6db74>&#34;stagingItemWriter&#34;</span> <span style=color:#a6e22e>commit-interval=</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;/tasklet&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;/step&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;step</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;loading&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;tasklet</span> <span style=color:#a6e22e>task-executor=</span><span style=color:#e6db74>&#34;taskExecutor&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;chunk</span> <span style=color:#a6e22e>reader=</span><span style=color:#e6db74>&#34;stagingReader&#34;</span> <span style=color:#a6e22e>processor=</span><span style=color:#e6db74>&#34;stagingProcessor&#34;</span> <span style=color:#a6e22e>writer=</span><span style=color:#e6db74>&#34;tradeWriter&#34;</span> <span style=color:#a6e22e>commit-interval=</span><span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;/tasklet&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;/step&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/job&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;bean</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;taskExecutor&#34;</span> <span style=color:#a6e22e>class=</span><span style=color:#e6db74>&#34;org.springframework.core.task.SimpleAsyncTaskExecutor&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span></code></pre></div><h4 id=junittest-구성-및-수행>JunitTest 구성 및 수행</h4><h5 id=junittest-구성>JunitTest 구성</h5><p>병행처리멀티스레드 설정과 관련 클래스들로 Junit Test를 수행한다. 이 때 배치가 수행되고, 관련된 내용을 확인할 수 있다.</p><p>✔ JunitTest 클래스의 구조는
<a class="krds-btn medium text" href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-run_junit_test/>배치실행환경 예제 Junit Test 설명<i class="svg-icon ico-go"></i></a>
을 참고한다.<br>✔ assertEquals(BatchStatus.COMPLETED, execution.getStatus()) : 배치수행결과가 COMPLETED 인지 확인한다.<br>✔ assertEquals(after - before, execution.getStepExecutions().iterator().next().getReadCount()) : BATCH_STAGING의 data와 stepexcution의 결과를 비교하여 staging의 step의 결과를 확인한다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@RunWith</span>(SpringJUnit4ClassRunner.<span style=color:#a6e22e>class</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>@ContextConfiguration</span>(locations <span style=color:#f92672>=</span> { <span style=color:#e6db74>&#34;/egovframework/batch/simple-job-launcher-context.xml&#34;</span>, <span style=color:#e6db74>&#34;/egovframework/batch/jobs/parallelJob.xml&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;/egovframework/batch/job-runner-context.xml&#34;</span>  })
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EgovParallelJobFunctionalTests</span> {
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#75715e>//배치작업을  test하기 위한 JobLauncherTestUtils</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>@Autowired</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>private</span> JobLauncherTestUtils jobLauncherTestUtils;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#75715e>//DB 사용을 위한  SimpleJdbcTemplate</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>private</span> SimpleJdbcTemplate jdbcTemplate;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	...
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testLaunchJob</span>() <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> before <span style=color:#f92672>=</span> SimpleJdbcTestUtils.<span style=color:#a6e22e>countRowsInTable</span>(jdbcTemplate, <span style=color:#e6db74>&#34;BATCH_STAGING&#34;</span>);
</span></span><span style=display:flex><span>		JobExecution execution <span style=color:#f92672>=</span> jobLauncherTestUtils.<span style=color:#a6e22e>launchJob</span>();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> after <span style=color:#f92672>=</span> SimpleJdbcTestUtils.<span style=color:#a6e22e>countRowsInTable</span>(jdbcTemplate, <span style=color:#e6db74>&#34;BATCH_STAGING&#34;</span>);
</span></span><span style=display:flex><span>		assertEquals(BatchStatus.<span style=color:#a6e22e>COMPLETED</span>, execution.<span style=color:#a6e22e>getStatus</span>());
</span></span><span style=display:flex><span>		assertEquals(after <span style=color:#f92672>-</span> before, execution.<span style=color:#a6e22e>getStepExecutions</span>().<span style=color:#a6e22e>iterator</span>().<span style=color:#a6e22e>next</span>().<span style=color:#a6e22e>getReadCount</span>());
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=junittest-수행>JunitTest 수행</h5><p>수행방법은
<a class="krds-btn medium text" href="https://www.egovframe.go.kr/wiki/doku.php?id=egovframework:dev2:tst:test_case">JunitTest 실행<i class="svg-icon ico-go"></i></a>
을 참고한다.</p><h4 id=결과확인>결과확인</h4><p><strong>멀티쓰레드로 병행처리한 setp은 쓰레드마다의 처리 속도차이에 의해 순차적인 처리가 되지 않는다. loading의 step 결과인 TRADE의 data를 보면 확인할 수 있다.</strong></p><p><img src=/egovframe-docs/runtime-example/individual-example/batch-layer/images/multithread-data.png alt=multithread-data></p><h3 class=sec-tit id=parallel-예제>Parallel 예제</h3><p>parallelStep이란 분리된 flow을 각 thread에서 병행으로 처리하는 방식이다. 두 개의 flow1, flow2 는 각각 thread에서 병행으로 처리된다.</p><h4 id=job설정-1>Job설정</h4><p><strong>ParallelStep 예제의 Job 설정파일인 parallelStep.xml을 확인한다.</strong></p><p>✔ split 태그에 비동기 설정이 있어야 병행처리가 가능하다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;job</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;parallelStep&#34;</span> <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://www.springframework.org/schema/batch&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;split</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;split1&#34;</span> <span style=color:#a6e22e>task-executor=</span><span style=color:#e6db74>&#34;taskExecutor&#34;</span> <span style=color:#a6e22e>next=</span><span style=color:#e6db74>&#34;step4&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;flow&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;step</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;step1&#34;</span> <span style=color:#a6e22e>next=</span><span style=color:#e6db74>&#34;step2&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;tasklet&gt;</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>&lt;chunk</span> <span style=color:#a6e22e>reader=</span><span style=color:#e6db74>&#34;itemReader&#34;</span> <span style=color:#a6e22e>writer=</span><span style=color:#e6db74>&#34;itemWriter1&#34;</span> <span style=color:#a6e22e>commit-interval=</span><span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;/tasklet&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;/step&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;step</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;step2&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;tasklet&gt;</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>&lt;chunk</span> <span style=color:#a6e22e>reader=</span><span style=color:#e6db74>&#34;itemReader&#34;</span> <span style=color:#a6e22e>writer=</span><span style=color:#e6db74>&#34;itemWriter2&#34;</span> <span style=color:#a6e22e>commit-interval=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;/tasklet&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;/step&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;/flow&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;flow&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;step</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;step3&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;tasklet&gt;</span>
</span></span><span style=display:flex><span>					<span style=color:#f92672>&lt;chunk</span> <span style=color:#a6e22e>reader=</span><span style=color:#e6db74>&#34;itemReader&#34;</span> <span style=color:#a6e22e>writer=</span><span style=color:#e6db74>&#34;itemWriter3&#34;</span> <span style=color:#a6e22e>commit-interval=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>				<span style=color:#f92672>&lt;/tasklet&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;/step&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;/flow&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;/split&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;step</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;step4&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;tasklet&gt;</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>&lt;chunk</span> <span style=color:#a6e22e>reader=</span><span style=color:#e6db74>&#34;itemReader&#34;</span> <span style=color:#a6e22e>writer=</span><span style=color:#e6db74>&#34;itemWriter4&#34;</span> <span style=color:#a6e22e>commit-interval=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;/tasklet&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;/step&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/job&gt;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;bean</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;taskExecutor&#34;</span> <span style=color:#a6e22e>class=</span><span style=color:#e6db74>&#34;org.springframework.core.task.SimpleAsyncTaskExecutor&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span></code></pre></div><h4 id=junittest-구성-및-수행-1>JunitTest 구성 및 수행</h4><h5 id=junittest-구성-1>JunitTest 구성</h5><p>parallelstep 설정과 관련 클래스들로 Junit Test를 수행한다. 이 때 배치가 수행되고, 관련된 내용을 확인할 수 있다.<br>✔ JunitTest 클래스의 구조는
<a class="krds-btn medium text" href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-run_junit_test/>배치실행환경 예제 Junit Test 설명<i class="svg-icon ico-go"></i></a>
을 참고한다.<br>✔ assertEquals(BatchStatus.COMPLETED, jobExecution.getStatus()): 배치수행결과가 COMPLETED 인지 확인한다.<br>✔ getUniqueJobParameters에서 JobParameter에 배치에 필요한 입력 리소스, 출력 리소스 위치정보를 넘긴다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@RunWith</span>(SpringJUnit4ClassRunner.<span style=color:#a6e22e>class</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>@ContextConfiguration</span>(locations <span style=color:#f92672>=</span>{<span style=color:#e6db74>&#34;/egovframework/batch/simple-job-launcher-context.xml&#34;</span>, <span style=color:#e6db74>&#34;/egovframework/batch/jobs/parallelStep.xml&#34;</span>,<span style=color:#e6db74>&#34;/egovframework/batch/job-runner-context.xml&#34;</span>})
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EgovParallelStepFunctionalTests</span>{
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#75715e>//배치작업을  test하기 위한 JobLauncherTestUtils</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>@Autowired</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>private</span> JobLauncherTestUtils jobLauncherTestUtils;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>	 * 배치작업 테스트
</span></span></span><span style=display:flex><span><span style=color:#75715e>	 */</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testLaunchJob</span>() <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>		JobExecution jobExecution <span style=color:#f92672>=</span> jobLauncherTestUtils.<span style=color:#a6e22e>launchJob</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getUniqueJobParameters</span>());
</span></span><span style=display:flex><span>		assertEquals(BatchStatus.<span style=color:#a6e22e>COMPLETED</span>, jobExecution.<span style=color:#a6e22e>getStatus</span>());
</span></span><span style=display:flex><span>		<span style=color:#75715e>// /target/test-outputs/parallelStep폴더의 output파일 확인</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>	<span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 잡파라미터를 설정하기 위한 메소드 
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return jobParameters
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>protected</span> JobParameters <span style=color:#a6e22e>getUniqueJobParameters</span>() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> JobParametersBuilder().<span style=color:#a6e22e>addString</span>(<span style=color:#e6db74>&#34;inputFile&#34;</span>,<span style=color:#e6db74>&#34;/egovframework/data/input/delimited.csv&#34;</span>)
</span></span><span style=display:flex><span>		.<span style=color:#a6e22e>addString</span>(<span style=color:#e6db74>&#34;outputFile1&#34;</span>,<span style=color:#e6db74>&#34;file:./target/test-outputs/parallelStep/delimitedOutput1.csv&#34;</span>)
</span></span><span style=display:flex><span>		.<span style=color:#a6e22e>addString</span>(<span style=color:#e6db74>&#34;outputFile2&#34;</span>,<span style=color:#e6db74>&#34;file:./target/test-outputs/parallelStep/delimitedOutput2.csv&#34;</span>)
</span></span><span style=display:flex><span>		.<span style=color:#a6e22e>addString</span>(<span style=color:#e6db74>&#34;outputFile3&#34;</span>,<span style=color:#e6db74>&#34;file:./target/test-outputs/parallelStep/delimitedOutput3.csv&#34;</span>)
</span></span><span style=display:flex><span>		.<span style=color:#a6e22e>addString</span>(<span style=color:#e6db74>&#34;outputFile4&#34;</span>,<span style=color:#e6db74>&#34;file:./target/test-outputs/parallelStep/delimitedOutput4.csv&#34;</span>)
</span></span><span style=display:flex><span>		.<span style=color:#a6e22e>addParameter</span>(<span style=color:#e6db74>&#34;timestamp&#34;</span>, <span style=color:#66d9ef>new</span> JobParameter(<span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>getTime</span>())).<span style=color:#a6e22e>toJobParameters</span>();
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=junittest-수행-1>JunitTest 수행</h5><p>수행방법은
<a class="krds-btn medium text" href="https://www.egovframe.go.kr/wiki/doku.php?id=egovframework:dev2:tst:test_case">JunitTest 실행<i class="svg-icon ico-go"></i></a>
을 참고한다.</p><h4 id=결과확인-1>결과확인</h4><p>split된 두 개의 flow가 멀티쓰레드(SimpleAsyncTaskExecutor-1,SimpleAsyncTaskExecutor-2)로 실행한 결과는 콘솔창의 로그내용으로 확인할 수 있다. step1과 step3은 서로 다른 쓰레드에서 실행한 사실을 확인할 수 있다.</p><p><img src=/egovframe-docs/runtime-example/individual-example/batch-layer/images/parallelstep-step1.png alt=parallelstep-step1></p><p>&mldr;</p><p><img src=/egovframe-docs/runtime-example/individual-example/batch-layer/images/parallelstep-step3.png alt=parallelstep-step3></p><h3 class=sec-tit id=파티셔닝partitioning-예제>파티셔닝(Partitioning) 예제</h3><p>파티션 정의 File, DB의 데이터를 처리하는 병행처리 방법의 하나로 File 데이터, DB 데이터를 Partition 하여 멀티쓰레드 방식으로 처리한다. 입력리소스에 따라 DB 파티셔닝예제와 과 File 파티셔닝예제를 보여주고, 여러리소스를 읽어 하나의 타켓파일에 쓰는 SingleFile 파티셔닝 예제를 보여준다.</p><div class=krds-table-wrap><table class="tbl col data"><thead><tr><th>입력 리소스 타입</th><th>관계</th><th>예제</th></tr></thead><tbody><tr><td>DB</td><td></td><td><a class="krds-btn medium text" href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-db_partition/>DB Partition 예제<i class="svg-icon ico-go"></i></a></td></tr><tr><td>File</td><td>N:N</td><td><a class="krds-btn medium text" href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-file_partition/>N:N Partition 예제<i class="svg-icon ico-go"></i></a></td></tr><tr><td>File</td><td>N:1</td><td><a class="krds-btn medium text" href=/egovframe-docs/runtime-example/individual-example/batch-layer/batch-example-multi_process/batch-example-single_file_partition/>N:1 Partition 예제<i class="svg-icon ico-go"></i></a></td></tr></tbody></table></div></div><div class="conts-wrap section-link" id=section_03><h2 class=sec-tit id=참고자료>참고자료</h2><ul><li><a class="krds-btn medium text" href=/egovframe-docs/egovframe-runtime/batch-layer/batch-core-parallel_process/>병행처리<i class="svg-icon ico-go"></i></a></li></ul></div></div></div></div></div><button class="page-top-button krds-tooltip active" type=button data-tooltip="페이지 상단으로 이동" aria-labelledby=tooltip-popover-0aha8scb><i class="svg-icon ico-go-top"></i></button></div></main><footer id=krds-footer><div class=inner><div class=f-logo></div><div class=f-cnt><div class=f-info><ul class=info-cs><li><strong class=strong>대표전화</strong><span class=span>&nbsp; 1566-3598 (070-4448-2678)</span></li><li><strong class=strong>대표문의메일</strong><span class=span>&nbsp; egovframesupport@gmail.com</span></li></ul></div><div class=f-link><div class=link-go><a href=https://www.egovframe.go.kr/ class="krds-btn medium text" target=_blank title="새 창 열림">전자정부 표준프레임워크 <i class="svg-icon ico-go"></i></a>
<a href=https://github.com/eGovFramework/egovframe-docs class="krds-btn medium text" target=_blank title="새 창 열림">Git <i class="svg-icon ico-go"></i></a></div></div></div><div class=f-btm><div class=f-btm-text><div class=f-menu><a href="https://github.com/eGovFramework/egovframe-docs?tab=readme-ov-file" class="krds-btn small text">이용 안내</a>
<a href="https://www.egovframe.go.kr/home/sub.do?menuNo=23" class="krds-btn small text">라이센스</a></div><p class=f-copy>COPYRIGHT (C) 2024 eGovFramework. ALL RIGHTS RESERVED.</p></div></div></div></footer></body></html>